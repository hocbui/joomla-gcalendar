/*

 FullCalendar v1.4.8-IE9
 http://arshaw.com/fullcalendar/

 with some adaptations for joomla gcalendar component
 http://github.com/tpruvot/fullcalendar

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2010 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Sun Sep 19 16:11:23 2010 +0200

*/
(function(l,X){function hb(a){l.extend(true,Sa,a)}function Db(a,b,h){function e(f){if(ia){F();aa();R();G(f)}else i()}function i(){ya=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");ia=l("<div class='fc-content "+ya+"-widget-content' style='position:relative'/>").prependTo(a);qa=new Eb(n,b);(ta=qa.render())&&a.prepend(ta);w(b.defaultView);l(window).resize(x);t()||s()}function s(){setTimeout(function(){!E.start&&t()&&G()},0)}function j(){l(window).unbind("resize",
x);qa.destroy();ia.remove();a.removeClass("fc fc-rtl fc-ui-widget")}function m(){return ca.offsetWidth!==0}function t(){return l("body")[0].offsetWidth!==0}function w(f){if(!E||f!=E.name){g++;K();var q=E,H;if(q){if(q.eventsChanged){R();q.eventDirty=q.eventsChanged=false}(q.beforeHide||ib)();Ta(ia,La(ia));q.element.hide()}else Ta(ia,1);ia.css("overflow","hidden");if(E=ja[f])E.element.show();else E=ja[f]=new Ia[f](H=wa=l("<div class='fc-view fc-view-"+f+"' style='position:absolute'/>").appendTo(ia),
n);q&&qa.deactivateButton(q.name);qa.activateButton(f);G();ia.css("overflow","");q&&Ta(ia,1);H||(E.afterShow||ib)();g--}}function G(f){if(m()){g++;K();na===X&&F();if(!E.start||f||o<E.start||o>=E.end){E.render(o,f||0);J(true);!b.lazyFetching||ka()?V():E.renderEvents(ea())}else if(E.sizeDirty||E.eventsDirty||!b.lazyFetching){E.clearEvents();E.sizeDirty&&J();!b.lazyFetching||ka()?V():E.renderEvents(ea())}la=a.outerWidth();E.sizeDirty=false;E.eventsDirty=false;qa.updateTitle(E.title);f=new Date;f>=E.start&&
f<E.end?qa.disableButton("today"):qa.enableButton("today");g--;E.trigger("viewDisplay",ca)}}function F(){na=b.contentHeight?b.contentHeight:b.height?b.height-Ua(ia[0])-(ta?La(ta):0):Math.round(Qa(ia)/Math.max(b.aspectRatio,0.5))}function J(f){g++;E.setHeight(na,f);if(wa){wa.css("position","relative");wa=null}E.setWidth(Qa(ia),f);g--}function x(){if(!g)if(E.start){var f=++d;setTimeout(function(){if(f==d&&!g&&m())if(la!=(la=a.outerWidth())){g++;N();E.trigger("windowResize",ca);g--}},200)}else s()}function N(){aa();
if(m()){F();J();K();E.rerenderEvents();E.sizeDirty=false}}function aa(){l.each(ja,function(f,q){q.sizeDirty=true})}function M(){R();if(m()){E.clearEvents();E.renderEvents(ea());E.eventsDirty=false}}function R(){l.each(ja,function(f,q){q.eventsDirty=true})}function V(){W(function(f){E.renderEvents(f)})}function fa(f,q,H){E.select(f,q,H===X?true:H)}function K(){E&&E.unselect()}function S(){G(-1)}function u(){G(1)}function A(){Va(o,-1);G()}function O(){Va(o,1);G()}function c(){o=new Date;G()}function k(f,
q,H){if(f instanceof Date)o=y(f);else jb(o,f,q,H);G()}function B(f,q,H){f!==X&&Va(o,f);q!==X&&Wa(o,q);H!==X&&L(o,H);G()}function C(){return y(o)}function T(){return E}function Y(f,q){if(q===X)return b[f];if(f=="height"||f=="contentHeight"||f=="aspectRatio"){b[f]=q;N()}}function r(f,q){if(b[f])return b[f].apply(q||ca,Array.prototype.slice.call(arguments,2))}var n=this;n.options=b;n.render=e;n.destroy=j;n.changeView=w;n.select=fa;n.unselect=K;n.rerenderEvents=M;n.prev=S;n.next=u;n.prevYear=A;n.nextYear=
O;n.today=c;n.gotoDate=k;n.incrementDate=B;n.formatDate=function(f,q){return Ma(f,q,b)};n.formatDates=function(f,q,H){return Xa(f,q,H,b)};n.getDate=C;n.getView=T;n.option=Y;n.trigger=r;Fb.call(n,b,h);var W=n.fetchEvents,ka=n.isFetchNeeded,ea=n.clientEvents,ca=a[0],qa,ta,ia,ya,E,ja={},la,na,wa,d=0,g=0,o=new Date;jb(o,b.year,b.month,b.date);var v;b.droppable&&l(document).bind("dragstart",function(f,q){var H=f.target,Q=l(H);if(!Q.parents(".fc").length){var P=b.dropAccept;if(l.isFunction(P)?P.call(H,
Q):Q.is(P)){v=H;E.dragStart(v,f,q)}}}).bind("dragstop",function(f,q){if(v){E.dragStop(v,f,q);v=null}})}function Eb(a,b){function h(){J=b.theme?"ui":"fc";var x=b.header;if(x)return F=l("<table class='fc-header'/>").append(l("<tr/>").append(l("<td class='fc-header-left'/>").append(i(x.left))).append(l("<td class='fc-header-center'/>").append(i(x.center))).append(l("<td class='fc-header-right'/>").append(i(x.right))))}function e(){F.remove()}function i(x){if(x){var N=l("<tr/>");l.each(x.split(" "),function(aa){aa>
0&&N.append("<td><span class='fc-header-space'/></td>");var M;l.each(this.split(","),function(R,V){if(V=="title"){N.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");M&&M.addClass(J+"-corner-right");M=null}else{var fa;if(a[V])fa=a[V];else if(Ia[V])fa=function(){K.removeClass(J+"-state-hover");a.changeView(V)};if(fa){M&&M.addClass(J+"-no-right");var K;R=b.theme?Ya(b.buttonIcons,V):null;var S=Ya(b.buttonText,V);if(R)K=l("<div class='fc-button-"+V+" ui-state-default'><a><span class='ui-icon ui-icon-"+
R+"'/></a></div>");else if(S)K=l("<div class='fc-button-"+V+" "+J+"-state-default'><a><span>"+S+"</span></a></div>");if(K){K.click(function(){K.hasClass(J+"-state-disabled")||fa()}).mousedown(function(){K.not("."+J+"-state-active").not("."+J+"-state-disabled").addClass(J+"-state-down")}).mouseup(function(){K.removeClass(J+"-state-down")}).hover(function(){K.not("."+J+"-state-active").not("."+J+"-state-disabled").addClass(J+"-state-hover")},function(){K.removeClass(J+"-state-hover").removeClass(J+
"-state-down")}).appendTo(l("<td/>").appendTo(N));M?M.addClass(J+"-no-right"):K.addClass(J+"-corner-left");M=K}}}});M&&M.addClass(J+"-corner-right")});return l("<table/>").append(N)}}function s(x){F.find("h2.fc-header-title").html(x)}function j(x){F.find("div.fc-button-"+x).addClass(J+"-state-active")}function m(x){F.find("div.fc-button-"+x).removeClass(J+"-state-active")}function t(x){F.find("div.fc-button-"+x).addClass(J+"-state-disabled")}function w(x){F.find("div.fc-button-"+x).removeClass(J+
"-state-disabled")}var G=this;G.render=h;G.destroy=e;G.updateTitle=s;G.activateButton=j;G.deactivateButton=m;G.disableButton=t;G.enableButton=w;var F=l([]),J}function Fb(a,b){function h(c){b.indexOf(c)<0&&b.push(c)}function e(c){h(c);j(c,K)}function i(c){var k=typeof b[0]=="object"?b.slice(0,1):[];if(c){b=l.grep(b,function(B){return B!=c});A=l.grep(A,function(B){return B.source!=c})}else A=b=[];b=k.concat(b);K()}function s(c){var k=V();A=[];S=y(k.visStart);u=y(k.visEnd);var B=b.length;k=function(){--B||
c&&c(A)};for(var C=0;C<b.length;C++)j(b[C],k)}function j(c,k){var B=V(),C=R(),T=function(n){if(B==V()&&+C==+R()&&l.inArray(c,b)!=-1){for(var W=0;W<n.length;W++){aa(n[W]);n[W].source=c}A=A.concat(n);k&&k(n)}},Y=function(n){T(n);N()};if(typeof c=="string"){var r={};r[a.startParam]=Math.round(S.getTime()/1E3);r[a.endParam]=Math.round(u.getTime()/1E3);r.browserTimezone=S.getTimezoneOffset();if(a.cacheParam)r[a.cacheParam]=(new Date).getTime();x();l.ajax({url:c,dataType:"json",data:r,cache:a.cacheParam||
false,success:Y})}else if(l.isFunction(c)){x();c(y(S),y(u),Y)}else c&&T(c)}function m(){s(K)}function t(){var c=V();return!S||c.visStart<S||c.visEnd>u}function w(c){var k,B=A.length,C,T=V().defaultEventEnd,Y=c.start-c._start,r=c.end?c.end-(c._end||T(c)):0;for(k=0;k<B;k++){C=A[k];if(C._id==c._id&&C!=c){C.start=new Date(+C.start+Y);C.end=c.end?C.end?new Date(+C.end+r):new Date(+T(C)+r):null;C.title=c.title;C.url=c.url;C.allDay=c.allDay;C.className=c.className;C.editable=c.editable;C.resizable=c.resizable;
C.color=c.color;aa(C)}}aa(c);K()}function G(c,k){aa(c);if(!c.source){if(k)(c.source=b[0]).push(c);A.push(c)}K()}function F(c){if(c){if(!l.isFunction(c)){var k=c+"";c=function(C){return C._id==k}}A=l.grep(A,c,true);for(B=0;B<b.length;B++)if(typeof b[B]=="object")b[B]=l.grep(b[B],c,true)}else{A=[];for(var B=0;B<b.length;B++)if(typeof b[B]=="object")b[B]=[]}K()}function J(c){if(l.isFunction(c))return l.grep(A,c);else if(c){c+="";return l.grep(A,function(k){return k._id==c})}return A}function x(){O++||
fa("loading",null,true)}function N(){--O||fa("loading",null,false)}function aa(c){c._id=c._id||(c.id===X?"_fc"+Gb++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=y(c.start=Za(c.start));c.end=Za(c.end);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?y(c.end):null;if(c.allDay===X)c.allDay=a.allDayDefault;if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}var M=this;M.fetchEvents=s;M.refetchEvents=m;M.isFetchNeeded=t;M.addEventSource=
e;M.addEventSourceFast=h;M.removeEventSource=i;M.updateEvent=w;M.renderEvent=G;M.removeEvents=F;M.clientEvents=J;M.normalizeEvent=aa;var R=M.getDate,V=M.getView,fa=M.trigger,K=M.rerenderEvents,S,u,A=[],O=0;b.unshift([])}function Hb(a,b){function h(m,t){if(t){Wa(m,t);m.setDate(1)}m=y(m,true);m.setDate(1);t=Wa(y(m),1);var w=y(m),G=y(t),F=i("firstDay"),J=i("weekends")?0:1;if(J){ua(w);ua(G,-1,true)}L(w,-((w.getDay()-Math.max(F,J)+7)%7));L(G,(7-G.getDay()+Math.max(F,J))%7);F=Math.round((G-w)/(kb*7));if(i("weekMode")==
"fixed"){L(G,(6-F)*7);F=6}e.title=j(m,i("titleFormat"));e.start=m;e.end=t;e.visStart=w;e.visEnd=G;s(F,J?5:7,true)}var e=this;e.render=h;$a.call(e,a,b,"month");var i=e.opt,s=e.renderBasic,j=b.formatDate}function Ib(a,b){function h(m,t){t&&L(m,t*7);m=L(y(m),-((m.getDay()-i("firstDay")+7)%7));t=L(y(m),7);var w=y(m),G=y(t),F=i("weekends");if(!F){ua(w);ua(G,-1,true)}e.title=j(w,L(y(G),-1),i("titleFormat"));e.start=m;e.end=t;e.visStart=w;e.visEnd=G;s(1,F?7:5,false)}var e=this;e.render=h;$a.call(e,a,b,"basicWeek");
var i=e.opt,s=e.renderBasic,j=b.formatDates}function Jb(a,b){function h(m,t){if(t){L(m,t);i("weekends")||ua(m,t<0?-1:1)}e.title=j(m,i("titleFormat"));e.start=e.visStart=y(m,true);e.end=e.visEnd=L(y(e.start),1);s(1,1,false)}var e=this;e.render=h;$a.call(e,a,b,"basicDay");var i=e.opt,s=e.renderBasic,j=b.formatDate}function $a(a,b,h){function e(d,g,o){ea=d;ca=g;if(Y=A("isRTL")){r=-1;n=ca-1}else{r=1;n=0}W=A("firstDay");ka=A("weekends")?0:1;var v=A("theme")?"ui":"fc",f=A("columnFormat"),q=u.start.getMonth(),
H=Ja(new Date),Q,P=y(u.visStart);if(E){c();g=E.find("tr").length;if(ea<g)E.find("tr:gt("+(ea-1)+")").remove();else if(ea>g){d="";for(g=g;g<ea;g++){d+="<tr class='fc-week"+g+"'>";for(Q=0;Q<ca;Q++){d+="<td class='fc-"+Ea[P.getDay()]+" "+v+"-state-default fc-new fc-day"+(g*ca+Q)+(Q==n?" fc-leftmost":"")+"'>"+(o?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";L(P,1);ka&&ua(P)}d+="</tr>"}E.append(d)}j(E.find("td.fc-new").removeClass("fc-new"));
P=y(u.visStart);E.find("td").each(function(){var ga=l(this);if(ea>1)P.getMonth()==q?ga.removeClass("fc-other-month"):ga.addClass("fc-other-month");if(+P==+H)ga.removeClass("fc-not-today").removeClass("fc-before-today").addClass("fc-today").addClass(v+"-state-highlight");else+P<+H?ga.addClass("fc-before-today").addClass("fc-not-today").removeClass(v+"-state-highlight"):ga.addClass("fc-not-today").removeClass("fc-before-today").removeClass("fc-today").removeClass(v+"-state-highlight");ga.find("div.fc-day-number").text(P.getDate());
L(P,1);ka&&ua(P)});if(ea==1){P=y(u.visStart);ya.find("th").each(function(ga,da){l(da).text(T(P,f));da.className=da.className.replace(/^fc-\w+(?= )/,"fc-"+Ea[P.getDay()]);L(P,1);ka&&ua(P)});P=y(u.visStart);E.find("td").each(function(ga,da){da.className=da.className.replace(/^fc-\w+(?= )/,"fc-"+Ea[P.getDay()]);L(P,1);ka&&ua(P)})}}else{var Z=l("<table/>").appendTo(a);d="<thead><tr>";for(g=0;g<ca;g++){d+="<th class='fc-"+Ea[P.getDay()]+" "+v+"-state-default"+(g==n?" fc-leftmost":"")+"'>"+T(P,f)+"</th>";
L(P,1);ka&&ua(P)}ya=l(d+"</tr></thead>").appendTo(Z);d="<tbody>";P=y(u.visStart);for(g=0;g<ea;g++){d+="<tr class='fc-week"+g+"'>";for(Q=0;Q<ca;Q++){d+="<td class='fc-"+Ea[P.getDay()]+" "+v+"-state-default fc-day"+(g*ca+Q)+(Q==n?" fc-leftmost":"")+(ea>1&&P.getMonth()!=q?" fc-other-month":"")+(+P==+H?" fc-today "+v+"-state-highlight":+P<+H?" fc-before-today fc-not-today":" fc-not-today")+"'>"+(o?"<div class='fc-day-number'>"+P.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";
L(P,1);ka&&ua(P)}d+="</tr>"}E=l(d+"</tbody>").appendTo(Z);j(E.find("td"));ja=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}}function i(d){ia=d;d=E.find("tr td:first-child");var g=ia-ya.outerHeight(),o;if(A("weekMode")=="variable")o=g=Math.floor(g/(ea==1?2:6));else{o=Math.floor(g/ea);g=g-o*(ea-1)}if(ab===X){var v=E.find("tr:first").find("td:first");Ka(v,o);ab=o!=v.outerHeight()}if(ab){d.slice(0,-1).height(o);d.slice(-1).height(g)}else{Ka(d.slice(0,-1),o);Ka(d.slice(-1),g)}}
function s(d){ta=d;wa.clear();qa=Math.floor(ta/ca);Aa(ya.find("th").slice(0,-1),qa)}function j(d){d.click(m).mousedown(C)}function m(d){if(!A("selectable")){var g=parseInt(this.className.match(/fc\-day(\d+)/)[1]);g=L(y(u.visStart),Math.floor(g/ca)*7+g%ca);O("dayClick",this,g,true,d)}}function t(d,g,o){o&&la.build();o=y(u.visStart);for(var v=L(y(o),ca),f=0;f<ea;f++){var q=new Date(Math.max(o,d)),H=new Date(Math.min(v,g));if(q<H){var Q;if(Y){Q=Fa(H,o)*r+n+1;q=Fa(q,o)*r+n+1}else{Q=Fa(q,o);q=Fa(H,o)}j(w(f,
Q,f,q-1))}L(o,7);L(v,7)}}function w(d,g,o,v){d=la.rect(d,g,o,v,a);return k(d,a)}function G(d){return y(d)}function F(d,g){t(d,L(y(g),1),true)}function J(){B()}function x(d,g){na.start(function(o){B();o&&w(o.row,o.col,o.row,o.col)},g)}function N(d,g,o){var v=na.stop();B();if(v){v=fa(v);O("drop",d,v,true,g,o)}}function aa(d){return y(d.start)}function M(d){return wa.left(d)}function R(d){return wa.right(d)}function V(d){return(d-Math.max(W,ka)+ca)%ca}function fa(d){return L(y(u.visStart),d.row*7+d.col*
r+n)}function K(d){return E.find("tr:eq("+d+")")}function S(){return{left:0,right:ta}}var u=this;u.renderBasic=e;u.setHeight=i;u.setWidth=s;u.renderDayOverlay=t;u.defaultSelectionEnd=G;u.renderSelection=F;u.clearSelection=J;u.dragStart=x;u.dragStop=N;u.defaultEventEnd=aa;u.getHoverListener=function(){return na};u.colContentLeft=M;u.colContentRight=R;u.dayOfWeekCol=V;u.cellDate=fa;u.cellIsAllDay=function(){return true};u.allDayTR=K;u.allDayBounds=S;u.getRowCnt=function(){return ea};u.getColCnt=function(){return ca};
u.getColWidth=function(){return qa};u.getDaySegmentContainer=function(){return ja};lb.call(u,a,b,h);mb.call(u);nb.call(u);Kb.call(u);var A=u.opt,O=u.trigger,c=u.clearEvents,k=u.renderOverlay,B=u.clearOverlays,C=u.daySelectionMousedown,T=b.formatDate,Y,r,n,W,ka,ea,ca,qa,ta,ia,ya,E,ja,la,na,wa;ob(a.addClass("fc-grid"));la=new pb(function(d,g){var o,v,f,q=E.find("tr:first td");if(Y)q=l(q.get().reverse());q.each(function(H,Q){o=l(Q);v=o.offset().left;if(H)f[1]=v;f=[v];g[H]=f});f[1]=v+o.outerWidth();E.find("tr").each(function(H,
Q){o=l(Q);v=o.offset().top;if(H)f[1]=v;f=[v];d[H]=f});f[1]=v+o.outerHeight()});na=new qb(la);wa=new rb(function(d){return E.find("td:eq("+d+") div div")})}function Kb(){function a(O){w(A=O);S(e(O))}function b(O){h();S(e(A),O)}function h(){G();aa().empty()}function e(O){var c=fa(),k=K(),B=y(j.visStart);k=L(y(B),k);var C=l.map(O,Ra),T,Y,r,n,W,ka,ea=[];for(T=0;T<c;T++){Y=bb(cb(O,C,B,k));for(r=0;r<Y.length;r++){n=Y[r];for(W=0;W<n.length;W++){ka=n[W];ka.row=T;ka.level=r;ea.push(ka)}}L(B,7);L(k,7)}return ea}
function i(O,c,k){F(O,c);if(O.editable||O.editable===X&&m("editable")){s(O,c);k.isEnd&&u(O,c)}}function s(O,c){if(!m("disableDragging")&&c.draggable){var k=M(),B;c.draggable({zIndex:9,delay:50,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(C,T){t("eventDragStart",c,O,C,T);x(O,c);k.start(function(Y,r,n,W){c.draggable("option","revert",!Y||!n&&!W);V();if(Y){B=n*7+W*(m("isRTL")?-1:1);R(L(y(O.start),B),L(Ra(O),B))}else B=0},C,"drag")},stop:function(C,T){k.stop();V();t("eventDragStop",
c,O,C,T);if(B){c.find("a").removeAttr("href");N(this,O,B,0,O.allDay,C,T)}else{l.browser.msie&&c.css("filter","");J(O,c)}}})}}var j=this;j.renderEvents=a;j.rerenderEvents=b;j.clearEvents=h;j.bindDaySeg=i;sb.call(j);var m=j.opt,t=j.trigger,w=j.reportEvents,G=j.clearEventData,F=j.eventElementHandlers,J=j.showEvents,x=j.hideEvents,N=j.eventDrop,aa=j.getDaySegmentContainer,M=j.getHoverListener,R=j.renderDayOverlay,V=j.clearOverlays,fa=j.getRowCnt,K=j.getColCnt,S=j.renderDaySegs,u=j.resizableDayEvent,A=
[]}function Lb(a,b){function h(m,t){t&&L(m,t*7);m=L(y(m),-((m.getDay()-i("firstDay")+7)%7));t=L(y(m),7);var w=y(m),G=y(t),F=i("weekends");if(!F){ua(w);ua(G,-1,true)}e.title=j(w,L(y(G),-1),i("titleFormat"));e.start=m;e.end=t;e.visStart=w;e.visEnd=G;s(F?7:5)}var e=this;e.render=h;tb.call(e,a,b,"agendaWeek");var i=e.opt,s=e.renderAgenda,j=b.formatDates}function Mb(a,b){function h(m,t){if(t){L(m,t);i("weekends")||ua(m,t<0?-1:1)}t=y(m,true);var w=L(y(t),1);e.title=j(m,i("titleFormat"));e.start=e.visStart=
t;e.end=e.visEnd=w;s(1)}var e=this;e.render=h;tb.call(e,a,b,"agendaDay");var i=e.opt,s=e.renderAgenda,j=b.formatDate}function tb(a,b,h){function e(p){g=p;Z=n("theme")?"ui":"fc";da=n("weekends")?0:1;ga=n("firstDay");if(ra=n("isRTL")){$=-1;U=g-1}else{$=1;U=0}oa=db(n("minTime"));ha=db(n("maxTime"));p=ra?L(y(r.visEnd),-1):y(r.visStart);var z=y(p),D=Ja(new Date),I=n("columnFormat");if(ja){ka();ja.find("tr:first th").slice(1,-1).each(function(Na,xa){l(xa).text(E(z,I));xa.className=xa.className.replace(/^fc-\w+(?= )/,
"fc-"+Ea[z.getDay()]);L(z,$);da&&ua(z,$)});z=y(p);d.find("td").each(function(Na,xa){xa.className=xa.className.replace(/^fc-\w+(?= )/,"fc-"+Ea[z.getDay()]);if(+z==+D)l(xa).removeClass("fc-not-today").removeClass("fc-before-today").addClass("fc-today").addClass(Z+"-state-highlight");else+z<+D?l(xa).addClass("fc-before-today").addClass("fc-not-today").removeClass(Z+"-state-highlight"):l(xa).addClass("fc-not-today").removeClass("fc-today").removeClass("fc-before-today").removeClass(Z+"-state-highlight");
L(z,$);da&&ua(z,$)})}else{var ba,va,Ga=n("slotMinutes")%15==0,pa="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(n("allDaySlot")?"":" fc-last")+"'><th class='fc-leftmost "+Z+"-state-default'>&nbsp;</th>";for(ba=0;ba<g;ba++){pa+="<th class='fc-"+Ea[z.getDay()]+" "+Z+"-state-default'>"+E(z,I)+"</th>";L(z,$);da&&ua(z,$)}pa+="<th class='"+Z+"-state-default'>&nbsp;</th></tr>";if(n("allDaySlot"))pa+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+
Z+"-state-default'>"+n("allDayText")+"</th><td colspan='"+g+"' class='"+Z+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+Z+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(g+2)+"' class='"+Z+"-state-default fc-leftmost'><div/></th></tr>";pa+="</table></div>";ja=l(pa).appendTo(a);w(ja.find("td"));ub=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ja);z=vb();var eb=sa(y(z),ha);sa(z,
oa);pa="<table>";for(ba=0;z<eb;ba++){va=z.getMinutes();pa+="<tr class='"+(!ba?"fc-first":!va?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+Z+"-state-default'>"+(!Ga||!va?E(z,n("axisFormat")):"&nbsp;")+"</th><td class='fc-slot"+ba+" "+Z+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";sa(z,n("slotMinutes"));o++}pa+="</table>";la=l("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(na=l("<div style='position:relative;overflow:hidden'>").append(wa=
l(pa))).appendTo(a);G(la.find("td"));wb=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(na);z=y(p);pa="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(ba=0;ba<g;ba++){pa+="<td class='fc-"+Ea[z.getDay()]+" "+Z+"-state-default "+(!ba?"fc-leftmost ":"")+(+z==+D?Z+"-state-highlight fc-today":+z<+D?" fc-before-today fc-not-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";
L(z,$);da&&ua(z,$)}pa+="</tr></table></div>";d=l(pa).appendTo(a)}}function i(p,z){if(p===X)p=Q;Q=p;Ba={};Ka(la,p-La(ja));q=La(la.find("tr:first div"))+1;d.css({top:ja.find("tr").outerHeight(),height:p});z&&j()}function s(p){H=p;Ca.clear();Aa(la,p);wa.width("");p=ja.find("tr:first th");var z=d.find("td"),D=la[0].clientWidth;Aa(wa,D);v=0;var I=ja.find("tr:lt(2) th:first").add(la.find("tr:first th"));I.width("");I.each(function(){v=Math.max(v,l(this).outerWidth())});Aa(I,v);f=Math.floor((D-v)/g);Aa(z.slice(0,
-1),f);Aa(p.slice(1,-2),f);Aa(p.slice(-2,-1),D-v-f*(g-1));d.css({left:v,width:D-v})}function j(){var p=vb(),z=y(p);z.setHours(n("firstHour"));var D=V(p,z)+1;p=function(){la.scrollTop(D)};p();setTimeout(p,0)}function m(){P=la.scrollTop()}function t(){la.scrollTop(P)}function w(p){p.click(F).mousedown(ia)}function G(p){p.click(F).mousedown(C)}function F(p){if(!n("selectable")){var z=Math.min(g-1,Math.floor((p.pageX-d.offset().left)/f));z=L(y(r.visStart),z*$+U);var D=this.className.match(/fc-slot(\d+)/);
if(D){D=parseInt(D[1])*n("slotMinutes");var I=Math.floor(D/60);z.setHours(I);z.setMinutes(D%60+oa);W("dayClick",this,z,false,p)}else W("dayClick",this,z,true,p)}}function J(p,z,D){D&&ma.build();var I=y(r.visStart);if(ra){D=Fa(z,I)*$+U+1;p=Fa(p,I)*$+U+1}else{D=Fa(p,I);p=Fa(z,I)}D=Math.max(0,D);p=Math.min(g,p);D<p&&w(x(0,D,0,p-1))}function x(p,z,D,I){p=ma.rect(p,z,D,I,ja);return ea(p,ja)}function N(p,z){for(var D=y(r.visStart),I=L(y(D),1),ba=0;ba<g;ba++){var va=new Date(Math.max(D,p)),Ga=new Date(Math.min(I,
z));if(va<Ga){var pa=ba*$+U;pa=ma.rect(0,pa,0,pa,na);va=V(D,va);Ga=V(D,Ga);pa.top=va;pa.height=Ga-va;G(ea(pa,na))}L(D,1);L(I,1)}}function aa(p){return v+Ca.left(p)}function M(p){return v+Ca.right(p)}function R(p){return(p-Math.max(ga,da)+g)%g*$+U}function V(p,z){p=y(p,true);if(z<sa(y(p),oa))return 0;if(z>=sa(y(p),ha))return La(na);p=n("slotMinutes");z=z.getHours()*60+z.getMinutes()-oa;var D=Math.floor(z/p),I=Ba[D];if(I===X)I=Ba[D]=la.find("tr:eq("+D+") td div")[0].offsetTop;return Math.max(0,Math.round(I-
1+q*(z%p/p)))}function fa(p){var z=L(y(r.visStart),p.col*$+U);p=p.row;n("allDaySlot")&&p--;p>=0&&sa(z,oa+p*n("slotMinutes"));return z}function K(p){return n("allDaySlot")&&!p.row}function S(){return{left:v,right:H}}function u(){return ja.find("tr.fc-all-day")}function A(p){var z=y(p.start);if(p.allDay)return z;return sa(z,n("defaultEventMinutes"))}function O(p,z){if(z)return y(p);return sa(y(p),n("slotMinutes"))}function c(p,z,D){if(D)n("allDaySlot")&&J(p,L(y(z),1),true);else k(p,z)}function k(p,
z){var D=n("selectHelper");ma.build();if(D){var I=Fa(p,r.visStart)*$+U;if(I>=0&&I<g){I=ma.rect(0,I,0,I,na);var ba=V(p,p),va=V(p,z);if(va>ba){I.top=ba;I.height=va-ba;I.left+=2;I.width-=5;if(l.isFunction(D)){if(p=D(p,z)){I.position="absolute";I.zIndex=8;za=l(p).css(I).appendTo(na)}}else{za=l(ya({title:"",start:p,end:z,className:[],editable:false},I,"fc-event fc-event-vert fc-corner-top fc-corner-bottom "));l.browser.msie&&za.find("span.fc-event-bg").hide();za.css("opacity",n("dragOpacity"))}if(za){G(za);
na.append(za);Aa(za,I.width,true);Ka(za,I.height,true)}}}}else N(p,z)}function B(){ca();if(za){za.remove();za=null}}function C(p){if(n("selectable")){ta(p);var z=this,D;Da.start(function(I,ba){B();if(I&&I.col==ba.col&&!K(I)){ba=fa(ba);I=fa(I);D=[ba,sa(y(ba),n("slotMinutes")),I,sa(y(I),n("slotMinutes"))].sort(xb);k(D[0],D[3])}else D=null},p);l(document).one("mouseup",function(I){Da.stop();if(D){+D[0]==+D[1]&&W("dayClick",z,D[0],false,I);qa(D[0],D[3],false,I)}})}}function T(p,z){Da.start(function(D){ca();
if(D)if(K(D))x(D.row,D.col,D.row,D.col);else{D=fa(D);var I=sa(y(D),n("defaultEventMinutes"));N(D,I)}},z)}function Y(p,z,D){var I=Da.stop();ca();I&&W("drop",p,fa(I),K(I),z,D)}var r=this;r.renderAgenda=e;r.setWidth=s;r.setHeight=i;r.beforeHide=m;r.afterShow=t;r.defaultEventEnd=A;r.timePosition=V;r.dayOfWeekCol=R;r.cellDate=fa;r.cellIsAllDay=K;r.allDayTR=u;r.allDayBounds=S;r.getHoverListener=function(){return Da};r.colContentLeft=aa;r.colContentRight=M;r.getDaySegmentContainer=function(){return ub};
r.getSlotSegmentContainer=function(){return wb};r.getMinMinute=function(){return oa};r.getMaxMinute=function(){return ha};r.getBodyContent=function(){return na};r.getRowCnt=function(){return 1};r.getColCnt=function(){return g};r.getColWidth=function(){return f};r.getSlotHeight=function(){return q};r.defaultSelectionEnd=O;r.renderDayOverlay=J;r.renderSelection=c;r.clearSelection=B;r.dragStart=T;r.dragStop=Y;lb.call(r,a,b,h);mb.call(r);nb.call(r);Nb.call(r);var n=r.opt,W=r.trigger,ka=r.clearEvents,
ea=r.renderOverlay,ca=r.clearOverlays,qa=r.reportSelection,ta=r.unselect,ia=r.daySelectionMousedown,ya=r.slotSegHtml,E=b.formatDate,ja,la,na,wa,d,g,o=0,v,f,q,H,Q,P,Z,ga,da,ra,$,U,oa,ha,ma,Da,Ca,Ba={},za,ub,wb;ob(a.addClass("fc-agenda"));ma=new pb(function(p,z){function D(xa){return Math.max(pa,Math.min(eb,xa))}var I,ba,va;d.find("td").each(function(xa,Ob){I=l(Ob);ba=I.offset().left;if(xa)va[1]=ba;va=[ba];z[xa]=va});va[1]=ba+I.outerWidth();if(n("allDaySlot")){I=ja.find("td");ba=I.offset().top;p[0]=
[ba,ba+I.outerHeight()]}for(var Ga=na.offset().top,pa=la.offset().top,eb=pa+la.outerHeight(),Na=0;Na<o;Na++)p.push([D(Ga+q*Na),D(Ga+q*(Na+1))])});Da=new qb(ma);Ca=new rb(function(p){return d.find("td:eq("+p+") div div")})}function Nb(){function a(d,g){R(wa=d);var o,v=d.length,f=[],q=[];for(o=0;o<v;o++)d[o].allDay?f.push(d[o]):q.push(d[o]);if(N("allDaySlot")){T(e(f),g);K()}j(i(q),g)}function b(d){h();a(wa,d)}function h(){V();S().empty();u().empty()}function e(d){d=bb(cb(d,l.map(d,Ra),x.visStart,x.visEnd));
var g,o=d.length,v,f,q,H=[];for(g=0;g<o;g++){v=d[g];for(f=0;f<v.length;f++){q=v[f];q.row=0;q.level=g;H.push(q)}}return H}function i(d){var g=r(),o=c(),v=O(),f=sa(y(x.visStart),o),q=l.map(d,s),H,Q,P,Z,ga,da,ra=[];for(H=0;H<g;H++){Q=bb(cb(d,q,f,sa(y(f),v-o)));Pb(Q);for(P=0;P<Q.length;P++){Z=Q[P];for(ga=0;ga<Z.length;ga++){da=Z[ga];da.col=H;da.level=P;ra.push(da)}}L(f,1,true)}return ra}function s(d){return d.end?y(d.end):sa(y(d.start),N("defaultEventMinutes"))}function j(d,g){var o,v=d.length,f,q,H,
Q,P,Z,ga,da,ra,$,U="",oa,ha,ma={},Da={},Ca=u(),Ba;o=r();if(oa=N("isRTL")){ha=-1;Ba=o-1}else{ha=1;Ba=0}for(o=0;o<v;o++){f=d[o];q=f.event;H="fc-event fc-event-vert ";if(f.isStart)H+="fc-corner-top ";if(f.isEnd)H+="fc-corner-bottom ";Q=k(f.start,f.start);P=k(f.start,f.end);Z=f.col;ga=f.level;da=f.forward||0;ra=B(Z*ha+Ba);$=C(Z*ha+Ba)-ra;$=Math.min($-6,$*0.95);Z=ga?$/(ga+da+1):da?($/(da+1)-6)*2:$;ga=ra+$/(ga+da+1)*ga*ha+(oa?$-Z:0);f.top=Q;f.left=ga;f.outerWidth=Z;f.outerHeight=P-Q;U+=m(q,f,H)}Ca[0].innerHTML=
U;oa=Ca.children();for(o=0;o<v;o++){f=d[o];q=f.event;U=l(oa[o]);ha=aa("eventRender",q,q,U);if(ha===false)U.remove();else{if(ha&&ha!==true){U.remove();U=l(ha).css({position:"absolute",top:f.top,left:f.left}).appendTo(Ca)}f.element=U;if(q._id===g)w(q,U,f);else U[0]._fci=o;ea(q,U)}}yb(Ca,d,w);for(o=0;o<v;o++){f=d[o];if(U=f.element){q=ma[g=f.key=zb(U[0])];f.vsides=q===X?(ma[g]=Ua(U[0],true)):q;q=Da[g];f.hsides=q===X?(Da[g]=fb(U[0],true)):q;g=U.find("span.fc-event-title");if(g.length)f.titleTop=g[0].offsetTop}}for(o=
0;o<v;o++){f=d[o];if(U=f.element){U[0].style.width=f.outerWidth-f.hsides+"px";U[0].style.height=(ma=f.outerHeight-f.vsides)+"px";q=f.event;if(f.titleTop!==X&&ma-f.titleTop<10){U.find("span.fc-event-time").text(la(q.start,N("timeFormat"))+" - "+q.title);U.find("span.fc-event-title").remove()}aa("eventAfterRender",q,q,U)}}}function m(d,g,o){var v;if(d.color)v=";background-color:"+d.color+";border-color:"+d.color;return"<div class='"+o+d.className.join(" ")+"' style='position:absolute;z-index:8;top:"+
g.top+"px;left:"+g.left+"px'><a"+(d.url?" href='"+Oa(d.url)+"'":"")+(v?" style='"+v+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+Oa(na(d.start,d.end,N("timeFormat")))+"</span><span class='fc-event-title'>"+Oa(d.title)+"</span></a>"+((d.resizable||d.resizable===X)&&(d.editable||d.editable===X&&N("editable"))&&!N("disableResizing")&&l.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}function t(d,g,o){fa(d,g);if(d.editable||d.editable===
X&&N("editable")){G(d,g,o.isStart);o.isEnd&&Y(d,g,n())}}function w(d,g,o){fa(d,g);if(d.editable||d.editable===X&&N("editable")){var v=g.find("span.fc-event-time");F(d,g,v);o.isEnd&&J(d,g,v)}}function G(d,g,o){if(!N("disableDragging")&&g.draggable){var v,f=true,q,H=N("isRTL")?-1:1,Q=A(),P=n(),Z=W(),ga=c();g.draggable({zIndex:9,opacity:N("dragOpacity","month"),revertDuration:N("dragRevertDuration"),start:function(ra,$){aa("eventDragStart",g,d,ra,$);qa(d,g);v=Qa(g);Q.start(function(U,oa,ha,ma){g.draggable("option",
"revert",!U||!ha&&!ma);E();if(U){q=ma*H;if(U.row){if(o&&f){Aa(g,P-10);Ka(g,Z*Math.round((d.end?(d.end-d.start)/Qb:N("defaultEventMinutes"))/N("slotMinutes")));g.draggable("option","grid",[P,1]);f=false}}else{ya(L(y(d.start),q),L(Ra(d),q));da()}}},ra,"drag")},stop:function(ra,$){var U=Q.stop();E();aa("eventDragStop",g,d,ra,$);if(U&&(!f||q)){g.find("a").removeAttr("href");U=0;f||(U=Math.round((g.offset().top-ka().offset().top)/Z)*N("slotMinutes")+ga-(d.start.getHours()*60+d.start.getMinutes()));ta(this,
d,q,U,f,ra,$)}else{da();l.browser.msie&&g.css("filter","");ca(d,g)}}});function da(){if(!f){Aa(g,v);g.height("");g.draggable("option","grid",null);f=true}}}}function F(d,g,o){if(!N("disableDragging")&&g.draggable){var v,f=false,q,H,Q,P=N("isRTL")?-1:1,Z=A(),ga=r(),da=n(),ra=W();g.draggable({zIndex:9,scroll:false,grid:[da,ra],axis:ga==1?"y":false,opacity:N("dragOpacity"),revertDuration:N("dragRevertDuration"),start:function(oa,ha){aa("eventDragStart",g,d,oa,ha);qa(d,g);l.browser.msie&&g.find("span.fc-event-bg").hide();
v=g.position();H=Q=0;Z.start(function(ma,Da,Ca,Ba){g.draggable("option","revert",!ma);E();if(ma){q=Ba*P;if(N("allDaySlot")&&!ma.row){if(!f){f=true;o.hide();g.draggable("option","grid",null)}ya(L(y(d.start),q),L(Ra(d),q))}else U()}},oa,"drag")},drag:function(oa,ha){H=Math.round((ha.position.top-v.top)/ra)*N("slotMinutes");if(H!=Q){f||$(H);Q=H}},stop:function(oa,ha){var ma=Z.stop();E();aa("eventDragStop",g,d,oa,ha);if(ma&&(q||H||f))ta(this,d,q,f?0:H,f,oa,ha);else{U();g.css(v);$(0);l.browser.msie&&g.css("filter",
"").find("span.fc-event-bg").css("display","");ca(d,g)}}});function $(oa){var ha=sa(y(d.start),oa),ma;if(d.end)ma=sa(y(d.end),oa);o.text(na(ha,ma,N("timeFormat")))}function U(){if(f){o.css("display","");g.draggable("option","grid",[da,ra]);f=false}}}}function J(d,g,o){if(!N("disableResizing")&&g.resizable){var v,f,q=W();g.resizable({handles:{s:"div.ui-resizable-s"},grid:q,start:function(H,Q){v=f=0;qa(d,g);l.browser.msie&&l.browser.version=="6.0"&&g.css("overflow","hidden");g.css("z-index",9);aa("eventResizeStart",
this,d,H,Q)},resize:function(H,Q){v=Math.round((Math.max(q,La(g))-Q.originalSize.height)/q);if(v!=f){o.text(na(d.start,!v&&!d.end?null:sa(M(d),N("slotMinutes")*v),N("timeFormat")));f=v}},stop:function(H,Q){aa("eventResizeStop",this,d,H,Q);if(v)ia(this,d,0,N("slotMinutes")*v,H,Q);else{g.css("z-index",8);ca(d,g)}}})}}var x=this;x.renderEvents=a;x.rerenderEvents=b;x.clearEvents=h;x.slotSegHtml=m;x.bindDaySeg=t;sb.call(x);var N=x.opt,aa=x.trigger,M=x.eventEnd,R=x.reportEvents,V=x.clearEventData,fa=x.eventElementHandlers,
K=x.setHeight,S=x.getDaySegmentContainer,u=x.getSlotSegmentContainer,A=x.getHoverListener,O=x.getMaxMinute,c=x.getMinMinute,k=x.timePosition,B=x.colContentLeft,C=x.colContentRight,T=x.renderDaySegs,Y=x.resizableDayEvent,r=x.getColCnt,n=x.getColWidth,W=x.getSlotHeight,ka=x.getBodyContent,ea=x.reportEventElement,ca=x.showEvents,qa=x.hideEvents,ta=x.eventDrop,ia=x.eventResize,ya=x.renderDayOverlay,E=x.clearOverlays,ja=x.calendar,la=ja.formatDate,na=ja.formatDates,wa=[]}function Pb(a){var b,h,e,i,s,j;
for(b=a.length-1;b>0;b--){i=a[b];for(h=0;h<i.length;h++){s=i[h];for(e=0;e<a[b-1].length;e++){j=a[b-1][e];if(Ab(s,j))j.forward=Math.max(j.forward||0,(s.forward||0)+1)}}}}function lb(a,b,h){function e(c,k){c=O[c];if(typeof c=="object")return Ya(c,k||h);return c}function i(c,k){return b.trigger.apply(b,[c,k||R].concat(Array.prototype.slice.call(arguments,2),[R]))}function s(c){S={};var k,B=c.length,C;for(k=0;k<B;k++){C=c[k];if(S[C._id])S[C._id].push(C);else S[C._id]=[C]}}function j(){u=[];A={}}function m(c){return c.end?
y(c.end):V(c)}function t(c,k){u.push(k);if(A[c._id])A[c._id].push(k);else A[c._id]=[k]}function w(c,k){k.click(function(B){if(!k.hasClass("ui-draggable-dragging")&&!k.hasClass("ui-resizable-resizing"))return i("eventClick",this,c,B)}).hover(function(B){i("eventMouseover",this,c,B)},function(B){i("eventMouseout",this,c,B)})}function G(c,k){J(c,k,"show")}function F(c,k){J(c,k,"hide")}function J(c,k,B){c=A[c._id];var C,T=c.length;for(C=0;C<T;C++)c[C][0]!=k[0]&&c[C][B]()}function x(c,k,B,C,T,Y,r){var n=
k.allDay,W=k._id;aa(S[W],B,C,T);i("eventDrop",c,k,B,C,T,function(){aa(S[W],-B,-C,n);K()},Y,r);R.eventsChanged=true;K(W)}function N(c,k,B,C,T,Y){var r=k._id;M(S[r],B,C);i("eventResize",c,k,B,C,function(){M(S[r],-B,-C);K()},T,Y);R.eventsChanged=true;K(r)}function aa(c,k,B,C){B=B||0;for(var T,Y=c.length,r=0;r<Y;r++){T=c[r];if(C!==X)T.allDay=C;sa(L(T.start,k,true),B);if(T.end)T.end=sa(L(T.end,k,true),B);fa(T,O)}}function M(c,k,B){B=B||0;for(var C,T=c.length,Y=0;Y<T;Y++){C=c[Y];C.end=sa(L(m(C),k,true),
B);fa(C,O)}}var R=this;R.element=a;R.calendar=b;R.name=h;R.opt=e;R.trigger=i;R.reportEvents=s;R.clearEventData=j;R.eventEnd=m;R.reportEventElement=t;R.eventElementHandlers=w;R.showEvents=G;R.hideEvents=F;R.eventDrop=x;R.eventResize=N;var V=R.defaultEventEnd,fa=b.normalizeEvent,K=b.rerenderEvents,S={},u=[],A={},O=b.options}function sb(){function a(K,S){var u=e("isRTL"),A,O=K.length,c,k,B,C,T,Y="",r,n={},W={},ka=[],ea=[];A=x();r=A.left;var ca=A.right,qa=w();G();var ta=R();for(A=0;A<O;A++){c=K[A];k=
c.event;B="fc-event fc-event-hori ";if(u){if(c.isStart)B+="fc-corner-right ";if(c.isEnd)B+="fc-corner-left ";C=c.isEnd?N(M(c.end.getDay()-1)):r;T=c.isStart?aa(M(c.start.getDay())):ca}else{if(c.isStart)B+="fc-corner-left ";if(c.isEnd)B+="fc-corner-right ";C=c.isStart?N(M(c.start.getDay())):r;T=c.isEnd?aa(M(c.end.getDay()-1)):ca}var ia;if(k.color)ia=";background-color:"+k.color+";border-color:"+k.color;Y+="<div class='"+B+k.className.join(" ")+"' style='position:absolute;z-index:8;left:"+C+"px'><a"+
(k.url?" href='"+Oa(k.url)+"'":"")+(ia?" style='"+ia+"'":"")+">"+(!k.allDay&&c.isStart?"<span class='fc-event-time'>"+Oa(fa(k.start,k.end,e("timeFormat")))+"</span>":"")+"<span class='fc-event-title'>"+Oa(k.title)+"</span></a>"+((k.resizable||k.resizable===X)&&(k.editable||k.editable===X&&e("editable"))&&!e("disableResizing")&&l.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(u?"w":"e")+"'></div>":"")+"</div>";c.left=C;c.outerWidth=T-C}ta[0].innerHTML=Y;Y=ta.children();for(A=0;A<O;A++){c=
K[A];u=l(Y[A]);k=c.event;r=i("eventRender",k,k,u);if(r===false)u.remove();else{if(r&&r!==true){u.remove();u=l(r).css({position:"absolute",left:c.left}).appendTo(ta)}c.element=u;if(k._id===S)V(k,u,c);else u[0]._fci=A;s(k,u)}}yb(ta,K,V);for(A=0;A<O;A++){c=K[A];if(u=c.element){k=n[S=c.key=zb(u[0])];c.hsides=k===X?(n[S]=fb(u[0],true)):k}}for(A=0;A<O;A++){c=K[A];if(u=c.element)u[0].style.width=c.outerWidth-c.hsides+"px"}for(A=0;A<O;A++){c=K[A];if(u=c.element){k=W[S=c.key];c.outerHeight=u[0].offsetHeight+
(k===X?(W[S]=Bb(u[0])):k)}}for(n=A=0;n<qa;n++){for(W=S=k=0;A<O&&(c=K[A]).row==n;){if(c.level!=S){W+=k;k=0;S++}k=Math.max(k,c.outerHeight||0);c.top=W;A++}ka[n]=J(n).find("td:first div.fc-day-content > div");Ka(ka[n],W+k)}for(n=0;n<qa;n++)ea[n]=ka[n][0].offsetTop;for(A=0;A<O;A++){c=K[A];if(u=c.element){u[0].style.top=ea[c.row]+c.top+"px";k=c.event;i("eventAfterRender",k,k,u)}}}function b(K,S){if(!e("disableResizing")&&S.resizable){var u=F();S.resizable({handles:e("isRTL")?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},
grid:u,minWidth:u/2,containment:h.element.parent().parent(),start:function(A,O){S.css("z-index",9);m(K,S);i("eventResizeStart",this,K,A,O)},stop:function(A,O){i("eventResizeStop",this,K,A,O);var c=Math.round((Qa(S)-O.originalSize.width)/u);if(c)t(this,K,c,0,A,O);else{S.css("z-index",8);j(K,S)}}})}}var h=this;h.renderDaySegs=a;h.resizableDayEvent=b;var e=h.opt,i=h.trigger,s=h.reportEventElement,j=h.showEvents,m=h.hideEvents,t=h.eventResize,w=h.getRowCnt,G=h.getColCnt,F=h.getColWidth,J=h.allDayTR,x=
h.allDayBounds,N=h.colContentLeft,aa=h.colContentRight,M=h.dayOfWeekCol,R=h.getDaySegmentContainer,V=h.bindDaySeg,fa=h.calendar.formatDates}function nb(){function a(F,J,x){b();J||(J=m(F,x));t(F,J,x);h(F,J,x)}function b(F){if(G){G=false;w();j("unselect",null,F)}}function h(F,J,x,N){G=true;j("select",null,F,J,x,N)}function e(F){var J=i.cellDate,x=i.cellIsAllDay,N=i.getHoverListener();if(s("selectable")){b(F);var aa=this,M;N.start(function(R,V){w();if(R&&x(R)){M=[J(V),J(R)].sort(xb);t(M[0],M[1],true)}else M=
null},F);l(document).one("mouseup",function(R){N.stop();if(M){+M[0]==+M[1]&&j("dayClick",aa,M[0],true,R);h(M[0],M[1],true,R)}})}}var i=this;i.select=a;i.unselect=b;i.reportSelection=h;i.daySelectionMousedown=e;var s=i.opt,j=i.trigger,m=i.defaultSelectionEnd,t=i.renderSelection,w=i.clearSelection,G=false;s("selectable")&&s("unselectAuto")&&l(document).mousedown(function(F){var J=s("unselectCancel");if(J)if(l(F.target).parents(J).length)return;b(F)})}function mb(){function a(s,j){var m=i.shift();m||
(m=l("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));m[0].parentNode!=j[0]&&m.appendTo(j);e.push(m.css(s).show());return m}function b(){for(var s;s=e.shift();)i.push(s.hide().unbind())}var h=this;h.renderOverlay=a;h.clearOverlays=b;var e=[],i=[]}function pb(a){var b=this,h,e;b.build=function(){h=[];e=[];a(h,e)};b.cell=function(i,s){var j=h.length,m=e.length,t,w=-1,G=-1;for(t=0;t<j;t++)if(s>=h[t][0]&&s<h[t][1]){w=t;break}for(t=0;t<m;t++)if(i>=e[t][0]&&i<e[t][1]){G=t;break}return w>=
0&&G>=0?{row:w,col:G}:null};b.rect=function(i,s,j,m,t){t=t.offset();return{top:h[i][0]-t.top,left:e[s][0]-t.left,width:e[m][1]-e[s][0],height:h[j][1]-h[i][0]}}}function qb(a){function b(m){m=a.cell(m.pageX,m.pageY);if(!m!=!j||m&&(m.row!=j.row||m.col!=j.col)){if(m){s||(s=m);i(m,s,m.row-s.row,m.col-s.col)}else i(m,s);j=m}}var h=this,e,i,s,j;h.start=function(m,t,w){i=m;s=j=null;a.build();b(t);e=w||"mousemove";l(document).bind(e,b)};h.stop=function(){l(document).unbind(e,b);return j}}function rb(a){function b(j){return e[j]=
e[j]||a(j)}var h=this,e={},i={},s={};h.left=function(j){return i[j]=i[j]===X?b(j).position().left:i[j]};h.right=function(j){return s[j]=s[j]===X?h.left(j)+Qa(b(j)):s[j]};h.clear=function(){e={};i={};s={}}}function Va(a,b,h){a.setFullYear(a.getFullYear()+b);h||Ja(a);return a}function Wa(a,b,h){if(+a){b=a.getMonth()+b;var e=y(a);e.setDate(1);e.setMonth(b);a.setMonth(b);for(h||Ja(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function L(a,b,h){if(+a){b=a.getDate()+b;var e=
y(a);e.setHours(9);e.setDate(b);a.setDate(b);h||Ja(a);gb(a,e)}return a}function gb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*Rb)}function sa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ja(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function y(a,b){if(b)return Ja(new Date(+a));return new Date(+a)}function vb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function ua(a,b,h){for(b=b||1;!a.getDay()||h&&a.getDay()==
1||!h&&a.getDay()==6;)L(a,b);return a}function Fa(a,b){return Math.round((y(a,true)-y(b,true))/kb)}function jb(a,b,h,e){if(b!==X&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(h!==X&&h!=a.getMonth()){a.setDate(1);a.setMonth(h)}e!==X&&a.setDate(e)}function Za(a){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+$/))return new Date(parseInt(a)*1E3);return Cb(a,true)||(a?new Date(a):null)}return null}function Cb(a,
b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!a)return null;var h=new Date(a[1],0,1),e=new Date(a[1],0,1,9,0),i=0;if(a[3]){h.setMonth(a[3]-1);e.setMonth(a[3]-1)}if(a[5]){h.setDate(a[5]);e.setDate(a[5])}gb(h,e);a[7]&&h.setHours(a[7]);a[8]&&h.setMinutes(a[8]);a[10]&&h.setSeconds(a[10]);a[12]&&h.setMilliseconds(Number("0."+a[12])*1E3);gb(h,e);if(!b){if(a[14]){i=Number(a[16])*60+Number(a[17]);i*=a[15]==
"-"?1:-1}i-=h.getTimezoneOffset()}return new Date(+h+i*60*1E3)}function db(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1]);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2]):0)}}function Ma(a,b,h){return Xa(a,null,b,h)}function Xa(a,b,h,e){e=e||Sa;var i=a,s=b,j,m=h.length,t,w,G,F="";for(j=0;j<m;j++){t=h.charAt(j);if(t=="'")for(w=j+1;w<m;w++){if(h.charAt(w)==
"'"){if(i){F+=w==j+1?"'":h.substring(j+1,w);j=w}break}}else if(t=="(")for(w=j+1;w<m;w++){if(h.charAt(w)==")"){j=Ma(i,h.substring(j+1,w),e);if(parseInt(j.replace(/\D/,"")))F+=j;j=w;break}}else if(t=="[")for(w=j+1;w<m;w++){if(h.charAt(w)=="]"){t=h.substring(j+1,w);j=Ma(i,t,e);if(j!=Ma(s,t,e))F+=j;j=w;break}}else if(t=="{"){i=b;s=a}else if(t=="}"){i=a;s=b}else{for(w=m;w>j;w--)if(G=Sb[h.substring(j,w)]){if(i)F+=G(i,e);j=w-1;break}if(w==j)if(i)F+=t}}return F}function Ra(a){return a.end?Tb(a.end,a.allDay):
L(y(a.start),1)}function Tb(a,b){a=y(a);return b||a.getHours()||a.getMinutes()?L(a,1):Ja(a)}function Ub(a,b){if(a.event.allDay&&!b.event.allDay)return-1;if(!a.event.allDay&&b.event.allDay)return 1;return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Ab(a,b){return a.end>b.start&&a.start<b.end}function cb(a,b,h,e){var i=[],s,j=a.length,m,t,w,G,F;for(s=0;s<j;s++){m=a[s];t=m.start;w=b[s];if(w>h&&t<e){if(t<h){t=y(h);G=false}else{t=t;G=true}if(w>e){w=y(e);F=false}else{w=w;F=true}i.push({event:m,
start:t,end:w,isStart:G,isEnd:F,msLength:w-t})}}return i.sort(Ub)}function bb(a){var b=[],h,e=a.length,i,s,j,m;for(h=0;h<e;h++){i=a[h];for(s=0;;){j=false;if(b[s])for(m=0;m<b[s].length;m++)if(Ab(b[s][m],i)){j=true;break}if(j)s++;else break}if(b[s])b[s].push(i);else b[s]=[i]}return b}function yb(a,b,h){a.unbind("mouseover").mouseover(function(e){for(var i=e.target,s;i!=this;){s=i;i=i.parentNode}if((i=s._fci)!==X){s._fci=X;s=b[i];h(s.event,s.element,s);l(e.target).trigger(e)}e.stopPropagation()})}function Aa(a,
b,h){a.each(function(e,i){i.style.width=b-fb(i,h)+"px"})}function Ka(a,b,h){a.each(function(e,i){i.style.height=b-Ua(i,h)+"px"})}function fb(a,b){return(parseFloat(l.curCSS(a,"paddingLeft",true))||0)+(parseFloat(l.curCSS(a,"paddingRight",true))||0)+(parseFloat(l.curCSS(a,"borderLeftWidth",true))||0)+(parseFloat(l.curCSS(a,"borderRightWidth",true))||0)+(b?Vb(a):0)}function Vb(a){return(parseFloat(l.curCSS(a,"marginLeft",true))||0)+(parseFloat(l.curCSS(a,"marginRight",true))||0)}function Ua(a,b){return(parseFloat(l.curCSS(a,
"paddingTop",true))||0)+(parseFloat(l.curCSS(a,"paddingBottom",true))||0)+(parseFloat(l.curCSS(a,"borderTopWidth",true))||0)+(parseFloat(l.curCSS(a,"borderBottomWidth",true))||0)+(b?Bb(a):0)}function Bb(a){return(parseFloat(l.curCSS(a,"marginTop",true))||0)+(parseFloat(l.curCSS(a,"marginBottom",true))||0)}function Ta(a,b){b=typeof b=="number"?b+"px":b;a[0].style.cssText+=";min-height:"+b+";_height:"+b}function La(a){if(l.browser.msie&&l.browser.version=="9.0")return a.innerHeight();return a.height()}
function Qa(a){if(l.browser.msie&&l.browser.version=="9.0")return a.innerWidth();return a.width()}function ib(){}function xb(a,b){return a-b}function Pa(a){return(a<10?"0":"")+a}function Ya(a,b){if(a[b]!==X)return a[b];b=b.split(/(?=[A-Z])/);for(var h=b.length-1,e;h>=0;h--){e=a[b[h].toLowerCase()];if(e!==X)return e}return a[""]}function Oa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function zb(a){return a.id+
"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function ob(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}var Sa={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",
week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",
nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Wb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ha=l.fullCalendar={},Ia=Ha.views={};l.fn.fullCalendar=
function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),h;this.each(function(){var i=l.data(this,"fullCalendar");if(i&&l.isFunction(i[a])){i=i[a].apply(i,b);if(h===X)h=i;a=="destroy"&&l.removeData(this,"fullCalendar")}});if(h!==X)return h;return this}var e=a.eventSources||[];delete a.eventSources;if(a.events){e.push(a.events);delete a.events}a=l.extend(true,{},Sa,a.isRTL||a.isRTL===X&&Sa.isRTL?Wb:{},a);this.each(function(i,s){i=l(s);s=new Db(i,a,e);i.data("fullCalendar",s);
s.render()});return this};var Gb=1;Ia.month=Hb;Ia.basicWeek=Ib;Ia.basicDay=Jb;var ab;hb({weekMode:"fixed"});Ia.agendaWeek=Lb;Ia.agendaDay=Mb;hb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ha.addDays=L;Ha.cloneDate=y;Ha.parseDate=Za;Ha.parseISO8601=Cb;Ha.parseTime=db;Ha.formatDate=Ma;Ha.formatDates=Xa;var Ea=["sun","mon","tue","wed","thu","fri","sat"],
kb=864E5,Rb=36E5,Qb=6E4,Sb={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},
M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Ma(a,
"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}}})(jQuery);

/*

 FullCalendar v1.4.6
 http://arshaw.com/fullcalendar/

 with some adaptations for joomla gcalendar component
 http://github.com/tpruvot/fullcalendar

 Use fullcalendar.css for basic styling.
 For event drag & drop, required jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2009 Adam Shaw
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html

 Date: Wed May 12 10:06:08 2010 +0200

*/
(function(l){function Ba(a,b){a._id=a._id||(a.id===J?"_fc"+mb++:a.id+"");if(a.date){if(!a.start)a.start=a.date;delete a.date}a._start=q(a.start=Za(a.start));a.end=Za(a.end);if(a.end&&a.end<=a.start)a.end=null;a._end=a.end?q(a.end):null;if(a.allDay===J)a.allDay=b.allDayDefault;if(a.className){if(typeof a.className=="string")a.className=a.className.split(/\s+/)}else a.className=[]}function Na(a,b,d){function c(k,m,A,G){s.beforeRender&&s.beforeRender();X=k;V=s.colCnt=m;ha=b.theme?"ui":"fc";Y=b.weekends?
0:1;W=b.firstDay;if(ta=b.isRTL){fa=-1;ia=V-1}else{fa=1;ia=0}var y=s.start.getMonth(),ba=za(new Date),g,n=q(s.visStart);if(L){C();m=L.find("tr").length;if(X<m)L.find("tr:gt("+(X-1)+")").remove();else if(X>m){k="";for(m=m;m<X;m++){k+="<tr class='fc-week"+m+"'>";for(g=0;g<V;g++){k+="<td class='fc-"+va[n.getDay()]+" "+ha+"-state-default fc-new fc-day"+(m*V+g)+(g==ia?" fc-leftmost":"")+"'>"+(G?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";
w(n,1);Y&&$(n)}k+="</tr>"}L.append(k)}Z(L.find("td.fc-new").removeClass("fc-new"));n=q(s.visStart);L.find("td").each(function(){var B=l(this);if(X>1)n.getMonth()==y?B.removeClass("fc-other-month"):B.addClass("fc-other-month");+n==+ba?B.removeClass("fc-not-today").addClass("fc-today").addClass(ha+"-state-highlight"):B.addClass("fc-not-today").removeClass("fc-today").removeClass(ha+"-state-highlight");B.find("div.fc-day-number").text(n.getDate());w(n,1);Y&&$(n)});if(X==1){n=q(s.visStart);M.find("th").each(function(){l(this).text(na(n,
A,b));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+va[n.getDay()]);w(n,1);Y&&$(n)});n=q(s.visStart);L.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+va[n.getDay()]);w(n,1);Y&&$(n)})}}else{var K=l("<table/>").appendTo(a);k="<thead><tr>";for(m=0;m<V;m++){k+="<th class='fc-"+va[n.getDay()]+" "+ha+"-state-default"+(m==ia?" fc-leftmost":"")+"'>"+na(n,A,b)+"</th>";w(n,1);Y&&$(n)}M=l(k+"</tr></thead>").appendTo(K);k="<tbody>";n=q(s.visStart);for(m=0;m<
X;m++){k+="<tr class='fc-week"+m+"'>";for(g=0;g<V;g++){k+="<td class='fc-"+va[n.getDay()]+" "+ha+"-state-default fc-day"+(m*V+g)+(g==ia?" fc-leftmost":"")+(X>1&&n.getMonth()!=y?" fc-other-month":"")+(+n==+ba?" fc-today "+ha+"-state-highlight":" fc-not-today")+"'>"+(G?"<div class='fc-day-number'>"+n.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";w(n,1);Y&&$(n)}k+="</tr>"}L=l(k+"</tbody>").appendTo(K);Z(L.find("td"));ka=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}}
function h(k){ca=k;k=L.find("tr td:first-child");var m=ca-M.height(),A;if(b.weekMode=="variable")A=m=Math.floor(m/(X==1?2:6));else{A=Math.floor(m/X);m=m-A*(X-1)}if(Oa===J){var G=L.find("tr:first").find("td:first");G.height(A);Oa=A!=G.height()}if(Oa){k.slice(0,-1).height(A);k.slice(-1).height(m)}else{Ia(k.slice(0,-1),A);Ia(k.slice(-1),m)}}function o(k){ua=k;oa.clear();Ca(M.find("th").slice(0,-1),ja=Math.floor(ua/V))}function j(k){s.reportEvents(t=k);N(r(k))}function E(k){C();N(r(t),k)}function C(){s._clearEvents();
ka.empty()}function r(k){var m=q(s.visStart),A=w(q(m),V),G=l.map(k,D),y,ba,g,n,K,B,ea=[];for(y=0;y<X;y++){ba=Pa(s.sliceSegs(k,G,m,A));for(g=0;g<ba.length;g++){n=ba[g];for(K=0;K<n.length;K++){B=n[K];B.row=y;B.level=g;ea.push(B)}}w(m,7);w(A,7)}return ea}function N(k,m){$a(k,X,s,0,ua,function(A){return L.find("tr:eq("+A+")")},oa.left,oa.right,ka,O,m)}function D(k){if(k.end){var m=q(k.end);return k.allDay||m.getHours()||m.getMinutes()?w(m,1):m}else return w(q(k.start),1)}function O(k,m,A){s.eventElementHandlers(k,
m);if(k.editable||k.editable===J&&b.editable){H(k,m);A.isEnd&&s.resizableDayEvent(k,m,ja)}}function H(k,m){if(!b.disableDragging&&m.draggable){var A,G=0;m.draggable({zIndex:9,delay:50,opacity:s.option("dragOpacity"),revertDuration:b.dragRevertDuration,start:function(y,ba){s.hideEvents(k,m);s.trigger("eventDragStart",m,k,y,ba);A=pa(function(g){m.draggable("option","revert",!g||!g.rowDelta&&!g.colDelta);s.clearOverlays();if(g){G=g.rowDelta*7+g.colDelta*fa;la(A,T(w(q(k.start),G)),T(w(D(k),G)))}else G=
0});A.mouse(y.pageX,y.pageY)},drag:function(y){A.mouse(y.pageX,y.pageY)},stop:function(y,ba){s.clearOverlays();s.trigger("eventDragStop",m,k,y,ba);if(G){m.find("a").removeAttr("href");s.eventDrop(this,k,G,0,k.allDay,y,ba)}else{l.browser.msie&&m.css("filter","");s.showEvents(k,m)}}})}}function Z(k){k.click(z);l.fullCalendar.bindBgHandlers&&l.fullCalendar.bindBgHandlers(s,k,true)}function z(k){var m=parseInt(this.className.match(/fc\-day(\d+)/)[1]);m=w(q(s.visStart),Math.floor(m/V)*7+m%V);s.trigger("dayClick",
this,m,true,k)}function T(k){var m=q(s.visStart),A,G,y=0;for(A=0;A<X;A++)for(G=0;G<V;G++){w(m,1);Y&&$(m);if(m>k)return y;y++}return y}function ma(k){return w(q(s.visStart),k)}function la(k,m,A){A=A-m;var G=Math.floor(m/V),y=m%V;for(a.offset();A>0;){m=Math.min(A,V-y);s.renderOverlay(k.rect(G,y,G+1,y+m,a),a);A-=m;G+=1;y=0}}function pa(k){var m=new Qa(k);L.find("tr").each(function(){m.row(this)});k=L.find("tr:first td");if(ta)k=l(k.get().reverse());k.each(function(){m.col(this)});return m}var ha,W,Y,
ta,fa,ia,ua,ca,X,V,ja,M,L,t=[],ka,oa=new ab(function(k){return L.find("td:eq("+(k-Math.max(W,Y)+V)%V+") div div")}),s=l.extend(this,bb,d,{renderGrid:c,renderEvents:j,rerenderEvents:E,clearEvents:C,setHeight:h,setWidth:o,defaultEventEnd:function(k){return q(k.start)}});s.init(a,b);a.addClass("fc-grid");a.disableSelection&&a.disableSelection();s.bindDayHandlers=Z;s.offset2date=ma;s.renderOverlays=la;s.buildMatrix=pa}function $a(a,b,d,c,h,o,j,E,C,r,N){var D=d.options,O=D.isRTL,H,Z=a.length,z,T,ma,la,
pa,ha="",W={},Y={},ta=[],fa=[];for(H=0;H<Z;H++){z=a[H];T=z.event;ma="fc-event fc-event-hori ";if(O){if(z.isStart)ma+="fc-corner-right ";if(z.isEnd)ma+="fc-corner-left ";la=z.isEnd?j(z.end.getDay()-1):c;pa=z.isStart?E(z.start.getDay()):h}else{if(z.isStart)ma+="fc-corner-left ";if(z.isEnd)ma+="fc-corner-right ";la=z.isStart?j(z.start.getDay()):c;pa=z.isEnd?E(z.end.getDay()-1):h}ha+="<div class='"+ma+T.className.join(" ")+"' style='position:absolute;z-index:8;left:"+la+"px'><a"+(T.url?" href='"+Da(T.url)+
"'":"")+">"+(!T.allDay&&z.isStart?"<span class='fc-event-time'>"+Da(Aa(T.start,T.end,d.option("timeFormat"),D))+"</span>":"")+"<span class='fc-event-title'>"+Da(T.title)+"</span></a>"+((T.editable||T.editable===J&&D.editable)&&!D.disableResizing&&l.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(O?"w":"e")+"'></div>":"")+"</div>";z.left=la;z.outerWidth=pa-la}C[0].innerHTML=ha;h=C.children();for(H=0;H<Z;H++){z=a[H];c=l(h[H]);T=z.event;j=d.trigger("eventRender",T,T,c);if(j===false)c.remove();
else{if(j&&j!==true){c.remove();c=l(j).css({position:"absolute",left:z.left}).appendTo(C)}z.element=c;if(T._id===N)r(T,c,z);else c[0]._fci=H;d.reportEventElement(T,c)}}cb(C,a,r);for(H=0;H<Z;H++){z=a[H];if(c=z.element){r=W[C=z.key=db(c[0])];z.hsides=r===J?(W[C]=Ra(c[0],true)):r}}for(H=0;H<Z;H++){z=a[H];if(c=z.element)c[0].style.width=z.outerWidth-z.hsides+"px"}for(H=0;H<Z;H++){z=a[H];if(c=z.element){r=Y[C=z.key];z.outerHeight=c[0].offsetHeight+(r===J?(Y[C]=eb(c[0])):r)}}for(W=H=0;W<b;W++){for(Y=C=
r=0;H<Z&&(z=a[H]).row==W;){if(z.level!=C){Y+=r;r=0;C++}r=Math.max(r,z.outerHeight||0);z.top=Y;H++}ta[W]=o(W).find("td:first div.fc-day-content > div").height(Y+r)}for(W=0;W<b;W++)fa[W]=ta[W][0].offsetTop;for(H=0;H<Z;H++){z=a[H];if(c=z.element){c[0].style.top=fa[z.row]+z.top+"px";T=z.event;d.trigger("eventAfterRender",T,T,c)}}}function fb(a,b,d){function c(e,f){u.beforeRender&&u.beforeRender();k=e;Q=b.theme?"ui":"fc";S=b.weekends?0:1;qa=b.firstDay;if(sa=b.isRTL){da=-1;Ea=k-1}else{da=1;Ea=0}wa=gb(b.minTime);
Ja=gb(b.maxTime);e=sa?w(q(u.visEnd),-1):q(u.visStart);var i=q(e),F=za(new Date);if(L){O();L.find("tr:first th").slice(1,-1).each(function(){l(this).text(na(i,f,b));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+va[i.getDay()]);w(i,da);S&&$(i,da)});i=q(e);s.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+va[i.getDay()]);+i==+F?l(this).removeClass("fc-not-today").addClass("fc-today").addClass(Q+"-state-highlight"):l(this).addClass("fc-not-today").removeClass("fc-today").removeClass(Q+
"-state-highlight");w(i,da);S&&$(i,da)})}else{var p,x,v=b.slotMinutes%15==0,I="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(b.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+Q+"-state-default'>&nbsp;</th>";for(p=0;p<k;p++){I+="<th class='fc-"+va[i.getDay()]+" "+Q+"-state-default'>"+na(i,f,b)+"</th>";w(i,da);S&&$(i,da)}I+="<th class='"+Q+"-state-default'>&nbsp;</th></tr>";if(b.allDaySlot)I+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+
Q+"-state-default'>"+b.allDayText+"</th><td colspan='"+k+"' class='"+Q+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+Q+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(k+2)+"' class='"+Q+"-state-default fc-leftmost'><div/></th></tr>";I+="</table></div>";L=l(I).appendTo(a);E(L.find("td"));B=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(L);i=hb();var R=ga(q(i),Ja);ga(i,wa);I="<table>";
for(p=0;i<R;p++){x=i.getMinutes();I+="<tr class='"+(!p?"fc-first":!x?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+Q+"-state-default'>"+(!v||!x?na(i,b.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+p+" "+Q+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";ga(i,b.slotMinutes);m++}I+="</table>";t=l("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(u.bodyContent=ka=l("<div style='position:relative;overflow:hidden'>").append(oa=l(I))).appendTo(a);
C(t.find("td"));ea=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ka);i=q(e);I="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(p=0;p<k;p++){I+="<td class='fc-"+va[i.getDay()]+" "+Q+"-state-default "+(!p?"fc-leftmost ":"")+(+i==+F?Q+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";w(i,da);S&&$(i,da)}I+="</tr></table></div>";s=l(I).appendTo(a)}}
function h(){var e=hb(),f=q(e);f.setHours(b.firstHour);var i=ia(e,f)+1;e=function(){t.scrollTop(i)};e();setTimeout(e,0)}function o(e,f){g=e;Sa={};t.height(e-L.height());y=t.find("tr:first div").height()+1;s.css({top:L.find("tr").height(),height:e});f&&h()}function j(e){ba=e;Ha.clear();t.width(e);oa.width("");e=L.find("tr:first th");var f=s.find("td"),i=t[0].clientWidth;oa.width(i);A=0;Ca(L.find("tr:lt(2) th:first").add(t.find("tr:first th")).width("").each(function(){A=Math.max(A,l(this).outerWidth())}),
A);G=Math.floor((i-A)/k);Ca(f.slice(0,-1),G);Ca(e.slice(1,-2),G);Ca(e.slice(-2,-1),i-A-G*(k-1));s.css({left:A,width:i-A})}function E(e){e.click(r);l.fullCalendar.bindBgHandlers&&l.fullCalendar.bindBgHandlers(u,e,true)}function C(e){e.click(r);l.fullCalendar.bindBgHandlers&&l.fullCalendar.bindBgHandlers(u,e,false)}function r(e){var f=Math.floor((e.pageX-s.offset().left)/G);f=w(q(u.visStart),Ea+da*f);var i=this.className.match(/fc-slot(\d+)/);if(i){i=parseInt(i[1])*b.slotMinutes;var F=Math.floor(i/
60);f.setHours(F);f.setMinutes(i%60+wa);u.trigger("dayClick",this,f,false,e)}else u.trigger("dayClick",this,f,true,e)}function N(e,f){u.reportEvents(K=e);var i,F=e.length,p=[],x=[];for(i=0;i<F;i++)e[i].allDay?p.push(e[i]):x.push(e[i]);z(H(p),f);T(Z(x),f)}function D(e){O();N(K,e)}function O(){u._clearEvents();B.empty();ea.empty()}function H(e){e=Pa(u.sliceSegs(e,l.map(e,la),u.visStart,u.visEnd));var f,i=e.length,F,p,x,v=[];for(f=0;f<i;f++){F=e[f];for(p=0;p<F.length;p++){x=F[p];x.row=0;x.level=f;v.push(x)}}return v}
function Z(e){var f=ga(q(u.visStart),wa),i=l.map(e,la),F,p,x,v,I,R,U=[];for(F=0;F<k;F++){p=Pa(u.sliceSegs(e,i,f,ga(q(f),Ja-wa)));nb(p);for(x=0;x<p.length;x++){v=p[x];for(I=0;I<v.length;I++){R=v[I];R.col=F;R.level=x;U.push(R)}}w(f,1,true)}return U}function z(e,f){if(b.allDaySlot){$a(e,1,u,A,ba,function(){return L.find("tr.fc-all-day")},function(i){return A+Ha.left(ua(i))},function(i){return A+Ha.right(ua(i))},B,ha,f);o(g)}}function T(e,f){var i,F=e.length,p,x,v,I,R,U,P,aa,xa,ya,ib="",Ka={},jb={};for(i=
0;i<F;i++){p=e[i];x=p.event;v="fc-event fc-event-vert ";if(p.isStart)v+="fc-corner-top ";if(p.isEnd)v+="fc-corner-bottom ";I=ia(p.start,p.start);R=ia(p.start,p.end);U=p.col;P=p.level;aa=p.forward||0;xa=A+Ha.left(U*da+Ea);ya=A+Ha.right(U*da+Ea)-xa;ya=Math.min(ya-6,ya*0.95);U=P?ya/(P+aa+1):aa?(ya/(aa+1)-6)*2:ya;P=xa+ya/(P+aa+1)*P*da+(sa?ya-U:0);p.top=I;p.left=P;p.outerWidth=U;p.outerHeight=R-I;ib+=ma(x,p,v)}ea[0].innerHTML=ib;I=ea.children();for(i=0;i<F;i++){p=e[i];x=p.event;v=l(I[i]);R=u.trigger("eventRender",
x,x,v);if(R===false)v.remove();else{if(R&&R!==true){v.remove();v=l(R).css({position:"absolute",top:p.top,left:p.left}).appendTo(ea)}p.element=v;if(x._id===f)W(x,v,p);else v[0]._fci=i;u.reportEventElement(x,v)}}cb(ea,e,W);for(i=0;i<F;i++){p=e[i];if(v=p.element){f=Ka[x=p.key=db(v[0])];p.vsides=f===J?(Ka[x]=Ta(v[0],true)):f;f=jb[x];p.hsides=f===J?(jb[x]=Ra(v[0],true)):f;x=v.find("span.fc-event-title");if(x.length)p.titleTop=x[0].offsetTop}}for(i=0;i<F;i++){p=e[i];if(v=p.element){v[0].style.width=p.outerWidth-
p.hsides+"px";v[0].style.height=(Ka=p.outerHeight-p.vsides)+"px";x=p.event;if(p.titleTop!==J&&Ka-p.titleTop<10){v.find("span.fc-event-time").text(na(x.start,u.option("timeFormat"))+" - "+x.title);v.find("span.fc-event-title").remove()}u.trigger("eventAfterRender",x,x,v)}}}function ma(e,f,i){return"<div class='"+i+e.className.join(" ")+"' style='position:absolute;z-index:8;top:"+f.top+"px;left:"+f.left+"px'><a"+(e.url?" href='"+Da(e.url)+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+
Da(Aa(e.start,e.end,u.option("timeFormat")))+"</span><span class='fc-event-title'>"+Da(e.title)+"</span></a>"+((e.editable||e.editable===J&&b.editable)&&!b.disableResizing&&l.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}function la(e){if(e.allDay)return pa(e);return e.end?q(e.end):ga(q(e.start),b.defaultEventMinutes)}function pa(e){if(e.end){var f=q(e.end);return e.allDay||f.getHours()||f.getMinutes()?w(f,1):f}else return w(q(e.start),1)}function ha(e,f,i){u.eventElementHandlers(e,
f);if(e.editable||e.editable===J&&b.editable){Y(e,f,i.isStart);i.isEnd&&u.resizableDayEvent(e,f,G)}}function W(e,f,i){u.eventElementHandlers(e,f);if(e.editable||e.editable===J&&b.editable){var F=f.find("span.fc-event-time");ta(e,f,F);i.isEnd&&fa(e,f,F)}}function Y(e,f,i){if(!b.disableDragging&&f.draggable){var F,p,x,v=true,I;f.draggable({zIndex:9,opacity:u.option("dragOpacity","month"),revertDuration:b.dragRevertDuration,start:function(R,U){u.hideEvents(e,f);u.trigger("eventDragStart",f,e,R,U);F=
f.position();p=f.width();x=function(){if(!v){f.width(p).height("").draggable("option","grid",null);v=true}};I=V(function(P){f.draggable("option","revert",!P||!P.rowDelta&&!P.colDelta);u.clearOverlays();if(P)if(P.row){if(i&&v){Ia(f.width(G-10),y*Math.round((e.end?(e.end-e.start)/ob:b.defaultEventMinutes)/b.slotMinutes));f.draggable("option","grid",[G,1]);v=false}}else{M(I,ca(w(q(e.start),P.colDelta)),ca(w(la(e),P.colDelta)));x()}});I.mouse(R.pageX,R.pageY)},drag:function(R){I.mouse(R.pageX,R.pageY)},
stop:function(R,U){u.trigger("eventDragStop",f,e,R,U);u.clearOverlays();var P=I.cell,aa=da*(v?P?P.colDelta:0:Math.floor((U.position.left-F.left)/G));if(!P||!aa&&!P.rowDelta){x();l.browser.msie&&f.css("filter","");u.showEvents(e,f)}else{f.find("a").removeAttr("href");u.eventDrop(this,e,aa,v?0:Math.round((f.offset().top-ka.offset().top)/y)*b.slotMinutes+wa-(e.start.getHours()*60+e.start.getMinutes()),v,R,U)}}})}}function ta(e,f,i){if(!b.disableDragging&&f.draggable){var F,p,x,v,I=false,R;f.draggable({zIndex:9,
scroll:false,grid:[G,y],axis:k==1?"y":false,opacity:u.option("dragOpacity"),revertDuration:b.dragRevertDuration,start:function(U,P){u.hideEvents(e,f);u.trigger("eventDragStart",f,e,U,P);l.browser.msie&&f.find("span.fc-event-bg").hide();F=f.position();p=function(){if(I){i.css("display","");f.draggable("option","grid",[G,y]);I=false}};x=0;R=V(function(aa){f.draggable("option","revert",!aa);u.clearOverlays();if(aa)if(!aa.row&&b.allDaySlot){if(!I){I=true;i.hide();f.draggable("option","grid",null)}M(R,
ca(w(q(e.start),aa.colDelta)),ca(w(pa(e),aa.colDelta)))}else p()});R.mouse(U.pageX,U.pageY)},drag:function(U,P){v=Math.round((P.position.top-F.top)/y);if(v!=x){if(!I){P=v*b.slotMinutes;var aa=ga(q(e.start),P),xa;if(e.end)xa=ga(q(e.end),P);i.text(Aa(aa,xa,u.option("timeFormat")))}x=v}R.mouse(U.pageX,U.pageY)},stop:function(U,P){u.clearOverlays();u.trigger("eventDragStop",f,e,U,P);var aa=R.cell,xa=da*(I?aa?aa.colDelta:0:Math.floor((P.position.left-F.left)/G));if(!aa||!v&&!xa){p();l.browser.msie&&f.css("filter",
"").find("span.fc-event-bg").css("display","");f.css(F);u.showEvents(e,f)}else u.eventDrop(this,e,xa,I?0:v*b.slotMinutes,I,U,P)}})}}function fa(e,f,i){if(!b.disableResizing&&f.resizable){var F,p;f.resizable({handles:{s:"div.ui-resizable-s"},grid:y,start:function(x,v){F=p=0;u.hideEvents(e,f);l.browser.msie&&l.browser.version=="6.0"&&f.css("overflow","hidden");f.css("z-index",9);u.trigger("eventResizeStart",this,e,x,v)},resize:function(x,v){F=Math.round((Math.max(y,f.height())-v.originalSize.height)/
y);if(F!=p){i.text(Aa(e.start,!F&&!e.end?null:ga(u.eventEnd(e),b.slotMinutes*F),u.option("timeFormat")));p=F}},stop:function(x,v){u.trigger("eventResizeStop",this,e,x,v);if(F)u.eventResize(this,e,0,b.slotMinutes*F,x,v);else{f.css("z-index",8);u.showEvents(e,f)}}})}}function ia(e,f){e=q(e,true);if(f<ga(q(e),wa))return 0;if(f>=ga(q(e),Ja))return ka.height();e=b.slotMinutes;f=f.getHours()*60+f.getMinutes()-wa;var i=Math.floor(f/e),F=Sa[i];if(F===J)F=Sa[i]=t.find("tr:eq("+i+") td div")[0].offsetTop;return Math.max(0,
Math.round(F-1+y*(f%e/e)))}function ua(e){return(e-Math.max(qa,S)+k)%k*da+Ea}function ca(e){for(var f=sa?w(q(u.visEnd),-1):q(u.visStart),i=0;i<k;i++){w(f,da);S&&$(f,da);if(f>e)return i}return i}function X(e,f){e=za(w(q(u.visStart),e));ga(e,wa);for(var i=0;i<f;i++)ga(e,b.slotMinutes);return e}function V(e){var f=new Qa(e);b.allDaySlot&&f.row(L.find("td"));s.find("td").each(function(){f.col(this)});f.row(t);return f}function ja(e){var f=new Qa(e);oa.find("td").each(function(){f.row(this)});s.find("td").each(function(){f.col(this)});
return f}function M(e,f,i){u.renderOverlay(e.rect(0,f,1,i,L),L)}var L,t,ka,oa,s,k,m=0,A,G,y,ba,g,n,K=[],B,ea,Q,qa,S,sa,da,Ea,wa,Ja,Ha=new ab(function(e){return s.find("td:eq("+e+") div div")}),Sa={},u=l.extend(this,bb,d,{renderAgenda:c,renderEvents:N,rerenderEvents:D,clearEvents:O,setHeight:o,setWidth:j,beforeHide:function(){n=t.scrollTop()},afterShow:function(){t.scrollTop(n)},defaultEventEnd:function(e){var f=q(e.start);if(e.allDay)return f;return ga(f,b.defaultEventMinutes)}});u.init(a,b);a.addClass("fc-agenda");
a.disableSelection&&a.disableSelection();u.bindDayHandlers=E;u.bindSlotHandlers=C;u.segHtml=ma;u.slotTime=X;u.buildMainMatrix=V;u.buildSlotMatrix=ja;u.renderDayOverlay=M}function nb(a){var b,d,c,h,o,j;for(b=a.length-1;b>0;b--){h=a[b];for(d=0;d<h.length;d++){o=h[d];for(c=0;c<a[b-1].length;c++){j=a[b-1][c];if(kb(o,j))j.forward=Math.max(j.forward||0,(o.forward||0)+1)}}}}function cb(a,b,d){a.unbind("mouseover").mouseover(function(c){for(var h=c.target,o;h!=this;){o=h;h=h.parentNode}if((h=o._fci)!==J){o._fci=
J;o=b[h];d(o.event,o.element,o);l(c.target).trigger(c)}c.stopPropagation()})}function Pa(a){var b=[],d,c=a.length,h,o,j,E;for(d=0;d<c;d++){h=a[d];for(o=0;;){j=false;if(b[o])for(E=0;E<b[o].length;E++)if(kb(b[o][E],h)){j=true;break}if(j)o++;else break}if(b[o])b[o].push(h);else b[o]=[h]}return b}function pb(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function kb(a,b){return a.end>b.start&&a.start<b.end}function Ua(a,b,d){a.setFullYear(a.getFullYear()+b);d||za(a);return a}function Va(a,
b,d){if(+a){b=a.getMonth()+b;var c=q(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(d||za(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}function w(a,b,d){if(+a){b=a.getDate()+b;var c=q(a);c.setHours(9);c.setDate(b);a.setDate(b);d||za(a);Wa(a,c)}return a}function Wa(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*qb)}function ga(a,b){a.setMinutes(a.getMinutes()+b);return a}function za(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);
return a}function q(a,b){if(b)return za(new Date(+a));return new Date(+a)}function hb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function $(a,b,d){for(b=b||1;!a.getDay()||d&&a.getDay()==1||!d&&a.getDay()==6;)w(a,b);return a}function Ca(a,b,d){a.each(function(c,h){h.style.width=b-Ra(h,d)+"px"})}function Ia(a,b,d){a.each(function(c,h){h.style.height=b-Ta(h,d)+"px"})}function Ra(a,b){return(parseFloat(jQuery.curCSS(a,"paddingLeft",true))||0)+(parseFloat(jQuery.curCSS(a,"paddingRight",
true))||0)+(parseFloat(jQuery.curCSS(a,"borderLeftWidth",true))||0)+(parseFloat(jQuery.curCSS(a,"borderRightWidth",true))||0)+(b?rb(a):0)}function rb(a){return(parseFloat(jQuery.curCSS(a,"marginLeft",true))||0)+(parseFloat(jQuery.curCSS(a,"marginRight",true))||0)}function Ta(a,b){return(parseFloat(jQuery.curCSS(a,"paddingTop",true))||0)+(parseFloat(jQuery.curCSS(a,"paddingBottom",true))||0)+(parseFloat(jQuery.curCSS(a,"borderTopWidth",true))||0)+(parseFloat(jQuery.curCSS(a,"borderBottomWidth",true))||
0)+(b?eb(a):0)}function eb(a){return(parseFloat(jQuery.curCSS(a,"marginTop",true))||0)+(parseFloat(jQuery.curCSS(a,"marginBottom",true))||0)}function Xa(a,b){b=typeof b=="number"?b+"px":b;a[0].style.cssText+=";min-height:"+b+";_height:"+b}function sb(a){if(La!==false){var b;if(a.is("th,td"))a=(b=a).parent();if(La===J&&a.is("tr"))La=a.position().top!=a.children().position().top;if(La)return a.parent().position().top+(b?a.position().top-b.position().top:0)}return 0}function Qa(a){var b=this,d=[],c=
[],h,o,j,E,C,r;b.row=function(N){h=l(N);d.push(h.offset().top+sb(h))};b.col=function(N){o=l(N);c.push(o.offset().left)};b.mouse=function(N,D){if(j===J){d.push(d[d.length-1]+h.outerHeight());c.push(c[c.length-1]+o.outerWidth());C=r=-1}var O;for(O=0;O<d.length&&D>=d[O];O++);for(D=0;D<c.length&&N>=c[D];D++);O=O>=d.length?-1:O-1;D=D>=c.length?-1:D-1;if(O!=C||D!=r){C=O;r=D;if(O==-1||D==-1)b.cell=null;else{if(j===J){j=O;E=D}b.cell={row:O,col:D,top:d[O],left:c[D],width:c[D+1]-c[D],height:d[O+1]-d[O],isOrig:O==
j&&D==E,rowDelta:O-j,colDelta:D-E}}a(b.cell)}};b.rect=function(N,D,O,H,Z){Z=Z.offset();return{top:d[N]-Z.top,left:c[D]-Z.left,width:c[H]-c[D],height:d[O]-d[N]}}}function Fa(a){return(a<10?"0":"")+a}function Ya(a,b){if(a[b]!==J)return a[b];b=b.split(/(?=[A-Z])/);for(var d=b.length-1,c;d>=0;d--){c=a[b[d].toLowerCase()];if(c!==J)return c}return a[""]}function Da(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")}function ab(a){function b(j){return c[j]=
c[j]||a(j)}var d=this,c={},h={},o={};d.left=function(j){return h[j]=h[j]===J?b(j).position().left:h[j]};d.right=function(j){return o[j]=o[j]===J?d.left(j)+b(j).width():o[j]};d.clear=function(){c={};h={};o={}}}function db(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function tb(a,b){return a-b}var ra=l.fullCalendar={},Ga=ra.views={},Ma={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,
allDayDefault:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday",
"Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectable:true},ub={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",
prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},lb=ra.setDefaults=function(a){l.extend(true,Ma,a)};l.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),d;this.each(function(){var o=l.data(this,"fullCalendar");if(o){(o=o[a])||(o=l.fullCalendar.publicMethods[a]);if(o){o=o.apply(this,b);if(d===J)d=o}}});if(d!==J)return d;return this}var c=a.eventSources||[];delete a.eventSources;
if(a.events){c.push(a.events);delete a.events}c.unshift([]);a=l.extend(true,{},Ma,a.isRTL||a.isRTL===J&&Ma.isRTL?ub:{},a);var h=a.theme?"ui":"fc";this.each(function(){function o(g){if(g!=L){ja++;r();var n=t,K;if(n){if(n.eventsChanged){D();n.eventDirty=n.eventsChanged=false}n.beforeHide&&n.beforeHide();Xa(ca,ca.height());n.element.hide()}else Xa(ca,1);ca.css("overflow","hidden");if(ka[g])(t=ka[g]).element.show();else t=ka[g]=l.fullCalendar.views[g](K=oa=l("<div class='fc-view fc-view-"+g+"' style='position:absolute'/>").appendTo(ca),
a);if(y){y.find("div.fc-button-"+L).removeClass(h+"-state-active");y.find("div.fc-button-"+g).addClass(h+"-state-active")}t.name=L=g;j();ca.css("overflow","");n&&Xa(ca,1);!K&&t.afterShow&&t.afterShow();ja--}}function j(g){if(E()){ja++;r();X===J&&ha();if(!t.start||g||M<t.start||M>=t.end){t.render(M,g||0);W(true);!k||!a.lazyFetching||t.visStart<k||t.visEnd>m?T():t.renderEvents(s)}else if(t.sizeDirty||t.eventsDirty||!a.lazyFetching){t.clearEvents();t.sizeDirty&&W();a.lazyFetching?t.renderEvents(s):T()}ua=
ia.outerWidth();t.sizeDirty=false;t.eventsDirty=false;if(y){y.find("h2.fc-header-title").html(t.title);g=new Date;g>=t.start&&g<t.end?y.find("div.fc-button-today").addClass(h+"-state-disabled"):y.find("div.fc-button-today").removeClass(h+"-state-disabled")}ja--;t.trigger("viewDisplay",fa)}}function E(){return fa.offsetWidth!==0}function C(){return l("body")[0].offsetWidth!==0}function r(){t&&t.viewUpdate&&t.viewUpdate()}function N(){D();if(E()){t.clearEvents();t.renderEvents(s);t.eventsDirty=false}}
function D(){l.each(ka,function(){this.eventsDirty=true})}function O(){H();if(E()){ha();W();t.rerenderEvents();t.sizeDirty=false}}function H(){l.each(ka,function(){this.sizeDirty=true})}function Z(g){s=[];k=q(t.visStart);m=q(t.visEnd);for(var n=c.length,K=function(){--n||g&&g(s)},B=0;B<c.length;B++)z(c[B],K)}function z(g,n){var K=t.name,B=q(M),ea=function(S){if(K==t.name&&+B==+M&&l.inArray(g,c)!=-1){for(var sa=0;sa<S.length;sa++){Ba(S[sa],a);S[sa].source=g}s=s.concat(S);n&&n(S)}},Q=function(S){ea(S);
la()};if(typeof g=="string"){var qa={};qa[a.startParam]=Math.round(k.getTime()/1E3);qa[a.endParam]=Math.round(m.getTime()/1E3);qa.browserTimezone=m.getTimezoneOffset();if(a.cacheParam)qa[a.cacheParam]=(new Date).getTime();ma();l.ajax({url:g,dataType:"json",data:qa,cache:a.cacheParam||false,success:Q})}else if(l.isFunction(g)){ma();g(q(k),q(m),Q)}else g?ea(g):alert("Error detected in fullcalender fetchEventSource()\nPlease check the last comma at the end of your feed list.")}function T(){Z(function(g){t.renderEvents(g)})}
function ma(){A++||t.trigger("loading",fa,true)}function la(){--A||t.trigger("loading",fa,false)}function pa(g){if(g){var n=l("<tr/>");l.each(g.split(" "),function(K){K>0&&n.append("<td><span class='fc-header-space'/></td>");var B;l.each(this.split(","),function(ea,Q){if(Q=="title"){n.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");B&&B.addClass(h+"-corner-right");B=null}else{var qa;if(G[Q])qa=G[Q];else if(Ga[Q])qa=function(){S.removeClass(h+"-state-hover");o(Q)};if(qa){B&&B.addClass(h+
"-no-right");var S;ea=a.theme?Ya(a.buttonIcons,Q):null;var sa=Ya(a.buttonText,Q);if(ea)S=l("<div class='fc-button-"+Q+" ui-state-default'><a><span class='ui-icon ui-icon-"+ea+"'/></a></div>");else if(sa)S=l("<div class='fc-button-"+Q+" "+h+"-state-default'><a><span>"+sa+"</span></a></div>");if(S){S.click(function(){S.hasClass(h+"-state-disabled")||qa()}).mousedown(function(){S.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){S.removeClass(h+"-state-down")}).hover(function(){S.not("."+
h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){S.removeClass(h+"-state-hover").removeClass(h+"-state-down")}).appendTo(l("<td/>").appendTo(n));B?B.addClass(h+"-no-right"):S.addClass(h+"-corner-left");B=S}}}});B&&B.addClass(h+"-corner-right")});return l("<table/>").append(n)}}function ha(){X=a.contentHeight?a.contentHeight:a.height?a.height-(y?y.height():0)-Ta(ca[0]):Math.round(ca.width()/Math.max(a.aspectRatio,0.5))}function W(g){ja++;t.setHeight(X,g);if(oa){oa.css("position",
"relative");oa=null}t.setWidth(ca.width(),g);ja--}function Y(){if(!ja)if(t.start){var g=++V;setTimeout(function(){if(g==V&&!ja&&E())if(ua!=(ua=ia.outerWidth())){ja++;O();t.trigger("windowResize",fa);ja--}},200)}else ta()}function ta(){setTimeout(function(){!t.start&&C()&&j()},0)}var fa=this,ia=l(fa).addClass("fc"),ua,ca=l("<div class='fc-content "+h+"-widget-content' style='position:relative'/>").prependTo(fa),X,V=0,ja=0,M=new Date,L,t,ka={},oa;a.isRTL&&ia.addClass("fc-rtl");a.theme&&ia.addClass("ui-widget");
if(a.year!==J&&a.year!=M.getFullYear()){M.setDate(1);M.setMonth(0);M.setFullYear(a.year)}if(a.month!==J&&a.month!=M.getMonth()){M.setDate(1);M.setMonth(a.month)}a.date!==J&&M.setDate(a.date);var s=[],k,m,A=0,G={render:function(){ha();H();D();j()},changeView:o,getView:function(){return t},getDate:function(){return M},option:function(g,n){if(n===J)return a[g];if(g=="height"||g=="contentHeight"||g=="aspectRatio"){a[g]=n;O()}},destroy:function(){l(window).unbind("resize",Y);y&&y.remove();ca.remove();
l.removeData(fa,"fullCalendar")},prev:function(){j(-1)},next:function(){j(1)},prevYear:function(){Ua(M,-1);j()},nextYear:function(){Ua(M,1);j()},today:function(){M=new Date;j()},gotoDate:function(g,n,K){if(typeof g=="object")M=q(g);else{g!==J&&M.setFullYear(g);n!==J&&M.setMonth(n);K!==J&&M.setDate(K)}j()},incrementDate:function(g,n,K){g!==J&&Ua(M,g);n!==J&&Va(M,n);K!==J&&w(M,K);j()},updateEvent:function(g){var n,K=s.length,B,ea=g.start-g._start,Q=g.end?g.end-(g._end||t.defaultEventEnd(g)):0;for(n=
0;n<K;n++){B=s[n];if(B._id==g._id&&B!=g){B.start=new Date(+B.start+ea);B.end=g.end?B.end?new Date(+B.end+Q):new Date(+t.defaultEventEnd(B)+Q):null;B.title=g.title;B.url=g.url;B.allDay=g.allDay;B.className=g.className;B.editable=g.editable;Ba(B,a)}}Ba(g,a);N()},renderEvent:function(g,n){Ba(g,a);if(!g.source){if(n)(g.source=c[0]).push(g);s.push(g)}N()},removeEvents:function(g){if(g){if(!l.isFunction(g)){var n=g+"";g=function(B){return B._id==n}}s=l.grep(s,g,true);for(K=0;K<c.length;K++)if(typeof c[K]==
"object")c[K]=l.grep(c[K],g,true)}else{s=[];for(var K=0;K<c.length;K++)if(typeof c[K]=="object")c[K]=[]}N()},clientEvents:function(g){if(l.isFunction(g))return l.grep(s,g);else if(g){g+="";return l.grep(s,function(n){return n._id==g})}return s},rerenderEvents:N,addEventSource:function(g){c.push(g);z(g,N)},removeEventSource:function(g){c=l.grep(c,function(n){return g&&n!=g});s=l.grep(s,function(n){return g&&n.source!=g});N()},refetchEvents:function(){Z(N)}};l.data(this,"fullCalendar",G);var y,ba=a.header;
if(ba)y=l("<table class='fc-header'/>").append(l("<tr/>").append(l("<td class='fc-header-left'/>").append(pa(ba.left))).append(l("<td class='fc-header-center'/>").append(pa(ba.center))).append(l("<td class='fc-header-right'/>").append(pa(ba.right)))).prependTo(ia);l(window).resize(Y);o(a.defaultView);C()||ta()});return this};var mb=0;lb({weekMode:"fixed"});Ga.month=function(a,b){return new Na(a,b,{render:function(d,c){if(c){Va(d,c);d.setDate(1)}d=this.start=q(d,true);d.setDate(1);this.end=Va(q(d),
1);var h=this.visStart=q(d);c=this.visEnd=q(this.end);var o=b.weekends?0:1;if(o){$(h);$(c,-1,true)}w(h,-((h.getDay()-Math.max(b.firstDay,o)+7)%7));w(c,(7-c.getDay()+Math.max(b.firstDay,o))%7);h=Math.round((c-h)/(vb*7));if(b.weekMode=="fixed"){w(c,(6-h)*7);h=6}this.title=na(d,this.option("titleFormat"),b);this.renderGrid(h,b.weekends?7:5,this.option("columnFormat"),true)}})};Ga.basicWeek=function(a,b){return new Na(a,b,{render:function(d,c){c&&w(d,c*7);d=this.visStart=q(this.start=w(q(d),-((d.getDay()-
b.firstDay+7)%7)));c=this.visEnd=q(this.end=w(q(d),7));if(!b.weekends){$(d);$(c,-1,true)}this.title=Aa(d,w(q(c),-1),this.option("titleFormat"),b);this.renderGrid(1,b.weekends?7:5,this.option("columnFormat"),false)}})};Ga.basicDay=function(a,b){return new Na(a,b,{render:function(d,c){if(c){w(d,c);b.weekends||$(d,c<0?-1:1)}this.title=na(d,this.option("titleFormat"),b);this.start=this.visStart=q(d,true);this.end=this.visEnd=w(q(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false)}})};
var Oa;lb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ga.agendaWeek=function(a,b){return new fb(a,b,{render:function(d,c){c&&w(d,c*7);d=this.visStart=q(this.start=w(q(d),-((d.getDay()-b.firstDay+7)%7)));c=this.visEnd=q(this.end=w(q(d),7));if(!b.weekends){$(d);$(c,-1,true)}this.title=Aa(d,w(q(c),-1),this.option("titleFormat"),b);this.renderAgenda(b.weekends?
7:5,this.option("columnFormat"))}})};Ga.agendaDay=function(a,b){return new fb(a,b,{render:function(d,c){if(c){w(d,c);b.weekends||$(d,c<0?-1:1)}this.title=na(d,this.option("titleFormat"),b);this.start=this.visStart=q(d,true);this.end=this.visEnd=w(q(this.start),1);this.renderAgenda(1,this.option("columnFormat"))}})};var bb={init:function(a,b){this.element=a;this.options=b;this.eventsByID={};this.eventElements=[];this.eventElementsByID={};this.overlays=[]},trigger:function(a,b){if(this.options[a])return this.options[a].apply(b||
this,Array.prototype.slice.call(arguments,2).concat([this]))},eventEnd:function(a){return a.end?q(a.end):this.defaultEventEnd(a)},reportEvents:function(a){var b,d=a.length,c,h=this.eventsByID={};for(b=0;b<d;b++){c=a[b];if(h[c._id])h[c._id].push(c);else h[c._id]=[c]}},reportEventElement:function(a,b){this.eventElements.push(b);var d=this.eventElementsByID;if(d[a._id])d[a._id].push(b);else d[a._id]=[b]},_clearEvents:function(){this.eventElements=[];this.eventElementsByID={}},showEvents:function(a,b){this._eee(a,
b,"show")},hideEvents:function(a,b){this._eee(a,b,"hide")},_eee:function(a,b,d){a=this.eventElementsByID[a._id];var c,h=a.length;for(c=0;c<h;c++)a[c][0]!=b[0]&&a[c][d]()},eventDrop:function(a,b,d,c,h,o,j){var E=this,C=b.allDay,r=b._id;E.moveEvents(E.eventsByID[r],d,c,h);E.trigger("eventDrop",a,b,d,c,h,function(){E.moveEvents(E.eventsByID[r],-d,-c,C);E.rerenderEvents()},o,j);E.eventsChanged=true;E.rerenderEvents(r)},eventResize:function(a,b,d,c,h,o){var j=this,E=b._id;j.elongateEvents(j.eventsByID[E],
d,c);j.trigger("eventResize",a,b,d,c,function(){j.elongateEvents(j.eventsByID[E],-d,-c);j.rerenderEvents()},h,o);j.eventsChanged=true;j.rerenderEvents(E)},moveEvents:function(a,b,d,c){d=d||0;for(var h,o=a.length,j=0;j<o;j++){h=a[j];if(c!==J)h.allDay=c;ga(w(h.start,b,true),d);if(h.end)h.end=ga(w(h.end,b,true),d);Ba(h,this.options)}},elongateEvents:function(a,b,d){d=d||0;for(var c,h=a.length,o=0;o<h;o++){c=a[o];c.end=ga(w(this.eventEnd(c),b,true),d);Ba(c,this.options)}},renderOverlay:function(a,b){this.overlays.push(l("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>").css(a).appendTo(b))},
clearOverlays:function(){l.each(this.overlays,function(){this.remove()});this.overlays=[]},resizableDayEvent:function(a,b,d){var c=this;if(!c.options.disableResizing&&b.resizable)b.resizable({handles:c.options.isRTL?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},grid:d,minWidth:d/2,containment:c.element.parent().parent(),start:function(h,o){b.css("z-index",9);c.hideEvents(a,b);c.trigger("eventResizeStart",this,a,h,o)},stop:function(h,o){c.trigger("eventResizeStop",this,a,h,o);var j=Math.round((b.width()-
o.originalSize.width)/d);if(j)c.eventResize(this,a,j,0,h,o);else{b.css("z-index",8);c.showEvents(a,b)}}})},eventElementHandlers:function(a,b){var d=this;b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return d.trigger("eventClick",this,a,c)}).hover(function(c){d.trigger("eventMouseover",this,a,c)},function(c){d.trigger("eventMouseout",this,a,c)})},option:function(a,b){a=this.options[a];if(typeof a=="object")return Ya(a,b||this.name);return a},sliceSegs:function(a,
b,d,c){var h=[],o,j=a.length,E,C,r,N,D;for(o=0;o<j;o++){E=a[o];C=E.start;r=b[o];if(r>d&&C<c){if(C<d){C=q(d);N=false}else{C=C;N=true}if(r>c){r=q(c);D=false}else{r=r;D=true}h.push({event:E,start:C,end:r,isStart:N,isEnd:D,msLength:r-C})}}return h.sort(pb)}},vb=864E5,qb=36E5,ob=6E4;ra.addDays=w;ra.cloneDate=q;var Za=ra.parseDate=function(a){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+$/))return new Date(parseInt(a)*1E3);return wb(a,
true)||(a?new Date(a):null)}return null},wb=ra.parseISO8601=function(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!a)return null;var d=new Date(a[1],0,1),c=new Date(a[1],0,1,9,0),h=0;if(a[3]){d.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){d.setDate(a[5]);c.setDate(a[5])}Wa(d,c);a[7]&&d.setHours(a[7]);a[8]&&d.setMinutes(a[8]);a[10]&&d.setSeconds(a[10]);a[12]&&d.setMilliseconds(Number("0."+a[12])*
1E3);Wa(d,c);if(!b){if(a[14]){h=Number(a[16])*60+Number(a[17]);h*=a[15]=="-"?1:-1}h-=d.getTimezoneOffset()}return new Date(+d+h*60*1E3)},gb=ra.parseTime=function(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1]);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2]):0)}},na=ra.formatDate=function(a,b,d){return Aa(a,null,b,d)},Aa=ra.formatDates=function(a,
b,d,c){c=c||Ma;var h=a,o=b,j,E=d.length,C,r,N,D="";for(j=0;j<E;j++){C=d.charAt(j);if(C=="'")for(r=j+1;r<E;r++){if(d.charAt(r)=="'"){if(h){D+=r==j+1?"'":d.substring(j+1,r);j=r}break}}else if(C=="(")for(r=j+1;r<E;r++){if(d.charAt(r)==")"){j=na(h,d.substring(j+1,r),c);if(parseInt(j.replace(/\D/,"")))D+=j;j=r;break}}else if(C=="[")for(r=j+1;r<E;r++){if(d.charAt(r)=="]"){C=d.substring(j+1,r);j=na(h,C,c);if(j!=na(o,C,c))D+=j;j=r;break}}else if(C=="{"){h=b;o=a}else if(C=="}"){h=a;o=b}else{for(r=E;r>j;r--)if(N=
xb[d.substring(j,r)]){if(h)D+=N(h,c);j=r-1;break}if(r==j)if(h)D+=C}}return D},xb={s:function(a){return a.getSeconds()},ss:function(a){return Fa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Fa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Fa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Fa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Fa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},
dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Fa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<
12?"AM":"PM"},u:function(a){return na(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};ra.setOuterWidth=Ca;ra.setOuterHeight=Ia;var La,J,va=["sun","mon","tue","wed","thu","fri","sat"];ra.cmp=tb;ra.publicMethods={}})(jQuery);

/*

 FullCalendar v1.4.8-IE9
 http://arshaw.com/fullcalendar/

 with some adaptations for joomla gcalendar component
 http://github.com/tpruvot/fullcalendar

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2010 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Mon Oct 25 03:22:46 2010 +0200

*/
(function(n,ca){function jb(a){n.extend(true,Sa,a)}function Eb(a,b,e){function g(c){if(ka){E();ia();T();F(c)}else h()}function h(){xa=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");ka=n("<div class='fc-content "+xa+"-widget-content' style='position:relative'/>").prependTo(a);W=new Fb(r,b);(va=W.render())&&a.prepend(va);y(b.defaultView);n(window).resize(A);v()||t()}function t(){setTimeout(function(){!G.start&&v()&&F()},0)}function i(){n(window).unbind("resize",
A);W.destroy();ka.remove();a.removeClass("fc fc-rtl fc-ui-widget")}function o(){return da.offsetWidth!==0}function v(){return n("body")[0].offsetWidth!==0}function y(c){if(!G||c!=G.name){d++;M();var q=G,H;if(q){if(q.eventsChanged){T();q.eventDirty=q.eventsChanged=false}(q.beforeHide||kb)();Ua(ka,Ea(ka));q.element.hide()}else Ua(ka,1);ka.css("overflow","hidden");if(G=R[c])G.element.show();else G=R[c]=new Ka[c](H=ua=n("<div class='fc-view fc-view-"+c+"' style='position:absolute'/>").appendTo(ka),r);
q&&W.deactivateButton(q.name);W.activateButton(c);F();ka.css("overflow","");q&&Ua(ka,1);H||(G.afterShow||kb)();d--}}function F(c){if(o()){d++;M();ja===ca&&E();if(!G.start||c||m<G.start||m>=G.end){G.render(m,c||0);J(true);!b.lazyFetching||ea()?$():G.renderEvents(la())}else if(G.sizeDirty||G.eventsDirty||!b.lazyFetching){G.clearEvents();G.sizeDirty&&J();!b.lazyFetching||ea()?$():G.renderEvents(la())}ha=a.outerWidth();G.sizeDirty=false;G.eventsDirty=false;W.updateTitle(G.title);c=new Date;c>=G.start&&
c<G.end?W.disableButton("today"):W.enableButton("today");d--;G.trigger("viewDisplay",da)}}function E(){ja=b.contentHeight?b.contentHeight:b.height?b.height-Va(ka[0])-(va?Ea(va):0):Math.round(Qa(ka)/Math.max(b.aspectRatio,0.5))}function J(c){d++;G.setHeight(ja,c);if(ua){ua.css("position","relative");ua=null}G.setWidth(Qa(ka),c);d--}function A(){if(!d)if(G.start){var c=++k;setTimeout(function(){if(c==k&&!d&&o())if(ha!=(ha=a.outerWidth())){d++;Q();G.trigger("windowResize",da);d--}},200)}else t()}function Q(){ia();
if(o()){E();J();M();G.rerenderEvents();G.sizeDirty=false}}function ia(){n.each(R,function(c,q){q.sizeDirty=true})}function X(){T();if(o()){G.clearEvents();G.renderEvents(la());G.eventsDirty=false}}function T(){n.each(R,function(c,q){q.eventsDirty=true})}function $(){S(function(c){G.renderEvents(c)})}function Y(c,q,H){G.select(c,q,H===ca?true:H)}function M(){G&&G.unselect()}function aa(){F(-1)}function w(){F(1)}function C(){Wa(m,-1);F()}function N(){Wa(m,1);F()}function l(){m=new Date;F()}function p(c,
q,H){if(c instanceof Date)m=z(c);else lb(m,c,q,H);F()}function L(c,q,H){c!==ca&&Wa(m,c);q!==ca&&Xa(m,q);H!==ca&&O(m,H);F()}function f(){return z(m)}function I(){return G}function P(c,q){if(q===ca)return b[c];if(c=="height"||c=="contentHeight"||c=="aspectRatio"){b[c]=q;Q()}}function j(c,q){if(b[c])return b[c].apply(q||da,Array.prototype.slice.call(arguments,2))}var r=this;r.options=b;r.render=g;r.destroy=i;r.changeView=y;r.select=Y;r.unselect=M;r.rerenderEvents=X;r.prev=aa;r.next=w;r.prevYear=C;r.nextYear=
N;r.today=l;r.gotoDate=p;r.incrementDate=L;r.formatDate=function(c,q){return Ma(c,q,b)};r.formatDates=function(c,q,H){return Ya(c,q,H,b)};r.getDate=f;r.getView=I;r.option=P;r.trigger=j;Gb.call(r,b,e);var S=r.fetchEvents,ea=r.isFetchNeeded,la=r.clientEvents,da=a[0],W,va,ka,xa,G,R={},ha,ja,ua,k=0,d=0,m=new Date;lb(m,b.year,b.month,b.date);var u;b.droppable&&n(document).bind("dragstart",function(c,q){var H=c.target,U=n(H);if(!U.parents(".fc").length){var ba=b.dropAccept;if(n.isFunction(ba)?ba.call(H,
U):U.is(ba)){u=H;G.dragStart(u,c,q)}}}).bind("dragstop",function(c,q){if(u){G.dragStop(u,c,q);u=null}})}function Fb(a,b){function e(){J=b.theme?"ui":"fc";var A=b.header;if(A)return E=n("<table class='fc-header'/>").append(n("<tr/>").append(n("<td class='fc-header-left'/>").append(h(A.left))).append(n("<td class='fc-header-center'/>").append(h(A.center))).append(n("<td class='fc-header-right'/>").append(h(A.right))))}function g(){E.remove()}function h(A){if(A){var Q=n("<tr/>");n.each(A.split(" "),
function(ia){ia>0&&Q.append("<td><span class='fc-header-space'/></td>");var X;n.each(this.split(","),function(T,$){if($=="title"){Q.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");X&&X.addClass(J+"-corner-right");X=null}else{var Y;if(a[$])Y=a[$];else if(Ka[$])Y=function(){M.removeClass(J+"-state-hover");a.changeView($)};if(Y){X&&X.addClass(J+"-no-right");var M;T=b.theme?Za(b.buttonIcons,$):null;var aa=Za(b.buttonText,$);if(T)M=n("<div class='fc-button-"+$+" ui-state-default'><a><span class='ui-icon ui-icon-"+
T+"'/></a></div>");else if(aa)M=n("<div class='fc-button-"+$+" "+J+"-state-default'><a><span>"+aa+"</span></a></div>");if(M){M.click(function(){M.hasClass(J+"-state-disabled")||Y()}).mousedown(function(){M.not("."+J+"-state-active").not("."+J+"-state-disabled").addClass(J+"-state-down")}).mouseup(function(){M.removeClass(J+"-state-down")}).hover(function(){M.not("."+J+"-state-active").not("."+J+"-state-disabled").addClass(J+"-state-hover")},function(){M.removeClass(J+"-state-hover").removeClass(J+
"-state-down")}).appendTo(n("<td/>").appendTo(Q));X?X.addClass(J+"-no-right"):M.addClass(J+"-corner-left");$a(M.closest("td"));X=M}}}});X&&X.addClass(J+"-corner-right")});return n("<table/>").append(Q)}}function t(A){E.find("h2.fc-header-title").html(A)}function i(A){E.find("div.fc-button-"+A).addClass(J+"-state-active")}function o(A){E.find("div.fc-button-"+A).removeClass(J+"-state-active")}function v(A){E.find("div.fc-button-"+A).addClass(J+"-state-disabled")}function y(A){E.find("div.fc-button-"+
A).removeClass(J+"-state-disabled")}var F=this;F.render=e;F.destroy=g;F.updateTitle=t;F.activateButton=i;F.deactivateButton=o;F.disableButton=v;F.enableButton=y;var E=n([]),J}function Gb(a,b){function e(f){b.indexOf(f)<0&&b.push(f)}function g(f){e(f);y(f,w)}function h(){p=b=[];b=[].concat(b);w()}function t(f){var I=[];b=n.grep(b,function(P){if(typeof P==="object"&&f!==P)I=I.concat(P);return P!=f});p=n.grep(p,function(P){return P.source!=f});b=I.concat(b);w()}function i(f){p=[];o(b,f)}function o(f,
I){function P(la,da){var W=M();if(S!=W)S.eventsDirty=true;if(j==C&&N<=W.visStart&&l>=W.visEnd){if(n.inArray(la,b)!=-1){for(W=0;W<da.length;W++){$(da[W]);da[W].source=la}p=p.concat(da)}--r||I&&I(p)}}var j=++C,r=f.length,S=M();N=z(S.visStart);l=z(S.visEnd);for(var ea=0;ea<f.length;ea++)v(f[ea],P)}function v(f,I){function P(S){I(f,S)}function j(S){P(S);T()}if(typeof f=="string"){var r={};r[a.startParam]=Math.round(N.getTime()/1E3);r[a.endParam]=Math.round(l.getTime()/1E3);r.browserTimezone=N.getTimezoneOffset();
if(a.cacheParam)r[a.cacheParam]=(new Date).getTime();X();n.ajax({url:f,global:false,type:a.requestMethod||"GET",dataType:"json",data:r,cache:a.cacheParam||false,success:j})}else if(n.isFunction(f)){X();f(z(N),z(l),j)}else f&&P(f)}function y(f,I){o([f],I)}function F(){i(w)}function E(){var f=M();return!N||f.visStart<N||f.visEnd>l}function J(f){var I,P=p.length,j,r=M().defaultEventEnd,S=f.start-f._start,ea=f.end?f.end-(f._end||r(f)):0;for(I=0;I<P;I++){j=p[I];if(j._id==f._id&&j!=f){j.start=new Date(+j.start+
S);j.end=f.end?j.end?new Date(+j.end+ea):new Date(+r(j)+ea):null;j.title=f.title;j.url=f.url;j.allDay=f.allDay;j.className=f.className;j.editable=f.editable;j.resizable=f.resizable;j.color=f.color;j.bgColor=f.bgColor;j.borderColor=f.borderColor;$(j)}}$(f);w()}function A(f,I){$(f);if(!f.source){if(I)(f.source=b[0]).push(f);p.push(f)}w()}function Q(f){if(f){if(!n.isFunction(f)){var I=f+"";f=function(j){return j._id==I}}p=n.grep(p,f,true);for(P=0;P<b.length;P++)if(typeof b[P]=="object")b[P]=n.grep(b[P],
f,true)}else{p=[];for(var P=0;P<b.length;P++)if(typeof b[P]=="object")b[P]=[]}w()}function ia(f){if(n.isFunction(f))return n.grep(p,f);else if(f){f+="";return n.grep(p,function(I){return I._id==f})}return p}function X(){L++||aa("loading",null,true)}function T(){--L||aa("loading",null,false)}function $(f){f._id=f._id||(f.id===ca?"_fc"+Hb++:f.id+"");if(f.date){if(!f.start)f.start=f.date;delete f.date}f._start=z(f.start=ab(f.start,a.ignoreTimezone));f.end=ab(f.end,a.ignoreTimezone);if(f.end&&f.end<=
f.start)f.end=null;f._end=f.end?z(f.end):null;if(f.allDay===ca)f.allDay=a.allDayDefault;if(f.className){if(typeof f.className=="string")f.className=f.className.split(/\s+/)}else f.className=[]}var Y=this;Y.fetchEvents=i;Y.refetchEvents=F;Y.isFetchNeeded=E;Y.addEventSource=g;Y.addEventSourceFast=e;Y.clearEventSources=h;Y.removeEventSource=t;Y.updateEvent=J;Y.renderEvent=A;Y.removeEvents=Q;Y.clientEvents=ia;Y.normalizeEvent=$;var M=Y.getView,aa=Y.trigger,w=Y.rerenderEvents,C=0,N,l,p=[],L=0;b.unshift([])}
function Ib(a,b){function e(o,v){if(v){Xa(o,v);o.setDate(1)}o=z(o,true);o.setDate(1);v=Xa(z(o),1);var y=z(o),F=z(v),E=h("firstDay"),J=h("weekends")?0:1;if(J){wa(y);wa(F,-1,true)}O(y,-((y.getDay()-Math.max(E,J)+7)%7));O(F,(7-F.getDay()+Math.max(E,J))%7);E=Math.round((F-y)/(mb*7));if(h("weekMode")=="fixed"){O(F,(6-E)*7);E=6}g.title=i(o,h("titleFormat"));g.start=o;g.end=v;g.visStart=y;g.visEnd=F;t(E,J?5:7,true)}var g=this;g.render=e;bb.call(g,a,b,"month");var h=g.opt,t=g.renderBasic,i=b.formatDate}function Jb(a,
b){function e(o,v){v&&O(o,v*7);o=O(z(o),-((o.getDay()-h("firstDay")+7)%7));v=O(z(o),7);var y=z(o),F=z(v),E=h("weekends");if(!E){wa(y);wa(F,-1,true)}g.title=i(y,O(z(F),-1),h("titleFormat"));g.start=o;g.end=v;g.visStart=y;g.visEnd=F;t(1,E?7:5,false)}var g=this;g.render=e;bb.call(g,a,b,"basicWeek");var h=g.opt,t=g.renderBasic,i=b.formatDates}function Kb(a,b){function e(o,v){if(v){O(o,v);h("weekends")||wa(o,v<0?-1:1)}g.title=i(o,h("titleFormat"));g.start=g.visStart=z(o,true);g.end=g.visEnd=O(z(g.start),
1);t(1,1,false)}var g=this;g.render=e;bb.call(g,a,b,"basicDay");var h=g.opt,t=g.renderBasic,i=b.formatDate}function bb(a,b,e){function g(d,m,u){da=d;W=m;S=0+C("weekNumbers");if(P=C("isRTL")){j=-1;r=W-1;S&&r++}else{j=1;r=0;S&&r--}ea=C("firstDay");la=C("weekends")?0:1;var c=C("theme")?"ui":"fc",q=C("columnFormat"),H=w.start.getMonth(),U=La(new Date),ba,D=z(w.visStart);if(R){l();m=R.find("tr").length;if(da<m)R.find("tr:gt("+(da-1)+")").remove();else if(da>m){d="";for(m=m;m<da;m++){d+="<tr class='fc-week"+
m+"'>";if(S)d+="<th class='fc-axis "+c+"-state-default "+c+"-border-top fc-leftmost fc-weeknumber'>"+D.getWeek()+"</th>";for(ba=0;ba<W;ba++){d+="<td class='fc-"+Fa[D.getDay()]+" "+c+"-state-default fc-new fc-day"+(m*W+ba)+(ba==r?" fc-leftmost":"")+"'>"+(u?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";O(D,1);la&&wa(D)}d+="</tr>"}R.append(d)}i(R.find("td.fc-new").removeClass("fc-new"));D=z(w.visStart);R.find("td").each(function(){var ga=
n(this);S&&D.getDay()==3&&ga.closest("tr").find("th").text(D.getWeek());if(da>1)D.getMonth()==H?ga.removeClass("fc-other-month"):ga.addClass("fc-other-month");if(+D==+U)ga.removeClass("fc-not-today fc-before-today").addClass(c+"-state-highlight fc-today");else+D<+U?ga.addClass("fc-not-today fc-before-today").removeClass(c+"-state-highlight fc-today"):ga.addClass("fc-not-today").removeClass(c+"-state-highlight fc-today fc-before-today");ga.find("div.fc-day-number").text(D.getDate());O(D,1);la&&wa(D)});
if(da==1){D=z(w.visStart);G.find("th").each(function(ga,ma){n(ma).text(I(D,q));ma.className=ma.className.replace(/^fc-\w+(?= )/,"fc-"+Fa[D.getDay()]);O(D,1);la&&wa(D)});D=z(w.visStart);R.find("td").each(function(ga,ma){ma.className=ma.className.replace(/^fc-\w+(?= )/,"fc-"+Fa[D.getDay()]);O(D,1);la&&wa(D)})}}else{var ra=n("<table/>").appendTo(a);d="<thead><tr>";if(S)d+="<th width='25px' class='fc-axis fc-leftmost "+c+"-state-default'>&nbsp;</th>";for(m=0;m<W;m++){d+="<th class='fc-"+Fa[D.getDay()]+
" "+c+"-state-default"+(m==r?" fc-leftmost":"")+"'>"+I(D,q)+"</th>";O(D,1);la&&wa(D)}G=n(d+"</tr></thead>").appendTo(ra);d="<tbody>";D=z(w.visStart);for(m=0;m<da;m++){d+="<tr class='fc-week"+m+"'>";if(S)d+="<th class='fc-axis "+c+"-state-default "+c+"-border-top fc-leftmost fc-weeknumber'>"+D.getWeek()+"</th>";for(ba=0;ba<W;ba++){d+="<td class='fc-"+Fa[D.getDay()]+" "+c+"-state-default fc-new fc-day"+(m*W+ba)+(ba==r?" fc-leftmost":"")+(da>1&&D.getMonth()!=H?" fc-other-month":"")+(+D==+U?" fc-today "+
c+"-state-highlight":+D<+U?" fc-before-today fc-not-today":" fc-not-today")+"'>"+(u?"<div class='fc-day-number'>"+D.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";O(D,1);la&&wa(D)}d+="</tr>"}R=n(d+"</tbody>").appendTo(ra);i(R.find("td.fc-new").removeClass("fc-new"));ha=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}}function h(d){xa=d;d=R.find("tr td:first-child");var m=xa-G.outerHeight(),u;if(S)d=R.find("tr th:first-child");
if(C("weekMode")=="variable")u=m=Math.floor(m/(da==1?2:6));else{u=Math.floor(m/da);m=m-u*(da-1)}if(cb===ca){var c=R.find("tr:first").find("td:first");Ia(c,u);cb=u!=c.outerHeight()}if(cb){d.slice(0,-1).height(u);d.slice(-1).height(m)}else{Ia(d.slice(0,-1),u);Ia(d.slice(-1),m)}}function t(d){ka=d;k.clear();if(S){va=Math.floor((ka-25)/W);Aa(G.find("th").slice(1,-1),va)}else{va=Math.floor(ka/W);Aa(G.find("th").slice(0,-1),va)}}function i(d){d.click(o).mousedown(f)}function o(d){if(!C("selectable")){var m=
parseInt(this.className.match(/fc\-day(\d+)/)[1]);m=O(z(w.visStart),Math.floor(m/W)*7+m%W);N("dayClick",this,m,true,d)}}function v(d,m,u){u&&ja.build();u=z(w.visStart);for(var c=O(z(u),W),q=0;q<da;q++){var H=new Date(Math.max(u,d)),U=new Date(Math.min(c,m));if(H<U){var ba;if(P){ba=Ga(U,u)*j+r+1;H=Ga(H,u)*j+r+1}else{ba=Ga(H,u);H=Ga(U,u)}i(y(q,ba,q,H-1))}O(u,7);O(c,7)}}function y(d,m,u,c){d=ja.rect(d,m,u,c,a);return p(d,a)}function F(d){return z(d)}function E(d,m){v(d,O(z(m),1),true)}function J(){L()}
function A(d,m){ua.start(function(u){L();u&&y(u.row,u.col,u.row,u.col)},m)}function Q(d,m,u){var c=ua.stop();L();if(c){c=Y(c);N("drop",d,c,true,m,u)}}function ia(d){return z(d.start)}function X(d){return k.left(d)}function T(d){return k.right(d)}function $(d){return(d-Math.max(ea,la)+W)%W}function Y(d){return O(z(w.visStart),d.row*7+d.col*j+r+S)}function M(d){return R.find("tr:eq("+d+")")}function aa(){return{left:0,right:ka}}var w=this;w.renderBasic=g;w.setHeight=h;w.setWidth=t;w.renderDayOverlay=
v;w.defaultSelectionEnd=F;w.renderSelection=E;w.clearSelection=J;w.dragStart=A;w.dragStop=Q;w.defaultEventEnd=ia;w.getHoverListener=function(){return ua};w.colContentLeft=X;w.colContentRight=T;w.dayOfWeekCol=$;w.cellDate=Y;w.cellIsAllDay=function(){return true};w.allDayTR=M;w.allDayBounds=aa;w.getRowCnt=function(){return da};w.getColCnt=function(){return W};w.getColWidth=function(){return va};w.getDaySegmentContainer=function(){return ha};nb.call(w,a,b,e);ob.call(w);pb.call(w);Lb.call(w);var C=w.opt,
N=w.trigger,l=w.clearEvents,p=w.renderOverlay,L=w.clearOverlays,f=w.daySelectionMousedown,I=b.formatDate,P,j,r,S,ea,la,da,W,va,ka,xa,G,R,ha,ja,ua,k;$a(a.addClass("fc-grid"));ja=new qb(function(d,m){var u,c,q,H=R.find("tr:first td");if(P)H=n(H.get().reverse());H.each(function(U,ba){u=n(ba);c=u.offset().left;if(U)q[1]=c;q=[c];m[U]=q});q[1]=c+u.outerWidth();R.find("tr").each(function(U,ba){u=n(ba);c=u.offset().top;if(U)q[1]=c;q=[c];d[U]=q});q[1]=c+u.outerHeight()});ua=new rb(ja);k=new sb(function(d){return R.find("td:eq("+
d+") div div")})}function Lb(){function a(N){y(C=N);aa(g(N))}function b(N){e();aa(g(C),N)}function e(){F();ia().empty()}function g(N){var l=Y(),p=M(),L=z(i.visStart);p=O(z(L),p);var f=n.map(N,Ra),I,P,j,r,S,ea,la=[];for(I=0;I<l;I++){P=db(eb(N,f,L,p));for(j=0;j<P.length;j++){r=P[j];for(S=0;S<r.length;S++){ea=r[S];ea.row=I;ea.level=j;la.push(ea)}}O(L,7);O(p,7)}return la}function h(N,l,p){E(N,l);if(N.editable||N.editable===ca&&o("editable")){t(N,l);p.isEnd&&w(N,l)}}function t(N,l){if(!o("disableDragging")&&
l.draggable){var p=X(),L;l.draggable({zIndex:9,delay:50,opacity:o("dragOpacity"),revertDuration:o("dragRevertDuration"),start:function(f,I){v("eventDragStart",l,N,f,I);A(N,l);p.start(function(P,j,r,S){l.draggable("option","revert",!P||!r&&!S);$();if(P){L=r*7+S*(o("isRTL")?-1:1);T(O(z(N.start),L),O(Ra(N),L))}else L=0},f,"drag")},stop:function(f,I){p.stop();$();v("eventDragStop",l,N,f,I);if(L){l.find("a").removeAttr("href");Q(this,N,L,0,N.allDay,f,I)}else{n.browser.msie&&l.css("filter","");J(N,l)}}})}}
var i=this;i.renderEvents=a;i.rerenderEvents=b;i.clearEvents=e;i.bindDaySeg=h;tb.call(i);var o=i.opt,v=i.trigger,y=i.reportEvents,F=i.clearEventData,E=i.eventElementHandlers,J=i.showEvents,A=i.hideEvents,Q=i.eventDrop,ia=i.getDaySegmentContainer,X=i.getHoverListener,T=i.renderDayOverlay,$=i.clearOverlays,Y=i.getRowCnt,M=i.getColCnt,aa=i.renderDaySegs,w=i.resizableDayEvent,C=[]}function Mb(a,b){function e(o,v){v&&O(o,v*7);o=O(z(o),-((o.getDay()-h("firstDay")+7)%7));v=O(z(o),7);var y=z(o),F=z(v),E=
h("weekends");if(!E){wa(y);wa(F,-1,true)}g.title=i(y,O(z(F),-1),h("titleFormat"));g.start=o;g.end=v;g.visStart=y;g.visEnd=F;t(E?7:5)}var g=this;g.render=e;ub.call(g,a,b,"agendaWeek");var h=g.opt,t=g.renderAgenda,i=b.formatDates}function Nb(a,b){function e(o,v){if(v){O(o,v);h("weekends")||wa(o,v<0?-1:1)}v=z(o,true);var y=O(z(v),1);g.title=i(o,h("titleFormat"));g.start=g.visStart=v;g.end=g.visEnd=y;t(1)}var g=this;g.render=e;ub.call(g,a,b,"agendaDay");var h=g.opt,t=g.renderAgenda,i=b.formatDate}function ub(a,
b,e){function g(s){d=s;D=r("theme")?"ui":"fc";ga=r("weekends")?0:1;ra=r("firstDay");if(ma=r("isRTL")){fa=-1;V=d-1}else{fa=1;V=0}pa=fb(r("minTime"));na=fb(r("maxTime"));s=ma?O(z(j.visEnd),-1):z(j.visStart);var x=z(s),B=La(new Date),K=r("columnFormat");if(R){ea();r("weekNumbers")&&R.find("tr:first th:first").text(G(j.visStart,"w"));R.find("tr:first th").slice(1,-1).each(function(Na,ya){n(ya).text(G(x,K));ya.className=ya.className.replace(/^fc-\w+(?= )/,"fc-"+Fa[x.getDay()]);O(x,fa);ga&&wa(x,fa)});x=
z(s);k.find("td").each(function(Na,ya){ya.className=ya.className.replace(/^fc-\w+(?= )/,"fc-"+Fa[x.getDay()]);if(+x==+B)n(ya).removeClass("fc-not-today fc-before-today").addClass(D+"-state-highlight fc-today");else+x<+B?n(ya).addClass("fc-not-today fc-before-today").removeClass(D+"-state-highlight fc-today"):n(ya).addClass("fc-not-today").removeClass(D+"-state-highlight fc-today fc-before-today");O(x,fa);ga&&wa(x,fa)})}else{var Z,sa,Ha=r("slotMinutes")%15==0,qa="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+
(r("allDaySlot")?"":" fc-last")+"'><th class='fc-leftmost "+D+"-state-default'>"+(r("weekNumbers")?G(j.visStart,"w"):"&nbsp;")+"</th>";for(Z=0;Z<d;Z++){qa+="<th class='fc-"+Fa[x.getDay()]+" "+D+"-state-default'>"+G(x,K)+"</th>";O(x,fa);ga&&wa(x,fa)}qa+="<th class='"+D+"-state-default'>&nbsp;</th></tr>";if(r("allDaySlot"))qa+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+D+"-state-default'>"+r("allDayText")+"</th><td colspan='"+d+"' class='"+D+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+
D+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(d+2)+"' class='"+D+"-state-default fc-leftmost'><div/></th></tr>";qa+="</table></div>";R=n(qa).appendTo(a);y(R.find("td"));vb=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(R);x=wb();var gb=ta(z(x),na);ta(x,pa);qa="<table>";for(Z=0;x<gb;Z++){sa=x.getMinutes();qa+="<tr class='"+(!Z?"fc-first":!sa?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+D+"-state-default'>"+(!Ha||!sa?G(x,r("axisFormat")):
"&nbsp;")+"</th><td class='fc-slot"+Z+" "+D+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";ta(x,r("slotMinutes"));m++}qa+="</table>";ha=n("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(ja=n("<div style='position:relative;overflow:hidden'>").append(ua=n(qa))).appendTo(a);F(ha.find("td"));xb=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ja);x=z(s);qa="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";
for(Z=0;Z<d;Z++){qa+="<td class='fc-"+Fa[x.getDay()]+" "+D+"-state-default "+(!Z?"fc-leftmost ":"")+(+x==+B?D+"-state-highlight fc-today":+x<+B?" fc-before-today fc-not-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";O(x,fa);ga&&wa(x,fa)}qa+="</tr></table></div>";k=n(qa).appendTo(a)}}function h(s,x){if(s===ca)s=U;U=s;Ba={};var B=s-Ea(R);B=Math.min(B,Ea(ua));Ia(ha,B);Ta&&Ia(ha,s-Ea(R)-1);q=Ea(ha.find("tr:first div"))+1;x&&i()}function t(s){H=s;Ca.clear();Aa(ha,s);
ha.css("overflow","auto").width(s);var x=R.find("tr:first th"),B=R.find("tr.fc-all-day th:last"),K=k.find("td"),Z=ha[0].clientWidth;Aa(ua,Z);Z=ha[0].clientWidth;ua.width(Z);u=0;var sa=R.find("tr:lt(2) th:first").add(ha.find("tr:first th"));sa.width(1);sa.each(function(){u=Math.max(u,n(this).outerWidth())});Aa(sa,u);c=Math.floor((Z-u)/d);Aa(x.slice(1,-2),c);Aa(K.slice(0,-1),c);if(s!=Z){Aa(x.slice(-2,-1),Z-u-c*(d-1));x.slice(-1).show();B.show()}else{ha.css("overflow","hidden");x.slice(-2,-1).width("");
x.slice(-1).hide();B.hide()}k.css({top:Ea(R.find("tr")),left:u,width:Z-u,height:U})}function i(){var s=wb(),x=z(s);x.setHours(r("firstHour"));var B=$(s,x)+1;s=function(){ha.scrollTop(B)};s();setTimeout(s,0)}function o(){ba=ha.scrollTop()}function v(){ha.scrollTop(ba)}function y(s){s.click(E).mousedown(ka)}function F(s){s.click(E).mousedown(f)}function E(s){if(!r("selectable")){var x=Math.min(d-1,Math.floor((s.pageX-k.offset().left)/c));x=O(z(j.visStart),x*fa+V);var B=this.className.match(/fc-slot(\d+)/);
if(B){B=parseInt(B[1])*r("slotMinutes");var K=Math.floor(B/60);x.setHours(K);x.setMinutes(B%60+pa);S("dayClick",this,x,false,s)}else S("dayClick",this,x,true,s)}}function J(s,x,B){B&&oa.build();var K=z(j.visStart);if(ma){B=Ga(x,K)*fa+V+1;s=Ga(s,K)*fa+V+1}else{B=Ga(s,K);s=Ga(x,K)}B=Math.max(0,B);s=Math.min(d,s);B<s&&y(A(0,B,0,s-1))}function A(s,x,B,K){s=oa.rect(s,x,B,K,R);return la(s,R)}function Q(s,x){for(var B=z(j.visStart),K=O(z(B),1),Z=0;Z<d;Z++){var sa=new Date(Math.max(B,s)),Ha=new Date(Math.min(K,
x));if(sa<Ha){var qa=Z*fa+V;qa=oa.rect(0,qa,0,qa,ja);sa=$(B,sa);Ha=$(B,Ha);qa.top=sa;qa.height=Ha-sa;F(la(qa,ja))}O(B,1);O(K,1)}}function ia(s){return u+Ca.left(s)}function X(s){return u+Ca.right(s)}function T(s){return(s-Math.max(ra,ga)+d)%d*fa+V}function $(s,x){s=z(s,true);if(x<ta(z(s),pa))return 0;if(x>=ta(z(s),na))return Ea(ja);s=r("slotMinutes");x=x.getHours()*60+x.getMinutes()-pa;var B=Math.floor(x/s),K=Ba[B];if(K===ca)K=Ba[B]=ha.find("tr:eq("+B+") td div")[0].offsetTop;return Math.max(0,Math.round(K-
1+q*(x%s/s)))}function Y(s){var x=O(z(j.visStart),s.col*fa+V);s=s.row;r("allDaySlot")&&s--;s>=0&&ta(x,pa+s*r("slotMinutes"));return x}function M(s){return r("allDaySlot")&&!s.row}function aa(){return{left:u,right:H}}function w(){return R.find("tr.fc-all-day")}function C(s){var x=z(s.start);if(s.allDay)return x;return ta(x,r("defaultEventMinutes"))}function N(s,x){if(x)return z(s);return ta(z(s),r("slotMinutes"))}function l(s,x,B){if(B)r("allDaySlot")&&J(s,O(z(x),1),true);else p(s,x)}function p(s,
x){var B=r("selectHelper");oa.build();if(B){var K=Ga(s,j.visStart)*fa+V;if(K>=0&&K<d){K=oa.rect(0,K,0,K,ja);var Z=$(s,s),sa=$(s,x);if(sa>Z){K.top=Z;K.height=sa-Z;K.left+=2;K.width-=5;if(n.isFunction(B)){if(s=B(s,x)){K.position="absolute";K.zIndex=8;za=n(s).css(K).appendTo(ja)}}else{za=n(xa({title:"",start:s,end:x,className:[],editable:false},K,"fc-event fc-event-vert fc-corner-top fc-corner-bottom "));n.browser.msie&&za.find("span.fc-event-bg").hide();za.css("opacity",r("dragOpacity"))}if(za){F(za);
ja.append(za);Aa(za,K.width,true);Ia(za,K.height,true)}}}}else Q(s,x)}function L(){da();if(za){za.remove();za=null}}function f(s){if(s.which==1&&r("selectable")){va(s);var x=this,B;Da.start(function(K,Z){L();if(K&&K.col==Z.col&&!M(K)){Z=Y(Z);K=Y(K);B=[Z,ta(z(Z),r("slotMinutes")),K,ta(z(K),r("slotMinutes"))].sort(yb);p(B[0],B[3])}else B=null},s);n(document).one("mouseup",function(K){Da.stop();if(B){+B[0]==+B[1]&&S("dayClick",x,B[0],false,K);W(B[0],B[3],false,K)}})}}function I(s,x){Da.start(function(B){da();
if(B)if(M(B))A(B.row,B.col,B.row,B.col);else{B=Y(B);var K=ta(z(B),r("defaultEventMinutes"));Q(B,K)}},x)}function P(s,x,B){var K=Da.stop();da();K&&S("drop",s,Y(K),M(K),x,B)}var j=this;j.renderAgenda=g;j.setWidth=t;j.setHeight=h;j.beforeHide=o;j.afterShow=v;j.defaultEventEnd=C;j.timePosition=$;j.dayOfWeekCol=T;j.cellDate=Y;j.cellIsAllDay=M;j.allDayTR=w;j.allDayBounds=aa;j.getHoverListener=function(){return Da};j.colContentLeft=ia;j.colContentRight=X;j.getDaySegmentContainer=function(){return vb};j.getSlotSegmentContainer=
function(){return xb};j.getMinMinute=function(){return pa};j.getMaxMinute=function(){return na};j.getBodyContent=function(){return ja};j.getRowCnt=function(){return 1};j.getColCnt=function(){return d};j.getColWidth=function(){return c};j.getSlotHeight=function(){return q};j.defaultSelectionEnd=N;j.renderDayOverlay=J;j.renderSelection=l;j.clearSelection=L;j.dragStart=I;j.dragStop=P;nb.call(j,a,b,e);ob.call(j);pb.call(j);Ob.call(j);var r=j.opt,S=j.trigger,ea=j.clearEvents,la=j.renderOverlay,da=j.clearOverlays,
W=j.reportSelection,va=j.unselect,ka=j.daySelectionMousedown,xa=j.slotSegHtml,G=b.formatDate,R,ha,ja,ua,k,d,m=0,u,c,q,H,U,ba,D,ra,ga,ma,fa,V,pa,na,oa,Da,Ca,Ba={},za,vb,xb;$a(a.addClass("fc-agenda"));oa=new qb(function(s,x){function B(ya){return Math.max(qa,Math.min(gb,ya))}var K,Z,sa;k.find("td").each(function(ya,Pb){K=n(Pb);Z=K.offset().left;if(ya)sa[1]=Z;sa=[Z];x[ya]=sa});sa[1]=Z+K.outerWidth();if(r("allDaySlot")){K=R.find("td");Z=K.offset().top;s[0]=[Z,Z+K.outerHeight()]}for(var Ha=ja.offset().top,
qa=ha.offset().top,gb=qa+ha.outerHeight(),Na=0;Na<m;Na++)s.push([B(Ha+q*Na),B(Ha+q*(Na+1))])});Da=new rb(oa);Ca=new sb(function(s){return k.find("td:eq("+s+") div div")})}function Ob(){function a(k,d){T(ua=k);var m,u=k.length,c=[],q=[];for(m=0;m<u;m++)k[m].allDay?c.push(k[m]):q.push(k[m]);if(Q("allDaySlot")){I(g(c),d);M()}i(h(q),d)}function b(k){e();a(ua,k)}function e(){$();aa().empty();w().empty()}function g(k){k=db(eb(k,n.map(k,Ra),A.visStart,A.visEnd));var d,m=k.length,u,c,q,H=[];for(d=0;d<m;d++){u=
k[d];for(c=0;c<u.length;c++){q=u[c];q.row=0;q.level=d;H.push(q)}}return H}function h(k){var d=j(),m=l(),u=N(),c=ta(z(A.visStart),m),q=n.map(k,t),H,U,ba,D,ra,ga,ma=[];for(H=0;H<d;H++){U=db(eb(k,q,c,ta(z(c),u-m)));Qb(U);for(ba=0;ba<U.length;ba++){D=U[ba];for(ra=0;ra<D.length;ra++){ga=D[ra];ga.col=H;ga.level=ba;ma.push(ga)}}O(c,1,true)}return ma}function t(k){return k.end?z(k.end):ta(z(k.start),Q("defaultEventMinutes"))}function i(k,d){var m,u=k.length,c,q,H,U,ba,D,ra,ga,ma,fa,V="",pa,na,oa={},Da={},
Ca=w(),Ba;m=j();if(pa=Q("isRTL")){na=-1;Ba=m-1}else{na=1;Ba=0}for(m=0;m<u;m++){c=k[m];q=c.event;H="fc-event fc-event-vert ";if(c.isStart)H+="fc-corner-top ";if(c.isEnd)H+="fc-corner-bottom ";U=p(c.start,c.start);ba=p(c.start,c.end);D=c.col;ra=c.level;ga=c.forward||0;ma=L(D*na+Ba);fa=f(D*na+Ba)-ma;fa=Math.min(fa-6,fa*0.95);D=ra?fa/(ra+ga+1):ga?(fa/(ga+1)-6)*2:fa;ra=ma+fa/(ra+ga+1)*ra*na+(pa?fa-D:0);c.top=U;c.left=ra;c.outerWidth=D;c.outerHeight=ba-U;V+=o(q,c,H)}Ca[0].innerHTML=V;pa=Ca.children();for(m=
0;m<u;m++){c=k[m];q=c.event;V=n(pa[m]);na=ia("eventRender",q,q,V);if(na===false)V.remove();else{if(na&&na!==true){V.remove();V=n(na).css({position:"absolute",top:c.top,left:c.left}).appendTo(Ca)}c.element=V;if(q._id===d)y(q,V,c);else V[0]._fci=m;la(q,V)}}zb(Ca,k,y);for(m=0;m<u;m++){c=k[m];if(V=c.element){q=oa[d=c.key=Ab(V[0])];c.vsides=q===ca?(oa[d]=Va(V[0],true)):q;q=Da[d];c.hsides=q===ca?(Da[d]=hb(V[0],true)):q;d=V.find("span.fc-event-title");if(d.length)c.titleTop=d[0].offsetTop}}for(m=0;m<u;m++){c=
k[m];if(V=c.element){V[0].style.width=Math.max(0,c.outerWidth-c.hsides)+"px";oa=Math.max(0,c.outerHeight-c.vsides);V[0].style.height=oa+"px";q=c.event;if(c.titleTop!==ca&&oa-c.titleTop<10){V.find("span.fc-event-time").text(ha(q.start,Q("timeFormat"))+" - "+q.title);V.find("span.fc-event-title").remove()}ia("eventAfterRender",q,q,V)}}}function o(k,d,m){var u="";if(k.color)u+="color:"+k.color+";";if(k.bgColor)u+="background-color:"+k.bgColor+";";if(k.borderColor)u+="border-color:"+k.borderColor+";";
return"<div class='"+m+k.className.join(" ")+"' style='position:absolute;z-index:8;top:"+d.top+"px;left:"+d.left+"px'><a"+(k.url?" href='"+Oa(k.url)+"'":"")+(u?" style='"+u+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+Oa(ja(k.start,k.end,Q("timeFormat")))+"</span><span class='fc-event-title'>"+Oa(k.title)+"</span></a>"+((k.resizable||k.resizable===ca)&&(k.editable||k.editable===ca&&Q("editable"))&&!Q("disableResizing")&&n.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":
"")+"</div>"}function v(k,d,m){Y(k,d);if(k.editable||k.editable===ca&&Q("editable")){F(k,d,m.isStart);m.isEnd&&P(k,d,r())}}function y(k,d,m){Y(k,d);if(k.editable||k.editable===ca&&Q("editable")){var u=d.find("span.fc-event-time");E(k,d,u);m.isEnd&&J(k,d,u)}}function F(k,d,m){if(!Q("disableDragging")&&d.draggable){var u,c=true,q,H=Q("isRTL")?-1:1,U=C(),ba=r(),D=S(),ra=l();d.draggable({zIndex:9,opacity:Q("dragOpacity","month"),revertDuration:Q("dragRevertDuration"),start:function(ma,fa){ia("eventDragStart",
d,k,ma,fa);W(k,d);u=Qa(d);U.start(function(V,pa,na,oa){d.draggable("option","revert",!V||!na&&!oa);G();if(V){q=oa*H;if(V.row){if(m&&c){Aa(d,ba-10);Ia(d,D*Math.round((k.end?(k.end-k.start)/Rb:Q("defaultEventMinutes"))/Q("slotMinutes")));d.draggable("option","grid",[ba,1]);c=false}}else{xa(O(z(k.start),q),O(Ra(k),q));ga()}}},ma,"drag")},stop:function(ma,fa){var V=U.stop();G();ia("eventDragStop",d,k,ma,fa);if(V&&(!c||q)){d.find("a").removeAttr("href");V=0;c||(V=Math.round((d.offset().top-ea().offset().top)/
D)*Q("slotMinutes")+ra-(k.start.getHours()*60+k.start.getMinutes()));va(this,k,q,V,c,ma,fa)}else{ga();n.browser.msie&&d.css("filter","");da(k,d)}}});function ga(){if(!c){Aa(d,u);d.height("");d.draggable("option","grid",null);c=true}}}}function E(k,d,m){if(!Q("disableDragging")&&d.draggable){var u,c=false,q,H,U,ba=Q("isRTL")?-1:1,D=C(),ra=j(),ga=r(),ma=S();d.draggable({zIndex:9,scroll:false,grid:[ga,ma],axis:ra==1?"y":false,opacity:Q("dragOpacity"),revertDuration:Q("dragRevertDuration"),start:function(pa,
na){ia("eventDragStart",d,k,pa,na);W(k,d);n.browser.msie&&d.find("span.fc-event-bg").hide();u=d.position();H=U=0;D.start(function(oa,Da,Ca,Ba){d.draggable("option","revert",!oa);G();if(oa){q=Ba*ba;if(Q("allDaySlot")&&!oa.row){if(!c){c=true;m.hide();d.draggable("option","grid",null)}xa(O(z(k.start),q),O(Ra(k),q))}else V()}},pa,"drag")},drag:function(pa,na){H=Math.round((na.position.top-u.top)/ma)*Q("slotMinutes");if(H!=U){c||fa(H);U=H}},stop:function(pa,na){var oa=D.stop();G();ia("eventDragStop",d,
k,pa,na);if(oa&&(q||H||c))va(this,k,q,c?0:H,c,pa,na);else{V();d.css(u);fa(0);n.browser.msie&&d.css("filter","").find("span.fc-event-bg").css("display","");da(k,d)}}});function fa(pa){var na=ta(z(k.start),pa),oa;if(k.end)oa=ta(z(k.end),pa);m.text(ja(na,oa,Q("timeFormat")))}function V(){if(c){m.css("display","");d.draggable("option","grid",[ga,ma]);c=false}}}}function J(k,d,m){if(!Q("disableResizing")&&d.resizable){var u,c,q=S();d.resizable({handles:{s:"div.ui-resizable-s"},grid:q,start:function(H,
U){u=c=0;W(k,d);n.browser.msie&&n.browser.version=="6.0"&&d.css("overflow","hidden");d.css("z-index",9);ia("eventResizeStart",this,k,H,U)},resize:function(H,U){u=Math.round((Math.max(q,Ea(d))-U.originalSize.height)/q);if(u!=c){m.text(ja(k.start,!u&&!k.end?null:ta(X(k),Q("slotMinutes")*u),Q("timeFormat")));c=u}},stop:function(H,U){ia("eventResizeStop",this,k,H,U);if(u)ka(this,k,0,Q("slotMinutes")*u,H,U);else{d.css("z-index",8);da(k,d)}}})}}var A=this;A.renderEvents=a;A.rerenderEvents=b;A.clearEvents=
e;A.slotSegHtml=o;A.bindDaySeg=v;tb.call(A);var Q=A.opt,ia=A.trigger,X=A.eventEnd,T=A.reportEvents,$=A.clearEventData,Y=A.eventElementHandlers,M=A.setHeight,aa=A.getDaySegmentContainer,w=A.getSlotSegmentContainer,C=A.getHoverListener,N=A.getMaxMinute,l=A.getMinMinute,p=A.timePosition,L=A.colContentLeft,f=A.colContentRight,I=A.renderDaySegs,P=A.resizableDayEvent,j=A.getColCnt,r=A.getColWidth,S=A.getSlotHeight,ea=A.getBodyContent,la=A.reportEventElement,da=A.showEvents,W=A.hideEvents,va=A.eventDrop,
ka=A.eventResize,xa=A.renderDayOverlay,G=A.clearOverlays,R=A.calendar,ha=R.formatDate,ja=R.formatDates,ua=[]}function Qb(a){var b,e,g,h,t,i;for(b=a.length-1;b>0;b--){h=a[b];for(e=0;e<h.length;e++){t=h[e];for(g=0;g<a[b-1].length;g++){i=a[b-1][g];if(Bb(t,i))i.forward=Math.max(i.forward||0,(t.forward||0)+1)}}}}function nb(a,b,e){function g(l,p){l=N[l];if(typeof l=="object")return Za(l,p||e);return l}function h(l,p){return b.trigger.apply(b,[l,p||T].concat(Array.prototype.slice.call(arguments,2),[T]))}
function t(l){aa={};var p,L=l.length,f;for(p=0;p<L;p++){f=l[p];if(aa[f._id])aa[f._id].push(f);else aa[f._id]=[f]}}function i(){w=[];C={}}function o(l){return l.end?z(l.end):$(l)}function v(l,p){w.push(p);if(C[l._id])C[l._id].push(p);else C[l._id]=[p]}function y(l,p){p.click(function(L){if(!p.hasClass("ui-draggable-dragging")&&!p.hasClass("ui-resizable-resizing"))return h("eventClick",this,l,L)}).hover(function(L){h("eventMouseover",this,l,L)},function(L){h("eventMouseout",this,l,L)})}function F(l,
p){J(l,p,"show")}function E(l,p){J(l,p,"hide")}function J(l,p,L){l=C[l._id];var f,I=l.length;for(f=0;f<I;f++)l[f][0]!=p[0]&&l[f][L]()}function A(l,p,L,f,I,P,j){var r=p.allDay,S=p._id;ia(aa[S],L,f,I);h("eventDrop",l,p,L,f,I,function(){ia(aa[S],-L,-f,r);M()},P,j);T.eventsChanged=true;M(S)}function Q(l,p,L,f,I,P){var j=p._id;X(aa[j],L,f);h("eventResize",l,p,L,f,function(){X(aa[j],-L,-f);M()},I,P);T.eventsChanged=true;M(j)}function ia(l,p,L,f){L=L||0;for(var I,P=l.length,j=0;j<P;j++){I=l[j];if(f!==ca)I.allDay=
f;ta(O(I.start,p,true),L);if(I.end)I.end=ta(O(I.end,p,true),L);Y(I,N)}}function X(l,p,L){L=L||0;for(var f,I=l.length,P=0;P<I;P++){f=l[P];f.end=ta(O(o(f),p,true),L);Y(f,N)}}var T=this;T.element=a;T.calendar=b;T.name=e;T.opt=g;T.trigger=h;T.reportEvents=t;T.clearEventData=i;T.eventEnd=o;T.reportEventElement=v;T.eventElementHandlers=y;T.showEvents=F;T.hideEvents=E;T.eventDrop=A;T.eventResize=Q;var $=T.defaultEventEnd,Y=b.normalizeEvent,M=b.rerenderEvents,aa={},w=[],C={},N=b.options}function tb(){function a(M,
aa){var w=g("isRTL"),C,N=M.length,l,p,L,f,I,P="",j,r={},S={},ea,la=[],da=[];C=A();j=C.left;var W=C.right,va=y();F();var ka=T();for(C=0;C<N;C++){l=M[C];p=l.event;L="fc-event fc-event-hori ";if(w){if(l.isStart)L+="fc-corner-right ";if(l.isEnd)L+="fc-corner-left ";f=l.isEnd?Q(X(l.end.getDay()-1)):j;I=l.isStart?ia(X(l.start.getDay())):W}else{if(l.isStart)L+="fc-corner-left ";if(l.isEnd)L+="fc-corner-right ";f=l.isStart?Q(X(l.start.getDay())):j;I=l.isEnd?ia(X(l.end.getDay()-1)):W}var xa="";if(p.color)xa=
"color:"+p.color+";";if(p.bgColor)xa+="background-color:"+p.bgColor+";";if(p.borderColor)xa+="border-color:"+p.borderColor+";";P+="<div class='"+L+p.className.join(" ")+"' style='position:absolute;z-index:8;left:"+f+"px'><a"+(p.url?" href='"+Oa(p.url)+"'":"")+(xa?" style='"+xa+"'":"")+">"+(!p.allDay&&l.isStart?"<span class='fc-event-time'>"+Oa(Y(p.start,p.end,g("timeFormat")))+"</span>":"")+"<span class='fc-event-title'>"+Oa(p.title)+"</span></a>"+((p.resizable||p.resizable===ca)&&(p.editable||p.editable===
ca&&g("editable"))&&!g("disableResizing")&&n.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(w?"w":"e")+"'></div>":"")+"</div>";l.left=f;l.outerWidth=I-f}ka[0].innerHTML=P;P=ka.children();for(C=0;C<N;C++){l=M[C];w=n(P[C]);p=l.event;j=h("eventRender",p,p,w);if(j===false)w.remove();else{if(j&&j!==true){w.remove();w=n(j).css({position:"absolute",left:l.left}).appendTo(ka)}l.element=w;if(p._id===aa)$(p,w,l);else w[0]._fci=C;t(p,w)}}zb(ka,M,$);for(C=0;C<N;C++){l=M[C];if(w=l.element){p=r[aa=
l.key=Ab(w[0])];l.hsides=p===ca?(r[aa]=hb(w[0],true)):p}}for(C=0;C<N;C++){l=M[C];if(w=l.element)w[0].style.width=Math.max(0,l.outerWidth-l.hsides)+"px"}for(C=0;C<N;C++){l=M[C];if(w=l.element){p=S[aa=l.key];l.outerHeight=w[0].offsetHeight+(p===ca?(S[aa]=Cb(w[0])):p)}}var G,R,ha={0:0},ja={0:0};for(ea=0;ea<va;ea++){for(R=r=0;R<7;R++){G=0;jQuery.each(M,function(ua,k){if(k.row==ea&&k.start.getDay()==R){G=Math.max(G,k.level);ha[k.level]=k.outerHeight||0}});for(C=0;C<G;C++)ja[C+1]=ja[C]+ha[C];jQuery.each(M,
function(ua,k){if(k.row==ea&&k.start.getDay()==R)k.top=ja[k.level]});r=Math.max(r,ja[G]+ha[G])}la[ea]=J(ea).find("td:first div.fc-day-content > div");Ia(la[ea],r)}for(ea=0;ea<va;ea++)da[ea]=la[ea][0].offsetTop;for(C=0;C<N;C++){l=M[C];if(w=l.element){w[0].style.top=da[l.row]+l.top+"px";p=l.event;h("eventAfterRender",p,p,w)}}}function b(M,aa){if(!g("disableResizing")&&aa.resizable){var w=E();aa.resizable({handles:g("isRTL")?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},grid:w,minWidth:w/2,containment:e.element.parent().parent(),
start:function(C,N){aa.css("z-index",9);o(M,aa);h("eventResizeStart",this,M,C,N)},stop:function(C,N){h("eventResizeStop",this,M,C,N);var l=Math.round((Qa(aa)-N.originalSize.width)/w);if(l)v(this,M,l,0,C,N);else{aa.css("z-index",8);i(M,aa)}}})}}var e=this;e.renderDaySegs=a;e.resizableDayEvent=b;var g=e.opt,h=e.trigger,t=e.reportEventElement,i=e.showEvents,o=e.hideEvents,v=e.eventResize,y=e.getRowCnt,F=e.getColCnt,E=e.getColWidth,J=e.allDayTR,A=e.allDayBounds,Q=e.colContentLeft,ia=e.colContentRight,
X=e.dayOfWeekCol,T=e.getDaySegmentContainer,$=e.bindDaySeg,Y=e.calendar.formatDates}function pb(){function a(E,J,A){b();J||(J=o(E,A));v(E,J,A);e(E,J,A)}function b(E){if(F){F=false;y();i("unselect",null,E)}}function e(E,J,A,Q){F=true;i("select",null,E,J,A,Q)}function g(E){var J=h.cellDate,A=h.cellIsAllDay,Q=h.getHoverListener();if(E.which==1&&t("selectable")){b(E);var ia=this,X;Q.start(function(T,$){y();if(T&&A(T)){X=[J($),J(T)].sort(yb);v(X[0],X[1],true)}else X=null},E);n(document).one("mouseup",
function(T){Q.stop();if(X){+X[0]==+X[1]&&i("dayClick",ia,X[0],true,T);e(X[0],X[1],true,T)}})}}var h=this;h.select=a;h.unselect=b;h.reportSelection=e;h.daySelectionMousedown=g;var t=h.opt,i=h.trigger,o=h.defaultSelectionEnd,v=h.renderSelection,y=h.clearSelection,F=false;t("selectable")&&t("unselectAuto")&&n(document).mousedown(function(E){var J=t("unselectCancel");if(J)if(n(E.target).parents(J).length)return;b(E)})}function ob(){function a(t,i){var o=h.shift();o||(o=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));
o[0].parentNode!=i[0]&&o.appendTo(i);g.push(o.css(t).show());return o}function b(){for(var t;t=g.shift();)h.push(t.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var g=[],h=[]}function qb(a){var b=this,e,g;b.build=function(){e=[];g=[];a(e,g)};b.cell=function(h,t){var i=e.length,o=g.length,v,y=-1,F=-1;for(v=0;v<i;v++)if(t>=e[v][0]&&t<e[v][1]){y=v;break}for(v=0;v<o;v++)if(h>=g[v][0]&&h<g[v][1]){F=v;break}return y>=0&&F>=0?{row:y,col:F}:null};b.rect=function(h,t,i,o,v){v=v.offset();
return{top:e[h][0]-v.top,left:g[t][0]-v.left,width:g[o][1]-g[t][0],height:e[i][1]-e[h][0]}}}function rb(a){function b(o){o=a.cell(o.pageX,o.pageY);if(!o!=!i||o&&(o.row!=i.row||o.col!=i.col)){if(o){t||(t=o);h(o,t,o.row-t.row,o.col-t.col)}else h(o,t);i=o}}var e=this,g,h,t,i;e.start=function(o,v,y){h=o;t=i=null;a.build();b(v);g=y||"mousemove";n(document).bind(g,b)};e.stop=function(){n(document).unbind(g,b);return i}}function sb(a){function b(i){return g[i]=g[i]||a(i)}var e=this,g={},h={},t={};e.left=
function(i){return h[i]=h[i]===ca?b(i).position().left:h[i]};e.right=function(i){return t[i]=t[i]===ca?e.left(i)+Qa(b(i)):t[i]};e.clear=function(){g={};h={};t={}}}function Wa(a,b,e){a.setFullYear(a.getFullYear()+b);e||La(a);return a}function Xa(a,b,e){if(+a){b=a.getMonth()+b;var g=z(a);g.setDate(1);g.setMonth(b);a.setMonth(b);for(e||La(a);a.getMonth()!=g.getMonth();)a.setDate(a.getDate()+(a<g?1:-1))}return a}function O(a,b,e){if(+a){b=a.getDate()+b;var g=z(a);g.setHours(9);g.setDate(b);a.setDate(b);
e||La(a);ib(a,g)}return a}function ib(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*Sb)}function ta(a,b){a.setMinutes(a.getMinutes()+b);return a}function La(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function z(a,b){if(b)return La(new Date(+a));return new Date(+a)}function wb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function wa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)O(a,b);return a}function Ga(a,
b){return Math.round((z(a,true)-z(b,true))/mb)}function lb(a,b,e,g){if(b!==ca&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==ca&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}g!==ca&&a.setDate(g)}function ab(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+$/))return new Date(parseInt(a)*1E3);if(b===ca)b=true;return Db(a,b)||(a?new Date(a):null)}return null}function Db(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);
if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[14]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}ib(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);ib(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);b=Number(a[16])*60+Number(a[17]);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*
1E3)}return e}function fb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1]);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2]):0)}}function Ma(a,b,e){return Ya(a,null,b,e)}function Ya(a,b,e,g){g=g||Sa;var h=a,t=b,i,o=e.length,v,y,F,E="";for(i=0;i<o;i++){v=e.charAt(i);if(v=="'")for(y=i+1;y<o;y++){if(e.charAt(y)=="'"){if(h){E+=y==i+1?"'":e.substring(i+
1,y);i=y}break}}else if(v=="(")for(y=i+1;y<o;y++){if(e.charAt(y)==")"){i=Ma(h,e.substring(i+1,y),g);if(parseInt(i.replace(/\D/,"")))E+=i;i=y;break}}else if(v=="[")for(y=i+1;y<o;y++){if(e.charAt(y)=="]"){v=e.substring(i+1,y);i=Ma(h,v,g);if(i!=Ma(t,v,g))E+=i;i=y;break}}else if(v=="{"){h=b;t=a}else if(v=="}"){h=a;t=b}else{for(y=o;y>i;y--)if(F=Tb[e.substring(i,y)]){if(h)E+=F(h,g);i=y-1;break}if(y==i)if(h)E+=v}}return E}function Ra(a){return a.end?Ub(a.end,a.allDay):O(z(a.start),1)}function Ub(a,b){a=
z(a);return b||a.getHours()||a.getMinutes()?O(a,1):La(a)}function Vb(a,b){if(a.event.allDay&&!b.event.allDay)return-1;if(!a.event.allDay&&b.event.allDay)return 1;return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Bb(a,b){return a.end>b.start&&a.start<b.end}function eb(a,b,e,g){var h=[],t,i=a.length,o,v,y,F,E;for(t=0;t<i;t++){o=a[t];v=o.start;y=b[t];if(y>e&&v<g){if(v<e){v=z(e);F=false}else{v=v;F=true}if(y>g){y=z(g);E=false}else{y=y;E=true}h.push({event:o,start:v,end:y,isStart:F,
isEnd:E,msLength:y-v})}}return h.sort(Vb)}function db(a){var b=[],e,g=a.length,h,t,i,o;for(e=0;e<g;e++){h=a[e];for(t=0;;){i=false;if(b[t])for(o=0;o<b[t].length;o++)if(Bb(b[t][o],h)){i=true;break}if(i)t++;else break}if(b[t])b[t].push(h);else b[t]=[h]}return b}function zb(a,b,e){a.unbind("mouseover").mouseover(function(g){for(var h=g.target,t;h!=this;){t=h;h=h.parentNode}if((h=t._fci)!==ca){t._fci=ca;t=b[h];e(t.event,t.element,t);n(g.target).trigger(g)}g.stopPropagation()})}function Aa(a,b,e){a.each(function(g,
h){h.style.width=Math.max(0,b-hb(h,e))+"px"})}function Ia(a,b,e){a.each(function(g,h){h.style.height=Math.max(0,b-Va(h,e))+"px"})}function hb(a,b){return(parseFloat(n.curCSS(a,"paddingLeft",true))||0)+(parseFloat(n.curCSS(a,"paddingRight",true))||0)+(parseFloat(n.curCSS(a,"borderLeftWidth",true))||0)+(parseFloat(n.curCSS(a,"borderRightWidth",true))||0)+(b?Wb(a):0)}function Wb(a){return(parseFloat(n.curCSS(a,"marginLeft",true))||0)+(parseFloat(n.curCSS(a,"marginRight",true))||0)}function Va(a,b){return(parseFloat(n.curCSS(a,
"paddingTop",true))||0)+(parseFloat(n.curCSS(a,"paddingBottom",true))||0)+(parseFloat(n.curCSS(a,"borderTopWidth",true))||0)+(parseFloat(n.curCSS(a,"borderBottomWidth",true))||0)+(b?Cb(a):0)}function Cb(a){return(parseFloat(n.curCSS(a,"marginTop",true))||0)+(parseFloat(n.curCSS(a,"marginBottom",true))||0)}function Ua(a,b){b=typeof b=="number"?b+"px":b;a[0].style.cssText+=";min-height:"+b+";_height:"+b}function Ea(a){if(Ta)return a.innerHeight();return a.height()}function Qa(a){if(Ta)return a.innerWidth();
return a.width()}function kb(){}function yb(a,b){return a-b}function Pa(a){return(a<10?"0":"")+a}function Za(a,b){if(a[b]!==ca)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,g;e>=0;e--){g=a[b[e].toLowerCase()];if(g!==ca)return g}return a[""]}function Oa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ab(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,
"")}function $a(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}var Sa={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},
isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",
today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Xb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ja=n.fullCalendar={version:"1.4.8-IE9"},Ka=Ja.views={},Ta=false;if(n.ui&&n.browser.msie&&
parseInt(n.browser.version,10)>=9){Ta=true;var Yb=n.ui.mouse.prototype._mouseMove;n.ui.mouse.prototype._mouseMove=function(a){a.button=1;Yb.apply(this,[a])}}n.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var h=n.data(this,"fullCalendar");if(h&&n.isFunction(h[a])){h=h[a].apply(h,b);if(e===ca)e=h;a=="destroy"&&n.removeData(this,"fullCalendar")}});if(e!==ca)return e;return this}var g=a.eventSources||[];delete a.eventSources;if(a.events){g.push(a.events);
delete a.events}a=n.extend(true,{},Sa,a.isRTL||a.isRTL===ca&&Sa.isRTL?Xb:{},a);this.each(function(h,t){h=n(t);t=new Eb(h,a,g);h.data("fullCalendar",t);t.render()});return this};var Hb=1;Ka.month=Ib;Ka.basicWeek=Jb;Ka.basicDay=Kb;var cb;jb({weekMode:"fixed"});Ka.agendaWeek=Mb;Ka.agendaDay=Nb;jb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ja.addDays=
O;Ja.cloneDate=z;Ja.parseDate=ab;Ja.parseISO8601=Db;Ja.parseTime=fb;Ja.formatDate=Ma;Ja.formatDates=Ya;var Fa=["sun","mon","tue","wed","thu","fri","sat"],mb=864E5,Sb=36E5,Rb=6E4,Tb={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},
d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?
"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Ma(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"},w:function(a){return a.getWeek()}};if(Date.prototype.getWeek===ca)Date.prototype.getWeek=function(){var a=new Date(this.getFullYear(),0,4),b=(a.getDay()-1+7)%7;a=Math.floor(((this-a)/864E5+b)/7)+1;var e=
(this.getDay()-1+7)%7;if(this.getMonth()==11&&this.getDate()>=28){a=new Date(this.getFullYear()+1,0,4);b=(a.getDay()-1+7)%7;if(e<b)return 1;e=new Date(this.valueOf()-6048E5);return e.getWeek()+1}if(a==0&&e>3&&this.getMonth()==0){e=new Date(this.valueOf()-6048E5);return e.getWeek()+1}return a}})(jQuery);

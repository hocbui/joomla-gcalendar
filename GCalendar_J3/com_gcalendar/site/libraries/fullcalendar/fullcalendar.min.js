/*

 FullCalendar v1.5.3-rcube-0.7.1
 https://github.com/roundcube/fullcalendar

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Copyright (c) 2011, Kolab Systems AG
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: 

*/
(function(o,ra){function Ab(a){o.extend(true,$a,a)}function $b(a,b,g){function d(l){if(K){v();R();Z();O(l)}else f()}function f(){X=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");K=o("<div class='fc-content' style='position:relative'/>").prependTo(a);y=new ac(da,b);(N=y.render())&&a.prepend(N);r(b.defaultView);o(window).resize(ka);e()||j()}function j(){setTimeout(function(){!k.start&&e()&&O()},0)}function q(){o(window).unbind("resize",ka);y.destroy();
K.remove();a.removeClass("fc fc-rtl ui-widget")}function h(){return ma.offsetWidth!==0}function e(){return o("body")[0].offsetWidth!==0}function r(l){if(!k||l!=k.name){m++;ia();var s=k,ca;if(s){(s.beforeHide||Bb)();ab(K,K.height());s.element.hide()}else ab(K,1);K.css("overflow","hidden");if(k=F[l])k.element.show();else k=F[l]=new Ha[l](ca=xa=o("<div class='fc-view fc-view-"+l+"' style='position:absolute'/>").appendTo(K),da);s&&y.deactivateButton(s.name);y.activateButton(l);O();K.css("overflow","");
s&&ab(K,1);ca||(k.afterShow||Bb)();m--}}function O(l){if(h()){m++;ia();fa===ra&&v();var s=false;if(!k.start||l||t<k.start||t>=k.end){k.render(t,l||0);B(true);s=true}else if(k.sizeDirty){k.clearEvents();B();s=true}else if(k.eventsDirty){k.clearEvents();s=true}k.sizeDirty=false;k.eventsDirty=false;ea(s);ga=a.outerWidth();y.updateTitle(k.title);l=new Date;l>=k.start&&l<k.end?y.disableButton("today"):y.enableButton("today");m--;k.trigger("viewDisplay",ma)}}function L(){R();if(h()){v();B();ia();k.clearEvents();
k.trigger("viewRender",k);k.renderEvents(W);k.sizeDirty=false}}function R(){o.each(F,function(l,s){s.sizeDirty=true})}function v(){fa=b.contentHeight?b.contentHeight:b.height?b.height-(N?N.height():0)-Ua(K):Math.round(K.width()/Math.max(b.aspectRatio,0.5))}function B(l){m++;k.setHeight(fa,l);if(xa){xa.css("position","relative");xa=null}k.setWidth(K.width(),l);m--}function ka(){if(!m)if(k.start){var l=++i;setTimeout(function(){if(l==i&&!m&&h())if(ga!=(ga=a.outerWidth())){m++;L();k.trigger("windowResize",
ma);m--}},200)}else j()}function ea(l){if(!b.lazyFetching||ya(k.visStart,k.visEnd))la();else l&&Y()}function la(l){S(k.visStart,k.visEnd,l)}function P(l){W=l;Y()}function M(l){Y(l)}function Y(l){Z();if(h()){k.clearEvents();k.trigger("viewRender",k);k.renderEvents(W,l);k.eventsDirty=false}}function Z(){o.each(F,function(l,s){s.eventsDirty=true})}function $(l,s,ca){k.select(l,s,ca===ra?true:ca)}function ia(){k&&k.unselect()}function w(){O(-1)}function C(){O(1)}function ba(){jb(t,-1);O()}function U(){jb(t,
1);O()}function u(){t=new Date;O()}function p(l,s,ca){if(l instanceof Date)t=G(l);else Cb(t,l,s,ca);O()}function z(l,s,ca){l!==ra&&jb(t,l);s!==ra&&kb(t,s);ca!==ra&&ja(t,ca);O()}function c(){return G(t)}function E(){return k}function H(l,s){if(s===ra)return b[l];if(l=="height"||l=="contentHeight"||l=="aspectRatio"){b[l]=s;L()}else if(l.indexOf("list")==0||l=="tableCols"){b[l]=s;k.start=null}else if(l=="maxHeight")b[l]=s}function T(l,s){if(b[l])return b[l].apply(s||ma,Array.prototype.slice.call(arguments,
2))}var da=this;da.options=b;da.render=d;da.destroy=q;da.refetchEvents=la;da.reportEvents=P;da.reportEventChange=M;da.rerenderEvents=Y;da.changeView=r;da.select=$;da.unselect=ia;da.prev=w;da.next=C;da.prevYear=ba;da.nextYear=U;da.today=u;da.gotoDate=p;da.incrementDate=z;da.formatDate=function(l,s){return Pa(l,s,b)};da.formatDates=function(l,s,ca){return lb(l,s,ca,b)};da.getDate=c;da.getView=E;da.option=H;da.trigger=T;bc.call(da,b,g);var ya=da.isFetchNeeded,S=da.fetchEvents,ma=a[0],y,N,K,X,k,F={},
ga,fa,xa,i=0,m=0,t=new Date,W=[],A;Cb(t,b.year,b.month,b.date);b.droppable&&o(document).bind("dragstart",function(l,s){var ca=l.target,oa=o(ca);if(!oa.parents(".fc").length){var qa=b.dropAccept;if(o.isFunction(qa)?qa.call(ca,oa):oa.is(qa)){A=ca;k.dragStart(A,l,s)}}}).bind("dragstop",function(l,s){if(A){k.dragStop(A,l,s);A=null}})}function ac(a,b){function g(){R=b.theme?"ui":"fc";if(b.header)return L=o("<table class='fc-header' style='width:100%'/>").append(o("<tr/>").append(f("left")).append(f("center")).append(f("right")))}
function d(){L.remove()}function f(v){var B=o("<td class='fc-header-"+v+"'/>");(v=b.header[v])&&o.each(v.split(" "),function(ka){ka>0&&B.append("<span class='fc-header-space'/>");var ea;o.each(this.split(","),function(la,P){if(P=="title"){B.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ea&&ea.addClass(R+"-corner-right");ea=null}else{var M;if(a[P])M=a[P];else if(Ha[P])M=function(){Z.removeClass(R+"-state-hover");a.changeView(P)};if(M){la=b.theme?mb(b.buttonIcons,P):null;var Y=mb(b.buttonText,
P),Z=o("<span class='fc-button fc-button-"+P+" "+R+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(la?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+la+"'/></span>":Y)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(Z){Z.click(function(){Z.hasClass(R+"-state-disabled")||M()}).mousedown(function(){Z.not("."+R+"-state-active").not("."+R+"-state-disabled").addClass(R+"-state-down")}).mouseup(function(){Z.removeClass(R+"-state-down")}).hover(function(){Z.not("."+
R+"-state-active").not("."+R+"-state-disabled").addClass(R+"-state-hover")},function(){Z.removeClass(R+"-state-hover").removeClass(R+"-state-down")}).appendTo(B);ea||Z.addClass(R+"-corner-left");ea=Z}}}});ea&&ea.addClass(R+"-corner-right")});return B}function j(v){L.find("h2").html(v)}function q(v){L.find("span.fc-button-"+v).addClass(R+"-state-active")}function h(v){L.find("span.fc-button-"+v).removeClass(R+"-state-active")}function e(v){L.find("span.fc-button-"+v).addClass(R+"-state-disabled")}
function r(v){L.find("span.fc-button-"+v).removeClass(R+"-state-disabled")}var O=this;O.render=g;O.destroy=d;O.updateTitle=j;O.activateButton=q;O.deactivateButton=h;O.disableButton=e;O.enableButton=r;var L=o([]),R}function bc(a,b){function g(c,E){return!C||c<C||E>ba}function d(c,E,H){C=c;ba=E;z=typeof H!="undefined"?o.grep(z,function(da){return!la(da.source,H)}):[];c=++U;E=w.length;u=typeof H=="undefined"?E:1;for(var T=0;T<E;T++)if(typeof H=="undefined"||la(w[T],H))f(w[T],c)}function f(c,E){j(c,function(H){if(E==
U){if(H){for(var T=0;T<H.length;T++){H[T].source=c;ka(H[T])}z=z.concat(H)}u--;u||$(z)}})}function j(c,E){var H,T=Aa.sourceFetchers,da;for(H=0;H<T.length;H++){da=T[H](c,C,ba,E);if(da===true)return;else if(typeof da=="object"){j(da,E);return}}if(H=c.events)if(o.isFunction(H)){v();H(G(C),G(ba),function(y){E(y);B()})}else o.isArray(H)?E(H):E();else if(c.url){var ya=c.success,S=c.error,ma=c.complete;H=o.extend({},c.data||{});T=Va(c.startParam,a.startParam);da=Va(c.endParam,a.endParam);if(T)H[T]=Math.round(+C/
1E3);if(da)H[da]=Math.round(+ba/1E3);v();o.ajax(o.extend({},cc,c,{data:H,success:function(y){y=y||[];var N=bb(ya,this,arguments);if(o.isArray(N))y=N;E(y)},error:function(){bb(S,this,arguments);E()},complete:function(){bb(ma,this,arguments);B()}}))}else E()}function q(c){if(c=h(c)){u++;f(c,U)}}function h(c){if(o.isFunction(c)||o.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ea(c);w.push(c);return c}}function e(c){w=o.grep(w,function(E){return!la(E,c)});z=o.grep(z,
function(E){return!la(E.source,c)});$(z)}function r(c){var E,H=z.length,T,da=Z().defaultEventEnd,ya=c.start-c._start,S=c.end?c.end-(c._end||da(c)):0;for(E=0;E<H;E++){T=z[E];if(T._id==c._id&&T!=c){T.start=new Date(+T.start+ya);T.end=c.end?T.end?new Date(+T.end+S):new Date(+da(T)+S):null;T.title=c.title;T.url=c.url;T.allDay=c.allDay;T.className=c.className;T.editable=c.editable;T.color=c.color;T.backgroudColor=c.backgroudColor;T.borderColor=c.borderColor;T.textColor=c.textColor;ka(T)}}ka(c);$(z)}function O(c,
E){ka(c);if(!c.source)if(E){ia.events.push(c);c.source=ia}z.push(c);$(z)}function L(c){if(c){if(!o.isFunction(c)){var E=c+"";c=function(T){return T._id==E}}z=o.grep(z,c,true);for(H=0;H<w.length;H++)if(o.isArray(w[H].events))w[H].events=o.grep(w[H].events,c,true)}else{z=[];for(var H=0;H<w.length;H++)if(o.isArray(w[H].events))w[H].events=[]}$(z)}function R(c){if(o.isFunction(c))return o.grep(z,c);else if(c){c+="";return o.grep(z,function(E){return E._id==c})}return z}function v(){p++||Y("loading",null,
true)}function B(){--p||Y("loading",null,false)}function ka(c){var E=c.source||{},H=Va(E.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===ra?"_fc"+dc++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=G(c.start=nb(c.start,H));c.end=nb(c.end,H);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?G(c.end):null;if(c.allDay===ra)c.allDay=Va(E.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ea(c){if(c.className){if(typeof c.className==
"string")c.className=c.className.split(/\s+/)}else c.className=[];for(var E=Aa.sourceNormalizers,H=0;H<E.length;H++)E[H](c)}function la(c,E){return c&&E&&P(c)==P(E)}function P(c){return(typeof c=="object"?c.events||c.url:"")||c}var M=this;M.isFetchNeeded=g;M.fetchEvents=d;M.addEventSource=q;M.removeEventSource=e;M.updateEvent=r;M.renderEvent=O;M.removeEvents=L;M.clientEvents=R;M.normalizeEvent=ka;var Y=M.trigger,Z=M.getView,$=M.reportEvents,ia={events:[]},w=[ia],C,ba,U=0,u=0,p=0,z=[];for(M=0;M<b.length;M++)h(b[M])}
function jb(a,b,g){a.setFullYear(a.getFullYear()+b);g||Ia(a);return a}function kb(a,b,g){if(+a){b=a.getMonth()+b;var d=G(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(g||Ia(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function ja(a,b,g){if(+a){b=a.getDate()+b;var d=G(a);d.setHours(9);d.setDate(b);a.setDate(b);g||Ia(a);ob(a,d)}return a}function ob(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*ec)}function wa(a,b){a.setMinutes(a.getMinutes()+b);return a}
function Ia(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function G(a,b){if(b)return Ia(new Date(+a));return new Date(+a)}function Db(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Ja(a,b,g){for(b=b||1;!a.getDay()||g&&a.getDay()==1||!g&&a.getDay()==6;)ja(a,b);return a}function Ba(a,b){return Math.round((G(a,true)-G(b,true))/Qa)}function Cb(a,b,g,d){if(b!==ra&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(g!==ra&&g!=
a.getMonth()){a.setDate(1);a.setMonth(g)}d!==ra&&a.setDate(d)}function nb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===ra)b=true;return Eb(a,b)||(a?new Date(a):null)}return null}function Eb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var g=new Date(a[1],
0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){g.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){g.setDate(a[5]);b.setDate(a[5])}ob(g,b);a[7]&&g.setHours(a[7]);a[8]&&g.setMinutes(a[8]);a[10]&&g.setSeconds(a[10]);a[12]&&g.setMilliseconds(Number("0."+a[12])*1E3);ob(g,b)}else{g.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);g.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;g=new Date(+g+b*60*1E3)}}return g}function pb(a){if(typeof a==
"number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Pa(a,b,g){return lb(a,null,b,g)}function lb(a,b,g,d){d=d||$a;var f=a,j=b,q,h=g.length,e,r,O,L="";for(q=0;q<h;q++){e=g.charAt(q);if(e=="'")for(r=q+1;r<h;r++){if(g.charAt(r)=="'"){if(f){L+=r==q+1?"'":g.substring(q+1,r);q=r}break}}else if(e=="(")for(r=
q+1;r<h;r++){if(g.charAt(r)==")"){q=Pa(f,g.substring(q+1,r),d);if(parseInt(q.replace(/\D/,""),10))L+=q;q=r;break}}else if(e=="[")for(r=q+1;r<h;r++){if(g.charAt(r)=="]"){e=g.substring(q+1,r);q=Pa(f,e,d);if(q!=Pa(j,e,d))L+=q;q=r;break}}else if(e=="{"){f=b;j=a}else if(e=="}"){f=a;j=b}else{for(r=h;r>q;r--)if(O=fc[g.substring(q,r)]){if(f)L+=O(f,d);q=r-1;break}if(r==q)if(f)L+=e}}return L}function Wa(a){return a.end?gc(a.end,a.allDay):ja(G(a.start),1)}function gc(a,b){a=G(a);return b||a.getHours()||a.getMinutes()?
ja(a,1):Ia(a)}function hc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Fb(a,b){return a.end>b.start&&a.start<b.end}function qb(a,b,g,d){var f=[],j,q=a.length,h,e,r,O,L;for(j=0;j<q;j++){h=a[j];e=h.start;r=b[j];if(r>g&&e<d){if(e<g){e=G(g);O=false}else{e=e;O=true}if(r>d){r=G(d);L=false}else{r=r;L=true}f.push({event:h,start:e,end:r,isStart:O,isEnd:L,msLength:r-e})}}return f.sort(hc)}function rb(a){var b=[],g,d=a.length,f,j,q,h;for(g=0;g<d;g++){f=a[g];for(j=0;;){q=false;
if(b[j])for(h=0;h<b[j].length;h++)if(Fb(b[j][h],f)){q=true;break}if(q)j++;else break}if(b[j])b[j].push(f);else b[j]=[f]}return b}function Gb(a,b,g){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,j;f!=this;){j=f;f=f.parentNode}if((f=j._fci)!==ra){j._fci=ra;j=b[f];g(j.event,j.element,j);o(d.target).trigger(d)}d.stopPropagation()})}function Xa(a,b,g){for(var d=0,f;d<a.length;d++){f=o(a[d]);f.width(Math.max(0,b-sb(f,g)))}}function Hb(a,b,g){for(var d=0,f;d<a.length;d++){f=o(a[d]);f.height(Math.max(0,
b-Ua(f,g)))}}function sb(a,b){return ic(a)+jc(a)+(b?kc(a):0)}function ic(a){return(parseFloat(o.css(a[0],"paddingLeft",true))||0)+(parseFloat(o.css(a[0],"paddingRight",true))||0)}function kc(a){return(parseFloat(o.css(a[0],"marginLeft",true))||0)+(parseFloat(o.css(a[0],"marginRight",true))||0)}function jc(a){return(parseFloat(o.css(a[0],"borderLeftWidth",true))||0)+(parseFloat(o.css(a[0],"borderRightWidth",true))||0)}function Ua(a,b){return lc(a)+mc(a)+(b?Ib(a):0)}function lc(a){return(parseFloat(o.css(a[0],
"paddingTop",true))||0)+(parseFloat(o.css(a[0],"paddingBottom",true))||0)}function Ib(a){return(parseFloat(o.css(a[0],"marginTop",true))||0)+(parseFloat(o.css(a[0],"marginBottom",true))||0)}function mc(a){return(parseFloat(o.css(a[0],"borderTopWidth",true))||0)+(parseFloat(o.css(a[0],"borderBottomWidth",true))||0)}function ab(a,b){b=typeof b=="number"?b+"px":b;a.each(function(g,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function Bb(){}function Jb(a,b){return a-b}function Kb(a){return Math.max.apply(Math,
a)}function Ra(a){return(a<10?"0":"")+a}function mb(a,b){if(a[b]!==ra)return a[b];b=b.split(/(?=[A-Z])/);for(var g=b.length-1,d;g>=0;g--){d=a[b[g].toLowerCase()];if(d!==ra)return d}return a[""]}function Ea(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Lb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function tb(a){a.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function Sa(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ub(a,b){a.each(function(g,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+Mb[b.getDay()])})}function cb(a,b){var g=a.source||{},d=a.color,f=g.color,j=b("eventColor"),q=a.backgroundColor||d||g.backgroundColor||f||b("eventBackgroundColor")||j;d=a.borderColor||
d||g.borderColor||f||b("eventBorderColor")||j;a=a.textColor||g.textColor||b("eventTextColor");b=[];q&&b.push("background-color:"+q);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function bb(a,b,g){if(o.isFunction(a))a=[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(b,g)||f;return f}}function Va(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==ra)return arguments[a]}function nc(a,b){function g(h,e){if(e){kb(h,e);h.setDate(1)}h=G(h,true);h.setDate(1);e=kb(G(h),1);
var r=G(h),O=G(e),L=f("firstDay"),R=f("weekends")?0:1;if(R){Ja(r);Ja(O,-1,true)}ja(r,-((r.getDay()-Math.max(L,R)+7)%7));ja(O,(7-O.getDay()+Math.max(L,R))%7);L=Math.round((O-r)/(Qa*7));if(f("weekMode")=="fixed"){ja(O,(6-L)*7);L=6}d.title=q(h,f("titleFormat"));d.start=h;d.end=e;d.visStart=r;d.visEnd=O;j(6,L,R?5:7,true)}var d=this;d.render=g;vb.call(d,a,b,"month");var f=d.opt,j=d.renderBasic,q=b.formatDate}function oc(a,b){function g(h,e){e&&ja(h,e*7);h=ja(G(h),-((h.getDay()-f("firstDay")+7)%7));e=ja(G(h),
7);var r=G(h),O=G(e),L=f("weekends");if(!L){Ja(r);Ja(O,-1,true)}d.title=q(r,ja(G(O),-1),f("titleFormat"));d.start=h;d.end=e;d.visStart=r;d.visEnd=O;j(1,1,L?7:5,false)}var d=this;d.render=g;vb.call(d,a,b,"basicWeek");var f=d.opt,j=d.renderBasic,q=b.formatDates}function pc(a,b){function g(h,e){if(e){ja(h,e);f("weekends")||Ja(h,e<0?-1:1)}d.title=q(h,f("titleFormat"));d.start=d.visStart=G(h,true);d.end=d.visEnd=ja(G(d.start),1);j(1,1,1,false)}var d=this;d.render=g;vb.call(d,a,b,"basicDay");var f=d.opt,
j=d.renderBasic,q=b.formatDate}function vb(a,b,g){function d(x,I,aa,Q){i=I;m=aa;f();(I=!y)?j(x,Q):E();q(I)}function f(){if(l=z("isRTL")){s=-1;ca=m-1}else{s=1;ca=0}oa=z("firstDay");qa=z("weekends")?0:1;pa=z("theme")?"ui":"fc";ta=z("columnFormat")}function j(x,I){var aa,Q=pa+"-widget-header",na=pa+"-widget-content",ha;aa="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ha=0;ha<m;ha++)aa+="<th class='fc- "+Q+"'/>";aa+="</tr></thead><tbody>";for(ha=0;ha<x;ha++){aa+=
"<tr class='fc-week"+ha+"'>";for(Q=0;Q<m;Q++)aa+="<td class='fc- "+na+" fc-day"+(ha*m+Q)+"'><div>"+(I?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";aa+="</tr>"}aa+="</tbody></table>";x=o(aa).appendTo(a);S=x.find("thead");ma=S.find("th");y=x.find("tbody");N=y.find("tr");K=y.find("td");X=K.filter(":first-child");k=N.eq(0).find("div.fc-day-content div");Sa(S.add(S.find("tr")));Sa(N);N.eq(0).addClass("fc-first");r(K);F=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}
function q(x){var I=x||i==1,aa=p.start.getMonth(),Q=Ia(new Date),na,ha,ua;I&&ma.each(function(va,Ca){na=o(Ca);ha=C(va);na.html(ya(ha,ta));ub(na,ha)});K.each(function(va,Ca){na=o(Ca);ha=C(va);ha.getMonth()==aa?na.removeClass("fc-other-month"):na.addClass("fc-other-month");+ha==+Q?na.addClass(pa+"-state-highlight fc-today"):na.removeClass(pa+"-state-highlight fc-today");na.find("div.fc-day-number").text(ha.getDate());I&&ub(na,ha)});N.each(function(va,Ca){ua=o(Ca);if(va<i){ua.show();va==i-1?ua.addClass("fc-last"):
ua.removeClass("fc-last")}else ua.hide()})}function h(x){fa=x;x=fa-S.height();var I,aa,Q;if(z("weekMode")=="variable")I=aa=Math.floor(x/(i==1?2:6));else{I=Math.floor(x/i);aa=x-I*(i-1)}X.each(function(na,ha){if(na<i){Q=o(ha);ab(Q.find("> div"),(na==i-1?aa:I)-Ua(Q))}})}function e(x){ga=x;A.clear();xa=Math.floor(ga/m);Xa(ma.slice(0,-1),xa)}function r(x){x.click(O).mousedown(da)}function O(x){if(!z("selectable")){var I=parseInt(this.className.match(/fc\-day(\d+)/)[1]);I=C(I);c("dayClick",this,I,true,
x)}}function L(x,I,aa){aa&&t.build();aa=G(p.visStart);for(var Q=ja(G(aa),m),na=0;na<i;na++){var ha=new Date(Math.max(aa,x)),ua=new Date(Math.min(Q,I));if(ha<ua){var va;if(l){va=Ba(ua,aa)*s+ca+1;ha=Ba(ha,aa)*s+ca+1}else{va=Ba(ha,aa);ha=Ba(ua,aa)}r(R(na,va,na,ha-1))}ja(aa,7);ja(Q,7)}}function R(x,I,aa,Q){x=t.rect(x,I,aa,Q,a);return H(x,a)}function v(x){return G(x)}function B(x,I){L(x,ja(G(I),1),true)}function ka(){T()}function ea(x,I,aa){var Q=$(x);c("dayClick",K[Q.row*m+Q.col],x,I,aa)}function la(x,
I){W.start(function(aa){T();aa&&R(aa.row,aa.col,aa.row,aa.col)},I)}function P(x,I,aa){var Q=W.stop();T();if(Q){Q=ia(Q);c("drop",x,Q,true,I,aa)}}function M(x){return G(x.start)}function Y(x){return A.left(x)}function Z(x){return A.right(x)}function $(x){return{row:Math.floor(Ba(x,p.visStart)/7),col:ba(x.getDay())}}function ia(x){return w(x.row,x.col)}function w(x,I){return ja(G(p.visStart),x*7+I*s+ca)}function C(x){return w(Math.floor(x/m),x%m)}function ba(x){return(x-Math.max(oa,qa)+m)%m*s+ca}function U(x){return N.eq(x)}
function u(){return{left:0,right:ga}}var p=this;p.renderBasic=d;p.setHeight=h;p.setWidth=e;p.renderDayOverlay=L;p.defaultSelectionEnd=v;p.renderSelection=B;p.clearSelection=ka;p.reportDayClick=ea;p.dragStart=la;p.dragStop=P;p.defaultEventEnd=M;p.getHoverListener=function(){return W};p.colContentLeft=Y;p.colContentRight=Z;p.dayOfWeekCol=ba;p.dateCell=$;p.cellDate=ia;p.cellIsAllDay=function(){return true};p.allDayRow=U;p.allDayBounds=u;p.getRowCnt=function(){return i};p.getColCnt=function(){return m};
p.getColWidth=function(){return xa};p.getDaySegmentContainer=function(){return F};db.call(p,a,b,g);Nb.call(p);Ob.call(p);qc.call(p);var z=p.opt,c=p.trigger,E=p.clearEvents,H=p.renderOverlay,T=p.clearOverlays,da=p.daySelectionMousedown,ya=b.formatDate,S,ma,y,N,K,X,k,F,ga,fa,xa,i,m,t,W,A,l,s,ca,oa,qa,pa,ta;tb(a.addClass("fc-grid"));t=new Pb(function(x,I){var aa,Q,na;ma.each(function(ha,ua){aa=o(ua);Q=aa.offset().left;if(ha)na[1]=Q;na=[Q];I[ha]=na});na[1]=Q+aa.outerWidth();N.each(function(ha,ua){if(ha<
i){aa=o(ua);Q=aa.offset().top;if(ha)na[1]=Q;na=[Q];x[ha]=na}});na[1]=Q+aa.outerHeight()});W=new Qb(t);A=new Rb(function(x){return k.eq(x)})}function qc(){function a(w,C){O(w);$(g(w),C)}function b(){L();ea().empty()}function g(w){var C=Y(),ba=Z(),U=G(j.visStart);ba=ja(G(U),ba);var u=o.map(w,Wa),p,z,c,E,H,T,da=[];for(p=0;p<C;p++){z=rb(qb(w,u,U,ba));for(c=0;c<z.length;c++){E=z[c];for(H=0;H<E.length;H++){T=E[H];T.row=p;T.level=c;da.push(T)}}ja(U,7);ja(ba,7)}return da}function d(w,C,ba){e(w)&&f(w,C);ba.isEnd&&
r(w)&&ia(w,C,ba);R(w,C)}function f(w,C){var ba=la(),U;C.draggable({zIndex:9,delay:50,opacity:q("dragOpacity"),revertDuration:q("dragRevertDuration"),start:function(u,p){h("eventDragStart",C,w,u,p);B(w,C);ba.start(function(z,c,E,H){C.draggable("option","revert",!z||!E&&!H);M();if(z){U=E*7+H*(q("isRTL")?-1:1);P(ja(G(w.start),U),ja(Wa(w),U))}else U=0},u,"drag")},stop:function(u,p){ba.stop();M();h("eventDragStop",C,w,u,p);if(U)ka(this,w,U,0,w.allDay,u,p);else{C.css("filter","");v(w,C)}}})}var j=this;
j.renderEvents=a;j.compileDaySegs=g;j.clearEvents=b;j.bindDaySeg=d;wb.call(j);var q=j.opt,h=j.trigger,e=j.isEventDraggable,r=j.isEventResizable,O=j.reportEvents,L=j.reportEventClear,R=j.eventElementHandlers,v=j.showEvents,B=j.hideEvents,ka=j.eventDrop,ea=j.getDaySegmentContainer,la=j.getHoverListener,P=j.renderDayOverlay,M=j.clearOverlays,Y=j.getRowCnt,Z=j.getColCnt,$=j.renderDaySegs,ia=j.resizableDayEvent}function rc(a,b){function g(h,e){e&&ja(h,e*7);h=ja(G(h),-((h.getDay()-f("firstDay")+7)%7));
e=ja(G(h),7);var r=G(h),O=G(e),L=f("weekends");if(!L){Ja(r);Ja(O,-1,true)}d.title=q(r,ja(G(O),-1),f("titleFormat"));d.start=h;d.end=e;d.visStart=r;d.visEnd=O;j(L?7:5)}var d=this;d.render=g;Sb.call(d,a,b,"agendaWeek");var f=d.opt,j=d.renderAgenda,q=b.formatDates}function sc(a,b){function g(h,e){if(e){ja(h,e);f("weekends")||Ja(h,e<0?-1:1)}e=G(h,true);var r=ja(G(e),1);d.title=q(h,f("titleFormat"));d.start=d.visStart=e;d.end=d.visEnd=r;j(1)}var d=this;d.render=g;Sb.call(d,a,b,"agendaDay");var f=d.opt,
j=d.renderAgenda,q=b.formatDate}function Sb(a,b,g){function d(n){Da=n;f();i?N():j();q()}function f(){Ya=ma("theme")?"ui":"fc";Tb=ma("weekends")?0:1;Ub=ma("firstDay");if(Vb=ma("isRTL")){Ka=-1;La=Da-1}else{Ka=1;La=0}Ma=pb(ma("minTime"));eb=pb(ma("maxTime"));Wb=ma("columnFormat")}function j(){var n=Ya+"-widget-header",V=Ya+"-widget-content",J,D,sa,za,Fa,Ga=ma("slotMinutes")%15==0;J="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+
n+"'>&nbsp;</th>";for(D=0;D<Da;D++)J+="<th class='fc- fc-col"+D+" "+n+"'/>";J+="<th class='fc-agenda-gutter "+n+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+n+"'>&nbsp;</th>";for(D=0;D<Da;D++)J+="<td class='fc- fc-col"+D+" "+V+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";J+="<td class='fc-agenda-gutter "+V+"'>&nbsp;</td></tr></tbody></table>";i=o(J).appendTo(a);m=i.find("thead");t=m.find("th").slice(1,-1);W=i.find("tbody");
A=W.find("td").slice(0,-1);l=A.find("div.fc-day-content div");s=A.eq(0);ca=s.find("> div");Sa(m.add(m.find("tr")));Sa(W.add(W.find("tr")));ha=m.find("th:first");ua=i.find(".fc-agenda-gutter");oa=o("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(ma("allDaySlot")){qa=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(oa);J="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+n+" fc-agenda-axis'>"+ma("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
n+" fc-agenda-gutter'>&nbsp;</th></tr></table>";pa=o(J).appendTo(oa);ta=pa.find("tr");R(ta.find("td"));ha=ha.add(pa.find("th:first"));ua=ua.add(pa.find("th.fc-agenda-gutter"));oa.append("<div class='fc-agenda-divider "+n+"'><div class='fc-agenda-divider-inner'/></div>")}else qa=o([]);x=o("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(oa);I=o("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(x);aa=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(I);
J="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";sa=Db();za=wa(G(sa),eb);wa(sa,Ma);for(D=xb=0;sa<za;D++){Fa=sa.getMinutes();J+="<tr class='fc-slot"+D+" "+(!Fa?"":"fc-minor")+"'><th class='fc-agenda-axis "+n+"'>"+(!Ga||!Fa?xa(sa,ma("axisFormat")):"&nbsp;")+"</th><td class='"+V+"'><div style='position:relative'>&nbsp;</div></td></tr>";wa(sa,ma("slotMinutes"));xb++}J+="</tbody></table>";Q=o(J).appendTo(I);na=Q.find("div:first");v(Q.find("td"));ha=ha.add(Q.find("th:first"))}
function q(){var n,V,J,D,sa=Ia(new Date);for(n=0;n<Da;n++){D=$(n);V=t.eq(n);V.html(xa(D,Wb));J=A.eq(n);+D==+sa?J.addClass(Ya+"-state-highlight fc-today"):J.removeClass(Ya+"-state-highlight fc-today");ub(V.add(J),D)}}function h(n,V){if(n===ra)n=Xb;Xb=n;yb={};var J=W.position().top,D=x.position().top;n=Math.min(n-J,Q.height()+D+1);ca.height(n-Ua(s));oa.css("top",J);x.height(n-D-1);Za=na.height()+1;V&&r()}function e(n){Ca=n;fb.clear();Na=0;Xa(ha.width("").each(function(V,J){Na=Math.max(Na,o(J).outerWidth())}),
Na);n=x[0].clientWidth;if(zb=x.width()-n){Xa(ua,zb);ua.show().prev().removeClass("fc-last")}else ua.hide().prev().addClass("fc-last");gb=Math.floor((n-Na)/Da);Xa(t.slice(0,-1),gb)}function r(){function n(){x.scrollTop(D)}var V=Db(),J=G(V);J.setHours(ma("firstHour"));var D=C(V,J)+1;n();setTimeout(n,0)}function O(){Yb=x.scrollTop()}function L(){x.scrollTop(Yb)}function R(n){n.click(B).mousedown(ga)}function v(n){n.click(B).mousedown(H)}function B(n){if(!ma("selectable")){var V=Math.min(Da-1,Math.floor((n.pageX-
i.offset().left-Na)/gb)),J=$(V),D=this.parentNode.className.match(/fc-slot(\d+)/);if(D){D=parseInt(D[1])*ma("slotMinutes");var sa=Math.floor(D/60);J.setHours(sa);J.setMinutes(D%60+Ma);y("dayClick",A[V],J,false,n)}else y("dayClick",A[V],J,true,n)}}function ka(n,V,J){J&&Oa.build();var D=G(S.visStart);if(Vb){J=Ba(V,D)*Ka+La+1;n=Ba(n,D)*Ka+La+1}else{J=Ba(n,D);n=Ba(V,D)}J=Math.max(0,J);n=Math.min(Da,n);J<n&&R(ea(0,J,0,n-1))}function ea(n,V,J,D){n=Oa.rect(n,V,J,D,oa);return K(n,oa)}function la(n,V){for(var J=
G(S.visStart),D=ja(G(J),1),sa=0;sa<Da;sa++){var za=new Date(Math.max(J,n)),Fa=new Date(Math.min(D,V));if(za<Fa){var Ga=sa*Ka+La;Ga=Oa.rect(0,Ga,0,Ga,I);za=C(J,za);Fa=C(J,Fa);Ga.top=za;Ga.height=Fa-za;v(K(Ga,I))}ja(J,1);ja(D,1)}}function P(n){return fb.left(n)}function M(n){return fb.right(n)}function Y(n){return{row:Math.floor(Ba(n,S.visStart)/7),col:w(n.getDay())}}function Z(n){var V=$(n.col);n=n.row;ma("allDaySlot")&&n--;n>=0&&wa(V,Ma+n*ma("slotMinutes"));return V}function $(n){return ja(G(S.visStart),
n*Ka+La)}function ia(n){return ma("allDaySlot")&&!n.row}function w(n){return(n-Math.max(Ub,Tb)+Da)%Da*Ka+La}function C(n,V){n=G(n,true);if(V<wa(G(n),Ma))return 0;if(V>=wa(G(n),eb))return Q.height();n=ma("slotMinutes");V=V.getHours()*60+V.getMinutes()-Ma;var J=Math.floor(V/n),D=yb[J];if(D===ra)D=yb[J]=Q.find("tr:eq("+J+") td div")[0].offsetTop;return Math.max(0,Math.round(D-1+Za*(V%n/n)))}function ba(){return{left:Na,right:Ca-zb}}function U(){return ta}function u(n){var V=G(n.start);if(n.allDay)return V;
return wa(V,ma("defaultEventMinutes"))}function p(n,V){if(V)return G(n);return wa(G(n),ma("slotMinutes"))}function z(n,V,J){if(J)ma("allDaySlot")&&ka(n,ja(G(V),1),true);else c(n,V)}function c(n,V){var J=ma("selectHelper");Oa.build();if(J){var D=Ba(n,S.visStart)*Ka+La;if(D>=0&&D<Da){D=Oa.rect(0,D,0,D,I);var sa=C(n,n),za=C(n,V);if(za>sa){D.top=sa;D.height=za-sa;D.left+=2;D.width-=5;if(o.isFunction(J)){if(n=J(n,V)){D.position="absolute";D.zIndex=8;va=o(n).css(D).appendTo(I)}}else{D.isStart=true;D.isEnd=
true;va=o(fa({title:"",start:n,end:V,className:["fc-select-helper"],editable:false},D));va.css("opacity",ma("dragOpacity"))}if(va){v(va);I.append(va);Xa(va,D.width,true);Hb(va,D.height,true)}}}}else la(n,V)}function E(){X();if(va){va.remove();va=null}}function H(n){if(n.which==1&&ma("selectable")){F(n);var V,J=ma("selectHelper");Ta.start(function(D,sa){E();if(D&&(D.col==sa.col||!J)&&!ia(D)){sa=Z(sa);D=Z(D);V=[sa,wa(G(sa),ma("slotMinutes")),D,wa(G(D),ma("slotMinutes"))].sort(Jb);c(V[0],V[3])}else V=
null},n);o(document).one("mouseup",function(D){Ta.stop();if(V){+V[0]==+V[1]&&T(V[0],false,D);k(V[0],V[3],false,D)}})}}function T(n,V,J){y("dayClick",A[w(n.getDay())],n,V,J)}function da(n,V){Ta.start(function(J){X();if(J)if(ia(J))ea(J.row,J.col,J.row,J.col);else{J=Z(J);var D=wa(G(J),ma("defaultEventMinutes"));la(J,D)}},V)}function ya(n,V,J){var D=Ta.stop();X();D&&y("drop",n,Z(D),ia(D),V,J)}var S=this;S.renderAgenda=d;S.setWidth=e;S.setHeight=h;S.beforeHide=O;S.afterShow=L;S.defaultEventEnd=u;S.timePosition=
C;S.dayOfWeekCol=w;S.dateCell=Y;S.cellDate=Z;S.cellIsAllDay=ia;S.allDayRow=U;S.allDayBounds=ba;S.getHoverListener=function(){return Ta};S.colContentLeft=P;S.colContentRight=M;S.getDaySegmentContainer=function(){return qa};S.getSlotSegmentContainer=function(){return aa};S.getMinMinute=function(){return Ma};S.getMaxMinute=function(){return eb};S.getBodyContent=function(){return I};S.getRowCnt=function(){return 1};S.getColCnt=function(){return Da};S.getColWidth=function(){return gb};S.getSlotHeight=
function(){return Za};S.defaultSelectionEnd=p;S.renderDayOverlay=ka;S.renderSelection=z;S.clearSelection=E;S.reportDayClick=T;S.dragStart=da;S.dragStop=ya;db.call(S,a,b,g);Nb.call(S);Ob.call(S);tc.call(S);var ma=S.opt,y=S.trigger,N=S.clearEvents,K=S.renderOverlay,X=S.clearOverlays,k=S.reportSelection,F=S.unselect,ga=S.daySelectionMousedown,fa=S.slotSegHtml,xa=b.formatDate,i,m,t,W,A,l,s,ca,oa,qa,pa,ta,x,I,aa,Q,na,ha,ua,va,Ca,Xb,Na,gb,zb,Za,Yb,Da,xb,Oa,Ta,fb,yb={},Ya,Ub,Tb,Vb,Ka,La,Ma,eb,Wb;tb(a.addClass("fc-agenda"));
Oa=new Pb(function(n,V){function J(hb){return Math.max(Ga,Math.min(uc,hb))}var D,sa,za;t.each(function(hb,vc){D=o(vc);sa=D.offset().left;if(hb)za[1]=sa;za=[sa];V[hb]=za});za[1]=sa+D.outerWidth();if(ma("allDaySlot")){D=ta;sa=D.offset().top;n[0]=[sa,sa+D.outerHeight()]}for(var Fa=I.offset().top,Ga=x.offset().top,uc=Ga+x.outerHeight(),ib=0;ib<xb;ib++)n.push([J(Fa+Za*ib),J(Fa+Za*(ib+1))])});Ta=new Qb(Oa);fb=new Rb(function(n){return l.eq(n)})}function tc(){function a(i,m){M(i);var t,W=i.length,A=[],l=
[];for(t=0;t<W;t++)i[t].allDay?A.push(i[t]):l.push(i[t]);if(B("allDaySlot")){c(g(A),m);$()}j(d(l),m);if(B("currentTimeIndicator")){window.clearInterval(xa);xa=window.setInterval(r,3E4);r()}}function b(){Y();ia().empty();w().empty()}function g(i){i=rb(qb(i,o.map(i,Wa),v.visStart,v.visEnd));var m,t=i.length,W,A,l,s=[];for(m=0;m<t;m++){W=i[m];for(A=0;A<W.length;A++){l=W[A];l.row=0;l.level=m;s.push(l)}}return s}function d(i){var m=H(),t=U(),W=ba(),A=wa(G(v.visStart),t),l=o.map(i,f),s,ca,oa,qa,pa,ta,x=
[];for(s=0;s<m;s++){ca=rb(qb(i,l,A,wa(G(A),W-t)));wc(ca);for(oa=0;oa<ca.length;oa++){qa=ca[oa];for(pa=0;pa<qa.length;pa++){ta=qa[pa];ta.col=s;ta.level=oa;x.push(ta)}}ja(A,1,true)}return x}function f(i){return i.end?G(i.end):wa(G(i.start),B("defaultEventMinutes"))}function j(i,m){var t,W=i.length,A,l,s,ca,oa,qa,pa,ta,x,I="",aa,Q,na={},ha={},ua=w(),va;t=H();var Ca=t>1;if(aa=B("isRTL")){Q=-1;va=t-1}else{Q=1;va=0}for(t=0;t<W;t++){A=i[t];l=A.event;s=u(A.start,A.start);ca=u(A.start,A.end);oa=A.col;qa=A.level;
pa=A.forward||0;ta=p(oa*Q+va);x=z(oa*Q+va)-ta;x=Math.min(x-6,x*0.95);oa=qa?x/(qa+pa+1):pa?Ca?(x/(pa+1)-6)*2:(oa=x/(pa+1)):x;qa=ta+x/(qa+pa+1)*qa*Q+(aa?x-oa:0);A.top=s;A.left=qa;A.outerWidth=oa-(Ca?0:1);A.outerHeight=ca-s;I+=q(l,A)}ua[0].innerHTML=I;aa=ua.children();for(t=0;t<W;t++){A=i[t];l=A.event;I=o(aa[t]);Q=ka("eventRender",l,l,I);if(Q===false)I.remove();else{if(Q&&Q!==true){I.remove();I=o(Q).css({position:"absolute",top:A.top,left:A.left}).appendTo(ua)}A.element=I;if(l._id===m)e(l,I,A);else I[0]._fci=
t;S(l,I)}}Gb(ua,i,e);for(t=0;t<W;t++){A=i[t];if(I=A.element){l=na[m=A.key=Lb(I[0])];A.vsides=l===ra?(na[m]=Ua(I,true)):l;l=ha[m];A.hsides=l===ra?(ha[m]=sb(I,true)):l;m=I.find("div.fc-event-content");if(m.length)A.contentTop=m[0].offsetTop}}for(t=0;t<W;t++){A=i[t];if(I=A.element){I[0].style.width=Math.max(0,A.outerWidth-A.hsides)+"px";na=Math.max(0,A.outerHeight-A.vsides);I[0].style.height=na+"px";l=A.event;if(A.contentTop!==ra&&na-A.contentTop<10){I.find("div.fc-event-time").text(ga(l.start,B("timeFormat"))+
" - "+l.title);I.find("div.fc-event-title").remove()}ka("eventAfterRender",l,l,I)}}}function q(i,m){var t="<",W=i.url,A=cb(i,B),l=A?" style='"+A+"'":"",s=["fc-event","fc-event-skin","fc-event-vert"];ea(i)&&s.push("fc-event-draggable");m.isStart&&s.push("fc-corner-top");m.isEnd&&s.push("fc-corner-bottom");s=s.concat(i.className);if(i.source)s=s.concat(i.source.className||[]);t+=W?"a href='"+Ea(i.url)+"'":"div";t+=" class='"+s.join(" ")+"' style='position:absolute;z-index:8;top:"+m.top+"px;left:"+m.left+
"px;"+A+"'><div class='fc-event-inner fc-event-skin'"+l+"><div class='fc-event-head fc-event-skin'"+l+"><div class='fc-event-time'>"+Ea(fa(i.start,i.end,B("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(i.title)+"</div></div><div class='fc-event-bg'></div></div>";if(m.isEnd&&la(i))t+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";t+="</"+(W?"a":"div")+">";return t}function h(i,m,t){ea(i)&&O(i,m,t.isStart);t.isEnd&&la(i)&&E(i,m,t);Z(i,m)}function e(i,
m,t){var W=m.find("div.fc-event-time");ea(i)&&L(i,m,W);t.isEnd&&la(i)&&R(i,m,W);Z(i,m)}function r(){var i=ya(),m=i.children(".fc-timeline");if(m.length==0)m=o("<hr>").addClass("fc-timeline").appendTo(i);var t=new Date;if(v.visStart<t&&v.visEnd>t){m.show();t=(t.getHours()*60*60+t.getMinutes()*60+t.getSeconds())/86400;m.css("top",Math.floor(i.height()*t-1)+"px");if(v.name=="agendaWeek"){t=o(".fc-today",v.element);i=t.position().left+1;t=t.width();m.css({left:i+"px",width:t+"px"})}}else m.hide()}function O(i,
m,t){function W(){if(!s){m.width(A).height("").draggable("option","grid",null);s=true}}var A,l,s=true,ca,oa=B("isRTL")?-1:1,qa=C(),pa=T(),ta=da(),x=U();m.draggable({zIndex:9,opacity:B("dragOpacity","month"),revertDuration:B("dragRevertDuration"),start:function(I,aa){ka("eventDragStart",m,i,I,aa);y(i,m);A=m.width();qa.start(function(Q,na,ha,ua){k();if(Q){l=false;ca=ua*oa;if(Q.row)if(t){if(s){m.width(pa-10);Hb(m,ta*Math.round((i.end?(i.end-i.start)/xc:B("defaultEventMinutes"))/B("slotMinutes")));m.draggable("option",
"grid",[pa,1]);s=false}}else l=true;else{X(ja(G(i.start),ca),ja(Wa(i),ca));W()}l=l||s&&!ca}else{W();l=true}m.draggable("option","revert",l)},I,"drag")},stop:function(I,aa){qa.stop();k();ka("eventDragStop",m,i,I,aa);if(l){W();m.css("filter","");ma(i,m)}else{var Q=0;s||(Q=Math.round((m.offset().top-ya().offset().top)/ta)*B("slotMinutes")+x-(i.start.getHours()*60+i.start.getMinutes()));N(this,i,ca,Q,s,I,aa)}}})}function L(i,m,t){function W(Q){var na=wa(G(i.start),Q),ha;if(i.end)ha=wa(G(i.end),Q);t.text(fa(na,
ha,B("timeFormat")))}function A(){if(s){t.css("display","");m.draggable("option","grid",[I,aa]);s=false}}var l,s=false,ca,oa,qa,pa=B("isRTL")?-1:1,ta=C(),x=H(),I=T(),aa=da();m.draggable({zIndex:9,scroll:false,grid:[I,aa],axis:x==1?"y":false,opacity:B("dragOpacity"),revertDuration:B("dragRevertDuration"),start:function(Q,na){ka("eventDragStart",m,i,Q,na);y(i,m);l=m.position();oa=qa=0;ta.start(function(ha,ua,va,Ca){m.draggable("option","revert",!ha);k();if(ha){ca=Ca*pa;if(B("allDaySlot")&&!ha.row){if(!s){s=
true;t.hide();m.draggable("option","grid",null)}X(ja(G(i.start),ca),ja(Wa(i),ca))}else A()}},Q,"drag")},drag:function(Q,na){oa=Math.round((na.position.top-l.top)/aa)*B("slotMinutes");if(oa!=qa){s||W(oa);qa=oa}},stop:function(Q,na){var ha=ta.stop();k();ka("eventDragStop",m,i,Q,na);if(ha&&(ca||oa||s))N(this,i,ca,s?0:oa,s,Q,na);else{A();m.css("filter","");m.css(l);W(0);ma(i,m)}}})}function R(i,m,t){var W,A,l=da();m.resizable({handles:{s:"div.ui-resizable-s"},grid:l,start:function(s,ca){W=A=0;y(i,m);
m.css("z-index",9);ka("eventResizeStart",this,i,s,ca)},resize:function(s,ca){W=Math.round((Math.max(l,m.height())-ca.originalSize.height)/l);if(W!=A){t.text(fa(i.start,!W&&!i.end?null:wa(P(i),B("slotMinutes")*W),B("timeFormat")));A=W}},stop:function(s,ca){ka("eventResizeStop",this,i,s,ca);if(W)K(this,i,0,B("slotMinutes")*W,s,ca);else{m.css("z-index",8);ma(i,m)}}})}var v=this;v.renderEvents=a;v.compileDaySegs=g;v.clearEvents=b;v.slotSegHtml=q;v.bindDaySeg=h;wb.call(v);var B=v.opt,ka=v.trigger,ea=v.isEventDraggable,
la=v.isEventResizable,P=v.eventEnd,M=v.reportEvents,Y=v.reportEventClear,Z=v.eventElementHandlers,$=v.setHeight,ia=v.getDaySegmentContainer,w=v.getSlotSegmentContainer,C=v.getHoverListener,ba=v.getMaxMinute,U=v.getMinMinute,u=v.timePosition,p=v.colContentLeft,z=v.colContentRight,c=v.renderDaySegs,E=v.resizableDayEvent,H=v.getColCnt,T=v.getColWidth,da=v.getSlotHeight,ya=v.getBodyContent,S=v.reportEventElement,ma=v.showEvents,y=v.hideEvents,N=v.eventDrop,K=v.eventResize,X=v.renderDayOverlay,k=v.clearOverlays,
F=v.calendar,ga=F.formatDate,fa=F.formatDates,xa}function wc(a){var b,g,d,f,j,q;for(b=a.length-1;b>0;b--){f=a[b];for(g=0;g<f.length;g++){j=f[g];for(d=0;d<a[b-1].length;d++){q=a[b-1][d];if(Fb(j,q))q.forward=Math.max(q.forward||0,(j.forward||0)+1)}}}}function db(a,b,g){function d(u,p){u=U[u];if(typeof u=="object"&&!u.length)return mb(u,p||g);return u}function f(u,p){return b.trigger.apply(b,[u,p||Y].concat(Array.prototype.slice.call(arguments,2),[Y]))}function j(u){return h(u)&&!d("disableDragging")}
function q(u){return h(u)&&!d("disableResizing")}function h(u){return Va(u.editable,(u.source||{}).editable,d("editable"))}function e(u){w={};var p,z=u.length,c;for(p=0;p<z;p++){c=u[p];if(w[c._id])w[c._id].push(c);else w[c._id]=[c]}}function r(u){return u.end?G(u.end):Z(u)}function O(u,p){C.push(p);if(ba[u._id])ba[u._id].push(p);else ba[u._id]=[p]}function L(){C=[];ba={}}function R(u,p){p.click(function(z){if(!p.hasClass("ui-draggable-dragging")&&!p.hasClass("ui-resizable-resizing"))return f("eventClick",
this,u,z)}).hover(function(z){f("eventMouseover",this,u,z)},function(z){f("eventMouseout",this,u,z)})}function v(u,p){ka(u,p,"show")}function B(u,p){ka(u,p,"hide")}function ka(u,p,z){u=ba[u._id];var c,E=u.length;for(c=0;c<E;c++)if(!p||u[c][0]!=p[0])u[c][z]()}function ea(u,p,z,c,E,H,T){var da=p.allDay,ya=p._id;P(w[ya],z,c,E);f("eventDrop",u,p,z,c,E,function(){P(w[ya],-z,-c,da);ia(ya)},H,T);ia(ya)}function la(u,p,z,c,E,H){var T=p._id;M(w[T],z,c);f("eventResize",u,p,z,c,function(){M(w[T],-z,-c);ia(T)},
E,H);ia(T)}function P(u,p,z,c){z=z||0;for(var E,H=u.length,T=0;T<H;T++){E=u[T];if(c!==ra)E.allDay=c;wa(ja(E.start,p,true),z);if(E.end)E.end=wa(ja(E.end,p,true),z);$(E,U)}}function M(u,p,z){z=z||0;for(var c,E=u.length,H=0;H<E;H++){c=u[H];c.end=wa(ja(r(c),p,true),z);$(c,U)}}var Y=this;Y.element=a;Y.calendar=b;Y.name=g;Y.opt=d;Y.trigger=f;Y.isEventDraggable=j;Y.isEventResizable=q;Y.reportEvents=e;Y.eventEnd=r;Y.reportEventElement=O;Y.reportEventClear=L;Y.eventElementHandlers=R;Y.showEvents=v;Y.hideEvents=
B;Y.eventDrop=ea;Y.eventResize=la;var Z=Y.defaultEventEnd,$=b.normalizeEvent,ia=b.reportEventChange,w={},C=[],ba={},U=b.options}function wb(){function a(y,N){var K=H(),X=w(),k=C(),F=0,ga,fa,xa=y.length,i,m,t,W,A=ka("maxHeight");K[0].innerHTML=d(y);f(y,K.children());j(y);q(y,K,N);h(y);e(y);r(y);N=O();for(K=0;K<X;K++){t=[];W={};ga=[];for(fa=0;fa<k;fa++){t[fa]=0;ga[fa]=0}for(;F<xa&&(i=y[F]).row==K;){fa=Kb(ga.slice(i.startCol,i.endCol));if(A&&fa+i.outerHeight>A)i.overflow=true;else{i.top=fa;fa+=i.outerHeight}for(m=
i.startCol;m<i.endCol;m++){if(t[m])i.overflow=true;if(i.overflow){if(i.isStart&&!W[m])W[m]={seg:i,top:fa,date:G(i.start,true),count:0};W[m]&&W[m].count++;t[m]++}else ga[m]=fa}F++}N[K].height(Kb(ga));b(W,N[K])}R(y,L(N))}function b(y,N){for(var K=H(),X=C(),k,F,ga=0;ga<X;ga++)if(F=y[ga])if(F.count>1){k=o("<a>").addClass("fc-more-link").html("+"+F.count).appendTo(K);k[0].style.position="absolute";k[0].style.left=F.seg.left+"px";k[0].style.top=F.top+N[0].offsetTop+"px";F=ea("overflowRender",F,{count:F.count,
date:F.date},k);F===false&&k.remove()}else{F.seg.top=F.top;F.seg.overflow=false}}function g(y,N,K){var X=o("<div/>"),k=H(),F=y.length,ga;X[0].innerHTML=d(y);X=X.children();k.append(X);f(y,X);h(y);e(y);r(y);R(y,L(O()));X=[];for(k=0;k<F;k++)if(ga=y[k].element){y[k].row===N&&ga.css("top",K);X.push(ga[0])}return o(X)}function d(y){var N=ka("isRTL"),K,X=y.length,k,F,ga,fa;K=U();var xa=K.left,i=K.right,m,t,W,A,l,s="";for(K=0;K<X;K++){k=y[K];F=k.event;fa=["fc-event","fc-event-skin","fc-event-hori"];la(F)&&
fa.push("fc-event-draggable");if(N){k.isStart&&fa.push("fc-corner-right");k.isEnd&&fa.push("fc-corner-left");m=z(k.end.getDay()-1);t=z(k.start.getDay());W=k.isEnd?u(m):xa;A=k.isStart?p(t):i}else{k.isStart&&fa.push("fc-corner-left");k.isEnd&&fa.push("fc-corner-right");m=z(k.start.getDay());t=z(k.end.getDay()-1);W=k.isStart?u(m):xa;A=k.isEnd?p(t):i}fa=fa.concat(F.className);if(F.source)fa=fa.concat(F.source.className||[]);ga=F.url;l=cb(F,ka);s+=ga?"<a href='"+Ea(ga)+"'":"<div";s+=" class='"+fa.join(" ")+
"' style='position:absolute;z-index:8;left:"+W+"px;"+l+"'><div class='fc-event-inner fc-event-skin'"+(l?" style='"+l+"'":"")+">";if(!F.allDay&&k.isStart)s+="<span class='fc-event-time'>"+Ea(da(F.start,F.end,ka("timeFormat")))+"</span>";s+="<span class='fc-event-title'>"+Ea(F.title)+"</span></div>";if(k.isEnd&&P(F))s+="<div class='ui-resizable-handle ui-resizable-"+(N?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";s+="</"+(ga?"a":"div")+">";k.left=W;k.outerWidth=A-W;k.startCol=m;k.endCol=t+1}return s}function f(y,
N){var K,X=y.length,k,F,ga;for(K=0;K<X;K++){k=y[K];F=k.event;ga=o(N[K]);F=ea("eventRender",F,F,ga);if(F===false)ga.remove();else{if(F&&F!==true){F=o(F).css({position:"absolute",left:k.left});ga.replaceWith(F);ga=F}k.element=ga}}}function j(y){var N,K=y.length,X,k;for(N=0;N<K;N++){X=y[N];(k=X.element)&&Y(X.event,k)}}function q(y,N,K){var X,k=y.length,F,ga,fa;for(X=0;X<k;X++){F=y[X];if(ga=F.element){fa=F.event;if(fa._id===K)T(fa,ga,F);else ga[0]._fci=X}}Gb(N,y,T)}function h(y){var N,K=y.length,X,k,
F,ga,fa={};for(N=0;N<K;N++){X=y[N];if(k=X.element){F=X.key=Lb(k[0]);ga=fa[F];if(ga===ra)ga=fa[F]=sb(k,true);X.hsides=ga}}}function e(y){var N,K=y.length,X,k;for(N=0;N<K;N++){X=y[N];if(k=X.element)k[0].style.width=Math.max(0,X.outerWidth-X.hsides)+"px"}}function r(y){var N,K=y.length,X,k,F,ga,fa={};for(N=0;N<K;N++){X=y[N];if(k=X.element){F=X.key;ga=fa[F];if(ga===ra)ga=fa[F]=Ib(k);X.outerHeight=k[0].offsetHeight+ga}else X.outerHeight=0}}function O(){var y,N=w(),K=[];for(y=0;y<N;y++)K[y]=ba(y).find("td:first div.fc-day-content > div");
return K}function L(y){var N,K=y.length,X=[];for(N=0;N<K;N++)X[N]=y[N][0].offsetTop;return X}function R(y,N){var K,X=y.length,k,F;for(K=0;K<X;K++){k=y[K];if((F=k.element)&&!k.overflow){F[0].style.top=N[k.row]+(k.top||0)+"px";k=k.event;ea("eventAfterRender",k,k,F)}else F&&F.hide()}}function v(y,N,K){var X=ka("isRTL"),k=X?"w":"e",F=N.find("div.ui-resizable-"+k),ga=false;tb(N);N.mousedown(function(fa){fa.preventDefault()}).click(function(fa){if(ga){fa.preventDefault();fa.stopImmediatePropagation()}});
F.mousedown(function(fa){function xa(pa){ea("eventResizeStop",this,y,pa);o("body").css("cursor","");i.stop();S();s&&ia(this,y,s,0,pa);setTimeout(function(){ga=false},0)}if(fa.which==1){ga=true;var i=B.getHoverListener(),m=w(),t=C(),W=X?-1:1,A=X?t-1:0,l=N.css("top"),s,ca,oa=o.extend({},y),qa=c(y.start);ma();o("body").css("cursor",k+"-resize").one("mouseup",xa);ea("eventResizeStart",this,y,fa);i.start(function(pa,ta){if(pa){var x=Math.max(qa.row,pa.row);pa=pa.col;if(m==1)x=0;if(x==qa.row)pa=X?Math.min(qa.col,
pa):Math.max(qa.col,pa);s=x*7+pa*W+A-(ta.row*7+ta.col*W+A);ta=ja(M(y),s,true);if(s){oa.end=ta;x=ca;ca=g(E([oa]),K.row,l);ca.find("*").css("cursor",k+"-resize");x&&x.remove();$(y)}else if(ca){Z(y);ca.remove();ca=null}S();ya(y.start,ja(G(ta),1))}},fa)}})}var B=this;B.renderDaySegs=a;B.resizableDayEvent=v;var ka=B.opt,ea=B.trigger,la=B.isEventDraggable,P=B.isEventResizable,M=B.eventEnd,Y=B.reportEventElement,Z=B.showEvents,$=B.hideEvents,ia=B.eventResize,w=B.getRowCnt,C=B.getColCnt,ba=B.allDayRow,U=
B.allDayBounds,u=B.colContentLeft,p=B.colContentRight,z=B.dayOfWeekCol,c=B.dateCell,E=B.compileDaySegs,H=B.getDaySegmentContainer,T=B.bindDaySeg,da=B.calendar.formatDates,ya=B.renderDayOverlay,S=B.clearOverlays,ma=B.clearSelection}function Ob(){function a(L,R,v){b();R||(R=h(L,v));e(L,R,v);g(L,R,v)}function b(L){if(O){O=false;r();q("unselect",null,L)}}function g(L,R,v,B){O=true;q("select",null,L,R,v,B)}function d(L){var R=f.cellDate,v=f.cellIsAllDay,B=f.getHoverListener(),ka=f.reportDayClick;if(L.which==
1&&j("selectable")){b(L);var ea;B.start(function(la,P){r();if(la&&v(la)){ea=[R(P),R(la)].sort(Jb);e(ea[0],ea[1],true)}else ea=null},L);o(document).one("mouseup",function(la){B.stop();if(ea){+ea[0]==+ea[1]&&ka(ea[0],true,la);g(ea[0],ea[1],true,la)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=g;f.daySelectionMousedown=d;var j=f.opt,q=f.trigger,h=f.defaultSelectionEnd,e=f.renderSelection,r=f.clearSelection,O=false;j("selectable")&&j("unselectAuto")&&o(document).mousedown(function(L){var R=
j("unselectCancel");if(R)if(o(L.target).parents(R).length)return;b(L)})}function Nb(){function a(j,q){var h=f.shift();h||(h=o("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));h[0].parentNode!=q[0]&&h.appendTo(q);d.push(h.css(j).show());return h}function b(){for(var j;j=d.shift();)f.push(j.hide().unbind())}var g=this;g.renderOverlay=a;g.clearOverlays=b;var d=[],f=[]}function Pb(a){var b=this,g,d;b.build=function(){g=[];d=[];a(g,d)};b.cell=function(f,j){var q=g.length,h=d.length,
e,r=-1,O=-1;for(e=0;e<q;e++)if(j>=g[e][0]&&j<g[e][1]){r=e;break}for(e=0;e<h;e++)if(f>=d[e][0]&&f<d[e][1]){O=e;break}return r>=0&&O>=0?{row:r,col:O}:null};b.rect=function(f,j,q,h,e){e=e.offset();return{top:g[f][0]-e.top,left:d[j][0]-e.left,width:d[h][1]-d[j][0],height:g[q][1]-g[f][0]}}}function Qb(a){function b(h){yc(h);h=a.cell(h.pageX,h.pageY);if(!h!=!q||h&&(h.row!=q.row||h.col!=q.col)){if(h){j||(j=h);f(h,j,h.row-j.row,h.col-j.col)}else f(h,j);q=h}}var g=this,d,f,j,q;g.start=function(h,e,r){f=h;
j=q=null;a.build();b(e);d=r||"mousemove";o(document).bind(d,b)};g.stop=function(){o(document).unbind(d,b);return q}}function yc(a){if(a.pageX===ra){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Rb(a){function b(q){return d[q]=d[q]||a(q)}var g=this,d={},f={},j={};g.left=function(q){return f[q]=f[q]===ra?b(q).position().left:f[q]};g.right=function(q){return j[q]=j[q]===ra?g.left(q)+b(q).width():j[q]};g.clear=function(){d={};f={};j={}}}function Zb(){function a(){L();B().empty()}
function b(P,M){P.sort(d);O(P);f(g(P),M)}function g(P){var M=[],Y=e("titleFormat","day"),Z=e("firstDay"),$=e("listSections"),ia,w,C,ba,U,u,p,z=-1,c=Ia(new Date),E=ja(G(c),-((c.getDay()-Z+7)%7));for(ia=0;ia<P.length;ia++){Z=P[ia];if(!((Z.end||Z.start)<h.start||Z.start>h.visEnd)){p=G(Z.start<h.start&&Z.end>h.start?h.start:Z.start,true);w=Ba(p,c);C=Math.floor(Ba(p,E)/7);ba=p.getMonth()+(p.getYear()-c.getYear())*12-c.getMonth();if($=="smart")if(w<0)U=e("listTexts","past");else if(w==0)U=e("listTexts",
"today");else if(w==1)U=e("listTexts","tomorrow");else if(C==0)U=e("listTexts","thisWeek");else if(C==1)U=e("listTexts","nextWeek");else if(ba==0)U=e("listTexts","thisMonth");else if(ba==1)U=e("listTexts","nextMonth");else{if(ba>1)U=e("listTexts","future")}else U=$=="month"?ea(p,"MMMM yyyy"):$=="week"?e("listTexts","week")+ea(p," W"):$=="day"?ea(p,Y):"";if(U!=u){M[++z]={events:[],start:p,title:U,daydiff:w,weekdiff:C,monthdiff:ba};u=U}M[z].events.push(Z)}}return M}function d(P,M){return P.start.getTime()-
M.start.getTime()||(P.end?P.end.getTime():0)-(M.end?M.end.getTime():0)}function f(P,M){var Y=e("theme")?"ui":"fc",Z=Y+"-widget-header";Y=Y+"-widget-content";var $,ia,w,C,ba,U,u,p,z;for(ia=0;ia<P.length;ia++){w=P[ia];w.title&&o('<div class="fc-list-header '+Z+'">'+Ea(w.title)+"</div>").appendTo(B());z=o("<div>").addClass("fc-list-section "+Y).appendTo(B());U="";for($=0;$<w.events.length;$++){C=w.events[$];ba=j(C,w);u=(u=cb(C,e))?" style='"+u+"'":"";p=["fc-event","fc-event-skin","fc-event-vert","fc-corner-top",
"fc-corner-bottom"].concat(C.className);if(C.source&&C.source.className)p=p.concat(C.source.className);U+="<div class='"+p.join(" ")+"'"+u+"><div class='fc-event-inner fc-event-skin'"+u+"><div class='fc-event-head fc-event-skin'"+u+"><div class='fc-event-time'>"+(ba[0]?'<span class="fc-col-date">'+ba[0]+"</span> ":"")+(ba[1]?'<span class="fc-col-time">'+ba[1]+"</span>":"")+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(C.title)+"</div></div><div class='fc-event-bg'></div></div></div>"}z[0].innerHTML=
U;U=z.children();for($=0;$<w.events.length;$++){C=w.events[$];ba=o(U[$]);u=r("eventRender",C,C,ba);if(u===false)ba.remove();else{if(u&&u!==true){ba.remove();ba=o(u).appendTo(z)}if(C._id===M)v(C,ba,w);else ba[0]._fci=$;R(C,ba)}}q(z,w,v)}Sa(B())}function j(P,M){var Y=e("timeFormat"),Z=e("columnFormat"),$=e("listSections"),ia=P.end?P.end.getTime()-P.start.getTime():0,w="",C="";if($=="smart")if(P.start<M.start)w=e("listTexts","until")+" "+ea(P.end,P.allDay||P.end.getDate()!=M.start.getDate()?Z:Y);else if(ia>
Qa)w=la(P.start,P.end,Z+"{ - "+Z+"}");else if(M.daydiff==0)w=e("listTexts","today");else if(M.daydiff==1)w=e("listTexts","tomorrow");else if(M.weekdiff==0||M.weekdiff==1)w=ea(P.start,"dddd");else{if(M.daydiff>1||M.daydiff<0)w=ea(P.start,Z)}else if($!="day")w=la(P.start,P.end,Z+(ia>Qa?"{ - "+Z+"}":""));if(!w&&P.allDay)C=e("allDayText");else if((ia<Qa||!w)&&!P.allDay)C=la(P.start,P.end,Y);return[w,C]}function q(P,M,Y){P.unbind("mouseover").mouseover(function(Z){for(var $=Z.target,ia=$;$!=this;){ia=
$;$=$.parentNode}if(($=ia._fci)!==ra){ia._fci=ra;ia=M.events[$];Y(ia,P.children().eq($),M);o(Z.target).trigger(Z)}Z.stopPropagation()})}var h=this;h.renderEvents=b;h.renderEventTime=j;h.compileDaySegs=g;h.clearEvents=a;h.lazySegBind=q;h.sortCmp=d;wb.call(h);var e=h.opt,r=h.trigger,O=h.reportEvents,L=h.reportEventClear,R=h.reportEventElement,v=h.eventElementHandlers,B=h.getDaySegmentContainer,ka=h.calendar,ea=ka.formatDate,la=ka.formatDates}function zc(a,b){function g(la,P){P&&ja(la,r("listPage")*
P);e.start=e.visStart=G(la,true);e.end=ja(G(e.start),r("listPage"));e.visEnd=ja(G(e.start),r("listRange"));wa(e.visEnd,-1);e.title=L(la,e.visEnd,r("titleFormat"));d();R?O():f()}function d(){v=r("firstDay");B=r("weekends")?0:1;ka=r("theme")?"ui":"fc";ea=r("columnFormat","day")}function f(){R=o("<div>").addClass("fc-list-content").appendTo(a)}function j(la){r("listNoHeight")||R.css("height",la-1+"px").css("overflow","auto")}function q(){}function h(){}var e=this;e.render=g;e.select=h;e.unselect=h;e.getDaySegmentContainer=
function(){return R};db.call(e,a,b,"list");Zb.call(e);var r=e.opt,O=e.clearEvents,L=b.formatDates;e.setWidth=q;e.setHeight=j;var R,v,B,ka,ea}function Ac(){function a(){r();v().children("tbody").remove()}function b(ka,ea){ka.sort(j);e(ka);g(h(ka),ea);v().removeClass("fc-list-smart fc-list-day fc-list-month fc-list-week").addClass("fc-list-"+f("listSections"))}function g(ka,ea){var la=f("theme")?"ui":"fc",P=v(),M=la+"-widget-header";la=la+"-widget-content";var Y=f("tableCols"),Z=o.inArray("time",Y)>=
0,$,ia,w,C,ba,U,u,p,z,c;for(ia=0;ia<ka.length;ia++){w=ka[ia];w.title&&o('<tbody class="fc-list-header"><tr><td class="fc-list-header '+M+'" colspan="'+Y.length+'">'+Ea(w.title)+"</td></tr></tbody>").appendTo(P);c=o("<tbody>").addClass("fc-list-section "+la).appendTo(P);U="";for($=0;$<w.events.length;$++){C=w.events[$];ba=R(C,w);u=(u=cb(C,f))?" style='"+u+"'":"";p=["fc-event-skin","fc-corner-left","fc-corner-right","fc-corner-top","fc-corner-bottom"].concat(C.className);if(C.source&&C.source.className)p=
p.concat(C.source.className);z=["fc-event","fc-event-row","fc-"+Mb[C.start.getDay()]];w.daydiff==0&&z.push("fc-today");U+="<tr class='"+z.join(" ")+"'>";for(var E=0;E<Y.length;E++){z=Y[E];if(z=="handle")U+="<td class='fc-event-handle'><div class='"+p.join(" ")+"'"+u+"><span class='fc-event-inner'></span></div></td>";else if(z=="date")U+="<td class='fc-event-date' colspan='"+(ba[1]||!Z?1:2)+"'>"+Ea(ba[0])+"</td>";else if(z=="time"){if(ba[1])U+="<td class='fc-event-time'>"+Ea(ba[1])+"</td>"}else U+=
"<td class='fc-event-"+z+"'>"+(C[z]?Ea(C[z]):"&nbsp;")+"</td>"}U+="</tr>";if(document.all){o(U).appendTo(c);U=""}}if(!document.all)c[0].innerHTML=U;ba=c.children();for($=0;$<w.events.length;$++){C=w.events[$];U=o(ba[$]);u=q("eventRender",C,C,U);if(u===false)U.remove();else{if(u&&u!==true){U.remove();U=o(u).appendTo(c)}if(C._id===ea)L(C,U,w);else U[0]._fci=$;O(C,U)}}B(c,w,L);Sa(c)}}var d=this;Zb.call(d);var f=d.opt,j=d.sortCmp,q=d.trigger,h=d.compileDaySegs,e=d.reportEvents,r=d.reportEventClear,O=
d.reportEventElement,L=d.eventElementHandlers,R=d.renderEventTime,v=d.getDaySegmentContainer,B=d.lazySegBind;d.renderEvents=b;d.clearEvents=a}function Bc(a,b){function g(M,Y){Y&&ja(M,r("listPage")*Y);e.start=e.visStart=G(M,true);e.end=ja(G(e.start),r("listPage"));e.visEnd=ja(G(e.start),r("listRange"));wa(e.visEnd,-1);e.title=e.visEnd.getTime()-e.visStart.getTime()<Qa?R(M,r("titleFormat")):L(M,e.visEnd,r("titleFormat"));d();B?O():f()}function d(){ka=r("firstDay");ea=r("weekends")?0:1;la=r("theme")?
"ui":"fc";P=r("columnFormat")}function f(){for(var M=r("tableCols"),Y="<table class='fc-border-separate' style='width:100%' cellspacing='0'><colgroup>",Z=0;Z<M.length;Z++)Y+="<col class='fc-event-"+M[Z]+"' />";Y+="</colgroup></table>";v=o("<div>").addClass("fc-list-content").appendTo(a);B=o(Y).appendTo(v)}function j(M){r("listNoHeight")||v.css("height",M-1+"px").css("overflow","auto")}function q(){}function h(){}var e=this;e.render=g;e.select=h;e.unselect=h;e.getDaySegmentContainer=function(){return B};
db.call(e,a,b,"table");Ac.call(e);var r=e.opt,O=e.clearEvents,L=b.formatDates,R=b.formatDate;e.setWidth=q;e.setHeight=j;var v,B,ka,ea,la,P}var $a={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,currentTimeIndicator:false,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",list:"MMM d, yyyy",table:"MMM d, yyyy"},
columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d",list:"dddd, MMM d, yyyy",table:"MMM d, yyyy"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],
buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",list:"list",table:"table"},listTexts:{until:"until",past:"Past events",today:"Today",tomorrow:"Tomorrow",thisWeek:"This week",nextWeek:"Next week",thisMonth:"This month",nextMonth:"Next month",future:"Future events",week:"W"},listSections:"month",listRange:30,listPage:7,tableCols:["handle","date","time","title"],theme:false,
buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Cc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=o.fullCalendar={version:"1.5.3-rcube-0.7.1"},Ha=Aa.views={};o.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,
1),g;this.each(function(){var f=o.data(this,"fullCalendar");if(f&&o.isFunction(f[a])){f=f[a].apply(f,b);if(g===ra)g=f;a=="destroy"&&o.removeData(this,"fullCalendar")}});if(g!==ra)return g;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=o.extend(true,{},$a,a.isRTL||a.isRTL===ra&&$a.isRTL?Cc:{},a);this.each(function(f,j){f=o(j);j=new $b(f,a,d);f.data("fullCalendar",j);j.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var cc=
{dataType:"json",cache:false},dc=1;Aa.addDays=ja;Aa.cloneDate=G;Aa.parseDate=nb;Aa.parseISO8601=Eb;Aa.parseTime=pb;Aa.formatDate=Pa;Aa.formatDates=lb;var Mb=["sun","mon","tue","wed","thu","fri","sat"],Qa=864E5,ec=36E5,xc=6E4,fc={s:function(a){return a.getSeconds()},ss:function(a){return Ra(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ra(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ra(a.getHours()%12||12)},H:function(a){return a.getHours()},
HH:function(a){return Ra(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ra(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ra(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},
t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Pa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"},W:function(a){return Dc(a)}},Dc=function(a){a=G(a);a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-
a)/864E5)/7)+1};Aa.applyAll=bb;Ha.month=nc;Ha.basicWeek=oc;Ha.basicDay=pc;Ab({weekMode:"fixed"});Ha.agendaWeek=rc;Ha.agendaDay=sc;Ab({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ha.list=zc;Ha.table=Bc})(jQuery);
